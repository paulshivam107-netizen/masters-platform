* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scrollbar-gutter: stable;
}

:root {
  --font-body: "Manrope", "Inter", "Segoe UI", -apple-system, BlinkMacSystemFont, sans-serif;
  --font-heading: "Sora", "Manrope", "Inter", "Segoe UI", -apple-system, BlinkMacSystemFont, sans-serif;
  --mint-bg: #aee3d1;
  --window-bg: #f6f2ef;
  --panel: #ece6e0;
  --panel-soft: #f2eeea;
  --ink: #131217;
  --ink-soft: #5a5560;
  --line: rgba(20, 18, 23, 0.09);
  --shadow-lg: 0 26px 60px rgba(35, 34, 41, 0.14);
  --shadow-md: 0 10px 24px rgba(35, 34, 41, 0.09);
  --pill-black: #121117;
  --pill-purple: #8d70d8;
  --pill-red: #ff5f66;
  --new-btn-hover-bg: #2e3748;
  --new-btn-hover-border: rgba(255, 255, 255, 0.18);
  --new-btn-hover-text: #f2f5ff;
  --new-btn-active-bg: #263041;
}

body {
  min-height: 100vh;
  background: var(--mint-bg);
  color: var(--ink);
  font-family: var(--font-body);
  margin: 0;
  padding: 0;
}

button,
input,
select,
textarea {
  font-family: inherit;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-heading);
  letter-spacing: -0.01em;
}

body.dark-body {
  background: #151b24;
}

.loading-screen {
  min-height: 100vh;
  display: grid;
  place-items: center;
  color: var(--ink);
  font-size: 1.1rem;
}

.App {
  position: relative;
  width: 100vw;
  min-width: 100vw;
  max-width: 100vw;
  height: 100vh;
  min-height: 100vh;
  background: var(--window-bg);
  border-radius: 0;
  box-shadow: none;
  border: 0;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.auth-page-shell {
  position: relative;
}

.global-theme-toggle {
  position: fixed;
  top: 18px;
  right: 20px;
  z-index: 2000;
  border: 1px solid rgba(20, 18, 23, 0.14);
  background: rgba(255, 255, 255, 0.9);
  color: #2a2432;
  border-radius: 999px;
  min-height: 40px;
  padding: 0 14px;
  font-size: 0.9rem;
  font-weight: 700;
  cursor: pointer;
  backdrop-filter: blur(8px);
  transition: transform 0.2s ease, background 0.2s ease, box-shadow 0.2s ease;
  box-shadow: 0 8px 20px rgba(22, 18, 30, 0.12);
}

.global-theme-toggle:hover {
  transform: translateY(-1px);
  background: #fff;
}

.App .global-theme-toggle {
  position: fixed;
  top: 16px;
  right: 20px;
  z-index: 2100;
}

.app-layout {
  flex: 1;
  display: grid;
  grid-template-columns: 96px minmax(0, 1fr) 360px;
  gap: 18px;
  padding: 18px;
  min-height: 0;
}

.nav-sidebar {
  position: relative;
  background: var(--panel);
  border-radius: 22px;
  padding: 14px 10px;
  border: 1px solid rgba(20, 18, 23, 0.08);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
}

.sidebar-top-controls {
  width: 100%;
  display: flex;
  justify-content: center;
  margin-bottom: 10px;
}

.nav-icons-compact {
  gap: 8px;
  width: 100%;
  max-height: calc(100% - 132px);
  overflow-y: auto;
  padding-right: 2px;
}

.nav-burger {
  background: #f8f5f2;
}

.sidebar-logo {
  width: 52px;
  height: 52px;
  border-radius: 18px;
  background: #f8f5f2;
  display: grid;
  place-items: center;
  font-size: 1.35rem;
  box-shadow: inset 0 0 0 1px rgba(15, 14, 18, 0.08);
}

.nav-icons {
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

.nav-icon,
.user-avatar-small {
  width: 46px;
  height: 46px;
  border-radius: 14px;
  border: 1px solid rgba(20, 18, 23, 0.12);
  background: rgba(255, 255, 255, 0.66);
  cursor: pointer;
  color: #2b2830;
  display: grid;
  place-items: center;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, border-color 0.2s ease;
  box-shadow: none;
}

.nav-icon-glyph {
  display: grid;
  place-items: center;
}

.nav-icon-svg {
  width: 20px;
  height: 20px;
}

.nav-icon:hover,
.user-avatar-small:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.92);
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.1);
}

.nav-icon.active,
.user-avatar-small.active {
  background: var(--pill-black);
  color: #fff;
  border-color: transparent;
}

.nav-icon:focus-visible,
.user-avatar-small:focus-visible {
  outline: 2px solid #8d70d8;
  outline-offset: 2px;
}

.user-avatar-small {
  font-size: 1.18rem;
}

.nav-settings {
  margin-top: auto;
}

.nav-drawer {
  position: absolute;
  left: calc(100% + 10px);
  top: 10px;
  bottom: 10px;
  width: 214px;
  border-radius: 18px;
  border: 1px solid rgba(20, 18, 23, 0.12);
  background: rgba(244, 240, 236, 0.97);
  box-shadow: 0 20px 40px rgba(25, 19, 33, 0.16);
  padding: 10px;
  z-index: 90;
  backdrop-filter: blur(8px);
  display: flex;
  flex-direction: column;
  gap: 10px;
  opacity: 0;
  transform: translateX(-10px) scale(0.985);
  pointer-events: none;
  visibility: hidden;
  transition: transform 0.22s ease, opacity 0.22s ease, visibility 0.22s ease;
}

.nav-drawer.open {
  opacity: 1;
  transform: translateX(0) scale(1);
  pointer-events: auto;
  visibility: visible;
}

.nav-drawer-list {
  display: grid;
  gap: 8px;
  overflow-y: auto;
  padding-right: 2px;
}

.nav-drawer-footer {
  margin-top: auto;
  padding-top: 8px;
  border-top: 1px solid rgba(20, 18, 23, 0.12);
}

.nav-drawer-item-settings {
  width: 100%;
}

.nav-drawer-item {
  border: 1px solid rgba(20, 18, 23, 0.12);
  border-radius: 13px;
  background: rgba(255, 255, 255, 0.84);
  color: #2e2835;
  min-height: 42px;
  padding: 9px 12px;
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  font-size: 0.92rem;
  font-weight: 650;
}

.nav-drawer-item:hover {
  background: rgba(255, 255, 255, 0.98);
  border-color: rgba(141, 112, 216, 0.45);
}

.nav-drawer-item.active {
  background: #111826;
  color: #fff;
  border-color: transparent;
}

.main-content {
  min-width: 0;
  min-height: 0;
  overflow-y: scroll;
  overflow-x: hidden;
  scrollbar-gutter: stable;
  border-radius: 22px;
  padding: 14px;
  background: var(--panel-soft);
  border: 1px solid rgba(20, 18, 23, 0.08);
}

.content-header {
  margin-bottom: 14px;
  padding: 4px 2px 10px;
}

.content-header h1 {
  font-size: clamp(1.9rem, 3.8vw, 3.5rem);
  line-height: 0.98;
  letter-spacing: -0.03em;
  font-weight: 600;
  color: #111016;
}

.header-subtitle {
  margin-top: 12px;
  color: #6a6570;
  font-size: 1rem;
}

.workspace-area {
  display: grid;
  gap: 14px;
}

.home-dashboard {
  display: grid;
  gap: 14px;
}

.application-home-panel {
  display: grid;
  gap: 14px;
}

.home-welcome-card,
.home-metric-card,
.home-tips-card,
.settings-card,
.essay-section,
.versions-panel,
.essay-header,
.review-section,
.essay-form {
  border-radius: 20px;
  background: #fff;
  border: 1px solid var(--line);
  box-shadow: var(--shadow-md);
}

.home-welcome-card {
  padding: 20px;
}

.home-welcome-card h2 {
  font-size: 1.5rem;
  margin-bottom: 8px;
}

.home-welcome-card p {
  color: var(--ink-soft);
  margin-bottom: 14px;
}

.home-metrics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
}

.home-metric-card {
  padding: 16px;
  background: linear-gradient(180deg, #fff, #faf7f4);
}

.home-metric-card h3 {
  font-size: 0.88rem;
  color: #686270;
  margin-bottom: 6px;
}

.home-metric-card p {
  font-size: 1.3rem;
  font-weight: 650;
}

.home-tips-card {
  padding: 18px;
}

.home-tips-card h3 {
  margin-bottom: 10px;
}

.home-tips-card p {
  color: var(--ink-soft);
  margin-bottom: 4px;
}

.application-essay-list-card {
  border-radius: 20px;
  background: #fff;
  border: 1px solid var(--line);
  box-shadow: var(--shadow-md);
  padding: 18px;
}

.application-essay-list-card h3 {
  margin-bottom: 10px;
}

.application-essay-list-card p {
  color: var(--ink-soft);
}

.application-essay-list {
  display: grid;
  gap: 8px;
}

.application-essay-item {
  border: 1px solid rgba(17, 16, 22, 0.12);
  background: #faf7f4;
  color: #2f2a33;
  border-radius: 14px;
  padding: 10px 12px;
  text-align: left;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  cursor: pointer;
}

.application-essay-item small {
  color: #6a6470;
}

.application-essay-item.active,
.application-essay-item:hover {
  border-color: rgba(141, 112, 216, 0.42);
  background: #f4efff;
}

.settings-panel {
  display: grid;
  gap: 12px;
}

.settings-panel h2 {
  font-size: 1.7rem;
}

.settings-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}

.settings-card {
  padding: 16px;
}

.settings-card h3 {
  margin-bottom: 8px;
}

.settings-card p {
  color: var(--ink-soft);
  margin-bottom: 5px;
}

.profile-settings-form {
  margin-top: 10px;
}

.settings-reminders-list {
  margin-top: 10px;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid rgba(17, 16, 22, 0.12);
  background: #faf7f4;
}

.settings-reminders-list p {
  margin-bottom: 6px;
}

.settings-card-wide {
  grid-column: 1 / -1;
}

.tracker-panel {
  display: grid;
  gap: 12px;
}

.deadlines-panel,
.requirements-panel,
.docs-panel {
  display: grid;
  gap: 12px;
}

.timeline-card {
  display: grid;
  gap: 10px;
}

.timeline-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}

.timeline-controls {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: #5a5560;
  font-weight: 600;
}

.timeline-nav-btn {
  width: auto;
  min-height: 36px;
  border-radius: 12px;
  padding: 6px 12px;
}

.timeline-grid {
  display: grid;
  grid-template-columns: repeat(7, minmax(0, 1fr));
  gap: 8px;
}

.timeline-weekday {
  font-size: 0.78rem;
  font-weight: 700;
  color: #6d6875;
  text-align: center;
}

.timeline-day-cell {
  border: 1px solid rgba(17, 16, 22, 0.12);
  border-radius: 12px;
  min-height: 88px;
  background: #faf7f4;
  padding: 7px;
  display: grid;
  align-content: flex-start;
  gap: 6px;
}

.timeline-day-cell.empty {
  border-style: dashed;
  opacity: 0.35;
}

.timeline-day-cell.has-deadline {
  border-color: rgba(141, 112, 216, 0.4);
  background: #f5f0ff;
}

.timeline-day-number {
  font-size: 0.8rem;
  font-weight: 700;
  color: #433f49;
}

.timeline-day-events {
  display: grid;
  gap: 4px;
}

.timeline-event-chip {
  border: none;
  border-radius: 9px;
  background: #111826;
  color: #fff;
  font-size: 0.72rem;
  line-height: 1.2;
  padding: 5px 7px;
  text-align: left;
  cursor: pointer;
}

.timeline-more {
  font-size: 0.7rem;
  color: #6a6472;
}

.insights-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
  gap: 12px;
}

.insight-card {
  border-radius: 20px;
  background: #fff;
  border: 1px solid var(--line);
  box-shadow: var(--shadow-md);
  padding: 16px;
}

.insight-card h3 {
  font-size: 0.88rem;
  color: #686270;
  margin-bottom: 6px;
}

.insight-card p {
  font-size: 1.3rem;
  font-weight: 650;
}

.detail-list-card {
  border-radius: 20px;
  background: #fff;
  border: 1px solid var(--line);
  box-shadow: var(--shadow-md);
  padding: 16px;
}

.detail-list-card h3 {
  margin-bottom: 10px;
}

.detail-list-card p {
  color: var(--ink-soft);
}

.detail-list {
  display: grid;
  gap: 8px;
}

.detail-item {
  border: 1px solid rgba(17, 16, 22, 0.12);
  background: #faf7f4;
  border-radius: 14px;
  padding: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  cursor: pointer;
}

.detail-item:hover {
  border-color: rgba(141, 112, 216, 0.4);
  background: #f4efff;
}

.detail-item-main {
  display: grid;
  gap: 4px;
}

.detail-item-main span {
  color: #5d5864;
  font-size: 0.92rem;
}

.detail-item-meta {
  display: flex;
  align-items: center;
  gap: 10px;
  color: #5d5864;
  font-size: 0.9rem;
}

.requirements-meta {
  flex-wrap: wrap;
  justify-content: flex-end;
}

.urgency-chip {
  border-radius: 999px;
  padding: 5px 10px;
  font-size: 0.75rem;
  font-weight: 700;
  background: #edf5e8;
  color: #2f6640;
}

.urgency-chip.critical {
  background: #fff1df;
  color: #8f4e0f;
}

.urgency-chip.late {
  background: #feecee;
  color: #c43b45;
}

.urgency-chip.done {
  background: #e8f7ec;
  color: #1f7a3b;
}

.doc-item {
  border: 1px solid rgba(17, 16, 22, 0.12);
  background: #faf7f4;
  border-radius: 14px;
  padding: 12px;
  display: grid;
  gap: 8px;
}

.docs-header-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  gap: 12px;
}

.docs-header-row h2 {
  font-size: 1.5rem;
}

.docs-header-row p {
  margin-top: 6px;
  color: var(--ink-soft);
}

.docs-application-select {
  border: 1px solid rgba(17, 16, 22, 0.16);
  border-radius: 12px;
  background: #fff;
  color: #2a2530;
  padding: 10px 12px;
  min-width: 280px;
}

.docs-copy-row {
  display: flex;
  gap: 10px;
  align-items: center;
}

.docs-copy-row .docs-application-select {
  flex: 1;
  min-width: 0;
}

.docs-copy-btn {
  min-width: 150px;
  min-height: 42px;
}

.docs-copy-btn:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

.doc-item-header {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
}

.doc-item-header select {
  border: 1px solid rgba(17, 16, 22, 0.15);
  border-radius: 10px;
  background: #fff;
  padding: 6px 10px;
}

.doc-item textarea {
  border: 1px solid rgba(17, 16, 22, 0.12);
  border-radius: 10px;
  background: #fff;
  padding: 9px 10px;
  min-height: 68px;
  resize: vertical;
}

.tracker-top-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  gap: 12px;
}

.tracker-top-row h2 {
  font-size: 1.7rem;
}

.tracker-top-row p {
  margin-top: 6px;
  color: var(--ink-soft);
}

.tracker-add-btn {
  width: auto;
  white-space: nowrap;
}

.tracker-metrics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 12px;
}

.tracker-search-row input {
  width: 100%;
  border: 1px solid rgba(17, 16, 22, 0.15);
  background: #faf7f4;
  border-radius: 12px;
  padding: 11px 12px;
  font-size: 0.96rem;
}

.tracker-search-row input:focus {
  outline: none;
  border-color: #8d70d8;
  box-shadow: 0 0 0 3px rgba(141, 112, 216, 0.18);
  background: #fff;
}

.tracker-metric-card,
.tracker-form-card,
.application-card {
  border-radius: 20px;
  background: #fff;
  border: 1px solid var(--line);
  box-shadow: var(--shadow-md);
}

.tracker-metric-card {
  padding: 16px;
  background: linear-gradient(180deg, #fff, #faf7f4);
}

.tracker-metric-card h3 {
  font-size: 0.88rem;
  color: #686270;
  margin-bottom: 6px;
}

.tracker-metric-card p {
  font-size: 1.3rem;
  font-weight: 650;
}

.tracker-form-card {
  padding: 18px;
}

.tracker-form-card h3 {
  margin-bottom: 10px;
}

.tracker-form-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}

.tracker-form .form-group textarea {
  min-height: 96px;
}

.form-group-checkbox label {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  margin-top: 30px;
  font-weight: 600;
}

.form-group-checkbox input[type='checkbox'] {
  width: 18px;
  height: 18px;
  accent-color: #8d70d8;
  cursor: pointer;
  border-radius: 4px;
}

.tracker-list-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

.application-card {
  padding: 16px;
  display: grid;
  gap: 12px;
}

.application-card-top {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 10px;
}

.application-card-top h3 {
  font-size: 1.25rem;
  line-height: 1.15;
}

.application-program {
  margin-top: 3px;
  color: #65606b;
  font-weight: 600;
}

.application-status {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  padding: 5px 11px;
  background: rgba(141, 112, 216, 0.15);
  color: #5f449f;
  font-size: 0.78rem;
  font-weight: 700;
  white-space: nowrap;
}

.application-meta-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px 10px;
}

.application-meta-grid p {
  color: #3b3640;
  font-size: 0.93rem;
}

.application-notes {
  border-radius: 12px;
  border: 1px solid rgba(17, 16, 22, 0.1);
  background: #faf7f4;
  color: #4a444f;
  font-size: 0.9rem;
  line-height: 1.45;
  padding: 10px 12px;
}

.application-card-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}

.deadline-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 0.78rem;
  font-weight: 700;
  background: #edf5e8;
  color: #2f6640;
}

.deadline-chip.late {
  background: #feecee;
  color: #c43b45;
}

.application-actions {
  display: flex;
  gap: 8px;
}

.application-actions .history-btn,
.application-actions .delete-btn {
  min-height: 38px;
  border-radius: 14px;
  padding: 8px 12px;
  font-size: 0.88rem;
}

.tracker-empty-state h2 {
  font-size: 1.35rem;
}

.setting-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 10px 0 8px;
  color: #3b3640;
  font-weight: 600;
}

.theme-switch {
  position: relative;
  width: 54px;
  height: 32px;
  display: inline-block;
}

.theme-switch input {
  opacity: 0;
  width: 0;
  height: 0;
  position: absolute;
}

.switch-slider {
  position: absolute;
  inset: 0;
  background: #d7d1cb;
  border-radius: 999px;
  transition: background 0.2s ease;
}

.switch-slider::before {
  content: "";
  position: absolute;
  width: 24px;
  height: 24px;
  left: 4px;
  top: 4px;
  border-radius: 50%;
  background: #fff;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s ease;
}

.theme-switch input:checked + .switch-slider {
  background: #8d70d8;
}

.theme-switch input:checked + .switch-slider::before {
  transform: translateX(22px);
}

.essay-form {
  padding: 22px;
}

.version-notice {
  background: linear-gradient(135deg, #8d70d8, #b8a3ed);
  color: #fff;
  border-radius: 14px;
  padding: 11px 14px;
  margin-bottom: 14px;
  font-size: 0.93rem;
}

.form-group {
  margin-bottom: 14px;
}

.form-group label {
  display: block;
  margin-bottom: 7px;
  font-size: 0.9rem;
  color: #4f4a57;
  font-weight: 600;
}

.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  border: 1px solid rgba(17, 16, 22, 0.15);
  background: #faf7f4;
  border-radius: 12px;
  padding: 12px;
  font-size: 0.98rem;
  font-family: inherit;
}

.form-group textarea {
  min-height: 125px;
  resize: vertical;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  outline: none;
  border-color: #8d70d8;
  box-shadow: 0 0 0 3px rgba(141, 112, 216, 0.18);
  background: #fff;
}

.form-actions {
  display: flex;
  gap: 10px;
}

.form-actions button {
  border: none;
  border-radius: 999px;
  padding: 11px 20px;
  font-weight: 600;
  cursor: pointer;
}

.form-actions button[type="submit"] {
  background: #131217;
  color: #fff;
}

.form-actions button[type="button"] {
  background: #ece7e1;
  color: #2f2a33;
}

.essay-detail {
  display: grid;
  gap: 14px;
}

.essay-header {
  padding: 14px;
  border-radius: 18px;
  background: linear-gradient(180deg, #ffffff 0%, #faf6f2 100%);
  border: 1px solid rgba(20, 18, 23, 0.08);
  box-shadow: 0 10px 22px rgba(35, 30, 42, 0.08);
}

.essay-header-layout {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 10px 14px;
  align-items: center;
}

.essay-title-line {
  display: inline-flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

.essay-title-line h2 {
  font-size: clamp(1.5rem, 2.4vw, 2.2rem);
  letter-spacing: -0.02em;
  line-height: 1.08;
}

.version-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 34px;
  padding: 0 14px;
  border-radius: 999px;
  font-size: 0.95rem;
  font-weight: 700;
  color: #4b3f73;
  background: #e8e2ff;
  border: 1px solid rgba(75, 63, 115, 0.18);
}

.essay-action-group {
  display: flex;
  flex-wrap: wrap;
  gap: 7px;
  justify-content: flex-start;
}

.review-btn,
.history-btn,
.delete-btn,
.version-btn,
.new-essay-btn {
  border: none;
  border-radius: 18px;
  padding: 10px 16px;
  min-height: 44px;
  font-size: 0.98rem;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.review-btn,
.new-essay-btn {
  background: var(--pill-black);
  color: #fff;
}

.history-btn {
  background: var(--pill-purple);
  color: #fff;
}

.delete-btn {
  background: transparent;
  color: var(--pill-red);
  border: 2px solid var(--pill-red);
}

.review-btn:hover,
.history-btn:hover,
.delete-btn:hover,
.version-btn:hover {
  transform: translateY(-1px);
}

.version-btn {
  background: #f3c99e;
  color: #251f28;
}

.versions-panel {
  padding: 16px;
}

.versions-panel h3 {
  margin-bottom: 12px;
  font-size: 1.35rem;
  letter-spacing: -0.02em;
}

.versions-list {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 10px;
}

.version-item {
  border: 2px solid rgba(17, 16, 22, 0.1);
  border-radius: 18px;
  background: #fff;
  padding: 14px;
  text-align: left;
  cursor: pointer;
}

.version-item.current {
  border-color: #8d70d8;
  background: linear-gradient(180deg, #f6f1ff, #fff);
}

.version-item:hover {
  border-color: #8d70d8;
}

.version-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
}

.version-header strong {
  font-size: 1.05rem;
  letter-spacing: -0.02em;
}

.latest-badge {
  padding: 4px 10px;
  border-radius: 999px;
  background: #15131a;
  color: #fff;
  font-size: 0.73rem;
}

.version-meta {
  display: flex;
  justify-content: space-between;
  color: #5f5967;
}

.version-score {
  font-weight: 700;
}

.versions-footer {
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 7px;
}

.versions-helper-text {
  color: #6a6472;
  font-size: 0.85rem;
}

.essay-section {
  padding: 18px;
  border-radius: 18px;
  border: 1px solid rgba(17, 16, 22, 0.1);
  background: linear-gradient(180deg, #ffffff 0%, #fbf8f5 100%);
  box-shadow: 0 8px 18px rgba(30, 25, 40, 0.06);
}

.essay-section h3 {
  font-size: 1.12rem;
  letter-spacing: -0.02em;
  margin-bottom: 10px;
}

.essay-section p {
  color: #2f2a33;
  line-height: 1.7;
}

.essay-text {
  border-radius: 14px;
  padding: 14px;
  background: #fff;
  border: 1px solid rgba(17, 16, 22, 0.12);
  border-left: 1px solid rgba(17, 16, 22, 0.12);
  white-space: pre-wrap;
}

.review-section {
  padding: 16px;
  background: linear-gradient(180deg, #fff4f6 0%, #ffffff 100%);
  border: 1px solid rgba(255, 95, 102, 0.35);
}

.review-section h3 {
  font-size: 1.8rem;
  margin-bottom: 8px;
}

.score {
  display: inline-flex;
  padding: 6px 12px;
  border-radius: 999px;
  background: #131217;
  color: #fff;
  margin-bottom: 10px;
}

.review-content {
  line-height: 1.7;
  white-space: pre-wrap;
}

.empty-state-main {
  border-radius: 20px;
  border: 1px solid var(--line);
  background: #fff;
  box-shadow: var(--shadow-md);
  padding: 30px;
  text-align: center;
}

.empty-state-main h2 {
  font-size: 2.2rem;
  letter-spacing: -0.02em;
  margin-bottom: 8px;
}

.empty-state-main p {
  color: #676171;
}

.right-sidebar {
  min-height: 0;
  overflow-y: scroll;
  overflow-x: hidden;
  scrollbar-gutter: stable;
  background: var(--panel);
  border-radius: 22px;
  padding: 16px;
  border: 1px solid rgba(20, 18, 23, 0.08);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.user-profile-card {
  border-radius: 18px;
  background: #f8f4f0;
  border: 1px solid rgba(17, 16, 22, 0.08);
  padding: 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

.user-avatar {
  width: 58px;
  height: 58px;
  border-radius: 50%;
  background: linear-gradient(135deg, #a5dbc9, #bfaaf1);
  display: grid;
  place-items: center;
  font-size: 1.5rem;
  overflow: hidden;
}

.user-avatar-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.user-details {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
}

.user-name {
  font-size: 1.35rem;
  letter-spacing: -0.015em;
}

.logout-btn {
  border: none;
  background: transparent;
  color: #6f6878;
  text-decoration: underline;
  cursor: pointer;
}

.new-essay-btn {
  width: 100%;
  border-radius: 18px;
  font-size: 1rem;
  border: 1px solid transparent;
  transition: background 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}

.new-essay-btn:hover {
  transform: none;
  background: var(--new-btn-hover-bg);
  border-color: var(--new-btn-hover-border);
  color: var(--new-btn-hover-text);
}

.new-essay-btn:active {
  transform: none;
  background: var(--new-btn-active-bg);
  border-color: var(--new-btn-hover-border);
  color: var(--new-btn-hover-text);
}

.secondary-action-btn {
  background: transparent;
  color: #272231;
  border: 1px solid rgba(17, 16, 22, 0.18);
}

.secondary-action-btn:hover {
  background: var(--new-btn-hover-bg);
  border-color: var(--new-btn-hover-border);
  color: var(--new-btn-hover-text);
}

.secondary-action-btn:active {
  background: var(--new-btn-active-bg);
  border-color: var(--new-btn-hover-border);
  color: var(--new-btn-hover-text);
}

.home-cta-btn {
  width: auto;
}

.essay-list {
  min-height: 0;
}

.essay-list h3 {
  font-size: 1.1rem;
  margin-bottom: 10px;
  color: #4e4858;
}

.essay-item {
  position: relative;
  border-radius: 20px;
  padding: 14px;
  margin-bottom: 10px;
  cursor: pointer;
  border: 2px solid transparent;
  transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
  box-shadow: 0 8px 18px rgba(40, 35, 50, 0.08);
}

.essay-item:hover {
  transform: translateY(-2px);
}

.essay-item.selected {
  border-color: rgba(141, 112, 216, 0.48);
  box-shadow: 0 0 0 2px rgba(141, 112, 216, 0.22), 0 10px 18px rgba(25, 23, 31, 0.14);
  transform: none;
}

.essay-item.selected .program-type {
  background: rgba(255, 255, 255, 0.88);
}

.essay-item.selected small {
  color: rgba(20, 18, 23, 0.78);
}

.essay-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}

.essay-card-header strong {
  font-size: 1.05rem;
}

.score-pill {
  background: rgba(255, 255, 255, 0.82);
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 0.8rem;
}

.program-type {
  margin-top: 6px;
  display: inline-flex;
  padding: 8px 14px;
  border-radius: 999px;
  font-size: 0.85rem;
  line-height: 1.3;
  background: rgba(255, 255, 255, 0.75);
}

/* Right sidebar prompt bubble spacing */
.App .right-sidebar .program-type {
  padding: 10px 16px !important;
  line-height: 1.4 !important;
  max-width: 100%;
  white-space: normal;
  border-radius: 14px;
}

.essay-item small {
  display: block;
  color: rgba(20, 18, 23, 0.65);
}

.application-item {
  border-width: 1px;
}

/* Dark mode */
.App.dark-mode {
  --window-bg: #1c2230;
  --panel: #273246;
  --panel-soft: #232c3b;
  --ink: #d6ddea;
  --ink-soft: #a8b2c6;
  --line: rgba(233, 241, 255, 0.12);
  --shadow-lg: 0 26px 60px rgba(0, 0, 0, 0.45);
  --shadow-md: 0 10px 24px rgba(0, 0, 0, 0.35);
  --pill-black: #111826;
  --pill-purple: #8566dd;
  --new-btn-hover-bg: #24324b;
  --new-btn-hover-border: rgba(236, 241, 255, 0.24);
  --new-btn-hover-text: #eef3ff;
  --new-btn-active-bg: #1f2b42;
}

.App.dark-mode .global-theme-toggle {
  background: rgba(28, 35, 48, 0.9);
  color: #dfe8fb;
  border-color: rgba(233, 241, 255, 0.2);
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.35);
}

.App.dark-mode .global-theme-toggle:hover {
  background: rgba(38, 47, 63, 0.98);
}

.App.dark-mode .sidebar-logo,
.App.dark-mode .nav-icon,
.App.dark-mode .user-avatar-small,
.App.dark-mode .home-welcome-card,
.App.dark-mode .home-metric-card,
.App.dark-mode .home-tips-card,
.App.dark-mode .application-essay-list-card,
.App.dark-mode .settings-card,
.App.dark-mode .insight-card,
.App.dark-mode .detail-list-card,
.App.dark-mode .tracker-metric-card,
.App.dark-mode .tracker-form-card,
.App.dark-mode .application-card,
.App.dark-mode .essay-section,
.App.dark-mode .versions-panel,
.App.dark-mode .essay-header,
.App.dark-mode .review-section,
.App.dark-mode .essay-form,
.App.dark-mode .user-profile-card,
.App.dark-mode .empty-state-main,
.App.dark-mode .version-item {
  background: linear-gradient(160deg, rgba(42, 52, 69, 0.92), rgba(34, 42, 58, 0.96));
  border-color: rgba(185, 205, 236, 0.18);
}

.App.dark-mode .essay-header {
  background: linear-gradient(180deg, #222e41 0%, #1f2939 100%);
  border-color: rgba(203, 217, 245, 0.2);
  box-shadow: 0 8px 18px rgba(0, 0, 0, 0.28);
}

.App.dark-mode .essay-section {
  background: linear-gradient(180deg, #263246 0%, #232d40 100%);
  border-color: rgba(203, 217, 245, 0.18);
  box-shadow: 0 8px 18px rgba(0, 0, 0, 0.26);
}

.App.dark-mode .main-content {
  border-color: rgba(233, 241, 255, 0.12);
}

.App.dark-mode .new-essay-btn,
.App.dark-mode .review-btn {
  background: #111826;
}

.App.dark-mode .new-essay-btn:hover {
  background: var(--new-btn-hover-bg);
  border-color: var(--new-btn-hover-border);
  color: var(--new-btn-hover-text);
}

.App.dark-mode .new-essay-btn:active {
  background: var(--new-btn-active-bg);
  border-color: var(--new-btn-hover-border);
  color: var(--new-btn-hover-text);
}

.App.dark-mode .history-btn {
  background: #8566dd;
}

.App.dark-mode .version-badge {
  color: #d7e4ff;
  background: #334866;
  border-color: rgba(191, 212, 255, 0.24);
}

.App.dark-mode .version-btn {
  background: #3a475b;
  color: #ecf1ff;
}

.App.dark-mode .content-header h1,
.App.dark-mode .user-name,
.App.dark-mode .essay-section h3,
.App.dark-mode .versions-panel h3,
.App.dark-mode .version-header strong,
.App.dark-mode .settings-panel h2,
.App.dark-mode .setting-row,
.App.dark-mode .empty-state-main h2 {
  color: var(--ink);
}

.App.dark-mode .header-subtitle,
.App.dark-mode .home-welcome-card p,
.App.dark-mode .home-tips-card p,
.App.dark-mode .application-essay-list-card p,
.App.dark-mode .settings-card p,
.App.dark-mode .versions-helper-text,
.App.dark-mode .version-meta,
.App.dark-mode .essay-section p,
.App.dark-mode .empty-state-main p,
.App.dark-mode .logout-btn,
.App.dark-mode .essay-list h3 {
  color: var(--ink-soft);
}

.App.dark-mode .home-welcome-card h2,
.App.dark-mode .home-tips-card h3,
.App.dark-mode .application-essay-list-card h3,
.App.dark-mode .settings-card h3,
.App.dark-mode .tracker-top-row h2,
.App.dark-mode .tracker-form-card h3,
.App.dark-mode .application-card-top h3 {
  color: var(--ink);
}

.App.dark-mode .home-metric-card h3 {
  color: #b9c4d9;
}

.App.dark-mode .home-metric-card p,
.App.dark-mode .tracker-metric-card p {
  color: var(--ink);
}

.App.dark-mode .tracker-metric-card h3 {
  color: #b9c4d9;
}

.App.dark-mode .tracker-top-row p,
.App.dark-mode .application-program,
.App.dark-mode .application-meta-grid p,
.App.dark-mode .detail-item-main span,
.App.dark-mode .detail-item-meta,
.App.dark-mode .detail-list-card p,
.App.dark-mode .timeline-controls,
.App.dark-mode .timeline-weekday,
.App.dark-mode .timeline-more {
  color: #b7c3da;
}

.App.dark-mode .detail-list-card h3,
.App.dark-mode .docs-header-row h2,
.App.dark-mode .timeline-card h3,
.App.dark-mode .doc-item strong,
.App.dark-mode .detail-item-main strong {
  color: #eaf1ff;
}

.App.dark-mode .application-status {
  background: rgba(141, 112, 216, 0.24);
  color: #e0d6ff;
}

.App.dark-mode .application-notes {
  background: #1f2835;
  border-color: rgba(233, 241, 255, 0.16);
  color: #ced8ea;
}

.App.dark-mode .detail-item,
.App.dark-mode .doc-item {
  background: #1f2835;
  border-color: rgba(233, 241, 255, 0.16);
}

.App.dark-mode .timeline-day-cell {
  background: #1f2835;
  border-color: rgba(233, 241, 255, 0.16);
}

.App.dark-mode .timeline-day-cell.has-deadline {
  background: #2c3650;
  border-color: rgba(133, 102, 221, 0.5);
}

.App.dark-mode .timeline-day-number {
  color: #dce6fb;
}

.App.dark-mode .timeline-event-chip {
  background: #8566dd;
}

.App.dark-mode .settings-reminders-list {
  background: #1f2835;
  border-color: rgba(233, 241, 255, 0.16);
}

.App.dark-mode .detail-item:hover {
  border-color: rgba(133, 102, 221, 0.5);
  background: #263046;
}

.App.dark-mode .insight-card h3 {
  color: #bfc8da;
}

.App.dark-mode .insight-card p {
  color: #ecf1ff;
}

.App.dark-mode .doc-item-header select,
.App.dark-mode .doc-item textarea,
.App.dark-mode .docs-application-select {
  background: #263046;
  border-color: rgba(233, 241, 255, 0.2);
  color: #ecf1ff;
}

.App.dark-mode .tracker-search-row input {
  background: #1f2835;
  border-color: rgba(233, 241, 255, 0.2);
  color: #ecf1ff;
}

.App.dark-mode .tracker-search-row input::placeholder {
  color: #92a0b8;
}

.App.dark-mode .tracker-search-row input:focus {
  border-color: rgba(133, 102, 221, 0.8);
  box-shadow: 0 0 0 3px rgba(133, 102, 221, 0.24);
  background: #253044;
}

.App.dark-mode .form-group-checkbox label {
  color: #cbd5e9;
}

.App.dark-mode .form-group-checkbox input[type='checkbox'] {
  accent-color: #8566dd;
}

.App.dark-mode .docs-header-row p {
  color: #b7c3da;
}

.App.dark-mode .urgency-chip {
  background: rgba(112, 208, 151, 0.2);
  color: #bbf0ce;
}

.App.dark-mode .urgency-chip.critical {
  background: rgba(237, 173, 84, 0.22);
  color: #ffd8a2;
}

.App.dark-mode .urgency-chip.late {
  background: rgba(255, 95, 102, 0.2);
  color: #ffb5bc;
}

.App.dark-mode .deadline-chip {
  background: rgba(112, 208, 151, 0.2);
  color: #bbf0ce;
}

.App.dark-mode .deadline-chip.late {
  background: rgba(255, 95, 102, 0.2);
  color: #ffb5bc;
}

.App.dark-mode .program-type,
.App.dark-mode .score-pill {
  background: rgba(10, 14, 22, 0.35);
  color: #eef2ff;
}

.App.dark-mode .right-sidebar .essay-card-header strong,
.App.dark-mode .right-sidebar .essay-item small {
  color: #edf2ff;
}

.App.dark-mode .right-sidebar .program-type,
.App.dark-mode .right-sidebar .score-pill {
  background: rgba(236, 241, 255, 0.2);
  color: #edf2ff;
}

.App.dark-mode .right-sidebar .essay-item {
  border-color: rgba(236, 241, 255, 0.12);
  box-shadow: 0 8px 20px rgba(6, 9, 14, 0.34);
}

.App.dark-mode .secondary-action-btn {
  background: transparent;
  border-color: rgba(236, 241, 255, 0.2);
  color: #dbe7ff;
}

/* Keep dark-mode new button interactions identical across all + New actions */

.App.dark-mode .application-essay-item {
  background: #1f2835;
  border-color: rgba(233, 241, 255, 0.16);
  color: #ecf1ff;
}

.App.dark-mode .application-essay-item small {
  color: #aeb8cb;
}

.App.dark-mode .application-essay-item.active,
.App.dark-mode .application-essay-item:hover {
  border-color: rgba(133, 102, 221, 0.5);
  background: #263046;
}

.App.dark-mode .form-group input,
.App.dark-mode .form-group select,
.App.dark-mode .form-group textarea,
.App.dark-mode .essay-text {
  background: #1f2835;
  color: #ecf1ff;
  border-color: rgba(233, 241, 255, 0.18);
}

.App.dark-mode .essay-title-line h2 {
  color: #eef4ff;
}

.App.dark-mode .review-btn,
.App.dark-mode .history-btn,
.App.dark-mode .delete-btn {
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.18);
}

.App.dark-mode .form-group label {
  color: #c4ccdb;
}

.App.dark-mode .form-group input::placeholder,
.App.dark-mode .form-group textarea::placeholder {
  color: #8f9ab0;
}

.App.dark-mode .form-actions button[type="button"] {
  background: #2e3848;
  color: #ecf1ff;
}

.App.dark-mode .score {
  background: #111826;
}

.App.dark-mode .theme-switch .switch-slider {
  background: #586177;
}

.App.dark-mode .theme-switch input:checked + .switch-slider {
  background: #8566dd;
}

.App.dark-mode .essay-item.selected {
  border-color: rgba(133, 102, 221, 0.65);
  box-shadow: 0 0 0 2px rgba(133, 102, 221, 0.35), 0 10px 18px rgba(0, 0, 0, 0.28);
}

.App.dark-mode .nav-icon,
.App.dark-mode .user-avatar-small {
  background: rgba(236, 241, 255, 0.08);
  border-color: rgba(236, 241, 255, 0.16);
  color: #d5def2;
}

.App.dark-mode .nav-icon:hover,
.App.dark-mode .user-avatar-small:hover {
  background: rgba(236, 241, 255, 0.15);
}

.App.dark-mode .nav-icon.active,
.App.dark-mode .user-avatar-small.active {
  background: linear-gradient(135deg, #6d56c9, #8d70d8);
  color: #fff;
  border-color: transparent;
  box-shadow: 0 8px 18px rgba(55, 37, 112, 0.42);
}

.App.dark-mode .nav-drawer {
  background: rgba(34, 42, 57, 0.96);
  border-color: rgba(236, 241, 255, 0.16);
  box-shadow: 0 20px 42px rgba(0, 0, 0, 0.45);
}

.App.dark-mode .nav-drawer-footer {
  border-top-color: rgba(236, 241, 255, 0.16);
}

.App.dark-mode .nav-drawer-item {
  background: rgba(236, 241, 255, 0.06);
  border-color: rgba(236, 241, 255, 0.16);
  color: #dbe6fc;
}

.App.dark-mode .nav-drawer-item:hover {
  background: rgba(236, 241, 255, 0.13);
  border-color: rgba(133, 102, 221, 0.55);
}

.App.dark-mode .nav-drawer-item.active {
  background: linear-gradient(135deg, #6d56c9, #8d70d8);
  color: #fff;
}

.App.reduced-motion *,
.App.reduced-motion *::before,
.App.reduced-motion *::after {
  animation: none !important;
  transition: none !important;
}

/* Executive Minimal refresh */
.App {
  --exec-bg: #eef1f5;
  --exec-shell: #f7f9fc;
  --exec-panel: #ffffff;
  --exec-panel-soft: #f3f6fa;
  --exec-border: rgba(18, 28, 45, 0.1);
  --exec-text: #121a28;
  --exec-text-soft: #4e5c72;
}

body {
  background: linear-gradient(180deg, #dce5ef 0%, #e8eef5 100%);
}

.App {
  background: var(--exec-shell);
  border: 1px solid var(--exec-border);
  box-shadow: 0 18px 40px rgba(20, 32, 51, 0.1);
}

.app-layout {
  gap: 14px;
}

.nav-sidebar,
.main-content,
.right-sidebar {
  background: var(--exec-panel-soft);
  border-color: var(--exec-border);
  box-shadow: none;
}

.main-content,
.right-sidebar {
  border-radius: 16px;
}

.content-header h1 {
  color: var(--exec-text);
  font-weight: 650;
  letter-spacing: -0.024em;
}

.header-subtitle {
  color: var(--exec-text-soft);
}

.home-welcome-card,
.home-metric-card,
.home-tips-card,
.settings-card,
.application-essay-list-card,
.insight-card,
.detail-list-card,
.tracker-metric-card,
.tracker-form-card,
.application-card,
.essay-section,
.versions-panel,
.essay-header,
.review-section,
.essay-form,
.user-profile-card,
.empty-state-main,
.doc-item,
.detail-item {
  background: var(--exec-panel);
  border: 1px solid var(--exec-border);
  border-radius: 14px;
  box-shadow: none;
}

.home-metric-card,
.tracker-metric-card,
.essay-header,
.essay-section,
.review-section {
  background: var(--exec-panel);
}

.detail-item,
.application-essay-item,
.application-notes,
.timeline-day-cell,
.doc-item {
  background: var(--exec-panel-soft);
}

.detail-item:hover,
.application-essay-item:hover,
.application-essay-item.active {
  background: #f7f2ff;
  border-color: rgba(117, 90, 199, 0.35);
}

.new-essay-btn,
.review-btn,
.history-btn,
.delete-btn,
.version-btn {
  border-radius: 14px;
}

.timeline-card,
.timeline-day-cell,
.timeline-day-cell.has-deadline {
  border-radius: 12px;
}

.timeline-day-cell.has-deadline {
  background: #f2ecff;
  border-color: rgba(117, 90, 199, 0.38);
}

.timeline-event-chip {
  background: #1a2436;
  color: #f5f8ff;
}

.settings-card h3,
.detail-list-card h3,
.tracker-form-card h3,
.application-card-top h3,
.docs-header-row h2,
.doc-item strong,
.detail-item-main strong,
.timeline-card h3 {
  color: var(--exec-text);
}

.settings-card p,
.detail-list-card p,
.application-meta-grid p,
.application-program,
.doc-item textarea::placeholder,
.timeline-controls,
.timeline-weekday,
.timeline-more {
  color: var(--exec-text-soft);
}

.App.dark-mode {
  --exec-shell: #141b27;
  --exec-panel: #1c2636;
  --exec-panel-soft: #202c3f;
  --exec-border: rgba(220, 230, 247, 0.14);
  --exec-text: #eaf1ff;
  --exec-text-soft: #b7c4da;
}

body.dark-body {
  background: linear-gradient(180deg, #0e131b 0%, #121927 100%);
}

.App.dark-mode {
  border-color: rgba(220, 230, 247, 0.16);
  box-shadow: 0 22px 48px rgba(0, 0, 0, 0.42);
}

.App.dark-mode .content-header h1,
.App.dark-mode .workspace-area h1,
.App.dark-mode .workspace-area h2,
.App.dark-mode .workspace-area h3,
.App.dark-mode .workspace-area h4,
.App.dark-mode .workspace-area strong,
.App.dark-mode .workspace-area label,
.App.dark-mode .right-sidebar h3,
.App.dark-mode .right-sidebar strong {
  color: var(--exec-text);
}

.App.dark-mode .workspace-area p,
.App.dark-mode .workspace-area span,
.App.dark-mode .workspace-area small,
.App.dark-mode .right-sidebar p,
.App.dark-mode .right-sidebar span,
.App.dark-mode .right-sidebar small,
.App.dark-mode .header-subtitle {
  color: var(--exec-text-soft);
}

.App.dark-mode .detail-item:hover,
.App.dark-mode .application-essay-item:hover,
.App.dark-mode .application-essay-item.active {
  background: #28354c;
  border-color: rgba(133, 102, 221, 0.52);
}

.App.dark-mode .timeline-day-cell.has-deadline {
  background: #2d3d58;
  border-color: rgba(133, 102, 221, 0.56);
}

.App.dark-mode .timeline-event-chip {
  background: #7a60d4;
  color: #f7f4ff;
}

/* Phase 2: Dark Side primitives (atoms) */
.App {
  --ds-surface: rgba(24, 24, 27, 0.56);
  --ds-surface-soft: rgba(24, 24, 27, 0.4);
  --ds-border: rgba(255, 255, 255, 0.08);
  --ds-border-strong: rgba(255, 255, 255, 0.16);
  --ds-text: #e4e4e7;
  --ds-text-soft: #a1a1aa;
  --space-1: 8px;
  --space-2: 12px;
  --space-3: 16px;
  --space-4: 24px;
}

.App .home-welcome-card,
.App .home-metric-card,
.App .home-tips-card,
.App .settings-card,
.App .application-essay-list-card,
.App .insight-card,
.App .detail-list-card,
.App .tracker-metric-card,
.App .tracker-form-card,
.App .application-card,
.App .essay-section,
.App .versions-panel,
.App .essay-header,
.App .review-section,
.App .essay-form,
.App .user-profile-card,
.App .empty-state-main,
.App .doc-item,
.App .detail-item,
.App .version-item {
  position: relative;
  overflow: hidden;
  isolation: isolate;
  border-radius: 12px;
  border: 1px solid var(--ds-border);
  background: var(--ds-surface);
  backdrop-filter: blur(10px);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.03);
}

.App .home-welcome-card::before,
.App .home-metric-card::before,
.App .home-tips-card::before,
.App .settings-card::before,
.App .application-essay-list-card::before,
.App .insight-card::before,
.App .detail-list-card::before,
.App .tracker-metric-card::before,
.App .tracker-form-card::before,
.App .application-card::before,
.App .essay-section::before,
.App .versions-panel::before,
.App .essay-header::before,
.App .review-section::before,
.App .essay-form::before,
.App .user-profile-card::before,
.App .empty-state-main::before,
.App .doc-item::before,
.App .detail-item::before,
.App .version-item::before {
  content: "";
  position: absolute;
  inset: -35%;
  background: radial-gradient(
    220px circle at var(--mx, 50%) var(--my, 50%),
    rgba(255, 255, 255, 0.14) 0%,
    rgba(255, 255, 255, 0.06) 30%,
    transparent 64%
  );
  opacity: var(--glow-opacity, 0);
  transition: opacity 0.16s ease;
  pointer-events: none;
  z-index: 0;
  mix-blend-mode: screen;
}

.App .home-welcome-card:hover::before,
.App .home-metric-card:hover::before,
.App .home-tips-card:hover::before,
.App .settings-card:hover::before,
.App .application-essay-list-card:hover::before,
.App .insight-card:hover::before,
.App .detail-list-card:hover::before,
.App .tracker-metric-card:hover::before,
.App .tracker-form-card:hover::before,
.App .application-card:hover::before,
.App .essay-section:hover::before,
.App .versions-panel:hover::before,
.App .essay-header:hover::before,
.App .review-section:hover::before,
.App .essay-form:hover::before,
.App .user-profile-card:hover::before,
.App .empty-state-main:hover::before,
.App .doc-item:hover::before,
.App .detail-item:hover::before,
.App .version-item:hover::before {
  opacity: 0.2;
}

.App:not(.dark-mode) .home-welcome-card::before,
.App:not(.dark-mode) .home-metric-card::before,
.App:not(.dark-mode) .home-tips-card::before,
.App:not(.dark-mode) .settings-card::before,
.App:not(.dark-mode) .application-essay-list-card::before,
.App:not(.dark-mode) .insight-card::before,
.App:not(.dark-mode) .detail-list-card::before,
.App:not(.dark-mode) .tracker-metric-card::before,
.App:not(.dark-mode) .tracker-form-card::before,
.App:not(.dark-mode) .application-card::before,
.App:not(.dark-mode) .essay-section::before,
.App:not(.dark-mode) .versions-panel::before,
.App:not(.dark-mode) .essay-header::before,
.App:not(.dark-mode) .review-section::before,
.App:not(.dark-mode) .essay-form::before,
.App:not(.dark-mode) .user-profile-card::before,
.App:not(.dark-mode) .empty-state-main::before,
.App:not(.dark-mode) .doc-item::before,
.App:not(.dark-mode) .detail-item::before,
.App:not(.dark-mode) .version-item::before {
  background: radial-gradient(
    220px circle at var(--mx, 50%) var(--my, 50%),
    rgba(76, 98, 255, 0.15) 0%,
    rgba(76, 98, 255, 0.05) 32%,
    transparent 66%
  );
}

.App .home-welcome-card > *,
.App .home-metric-card > *,
.App .home-tips-card > *,
.App .settings-card > *,
.App .application-essay-list-card > *,
.App .insight-card > *,
.App .detail-list-card > *,
.App .tracker-metric-card > *,
.App .tracker-form-card > *,
.App .application-card > *,
.App .essay-section > *,
.App .versions-panel > *,
.App .essay-header > *,
.App .review-section > *,
.App .essay-form > *,
.App .user-profile-card > *,
.App .empty-state-main > *,
.App .doc-item > *,
.App .detail-item > *,
.App .version-item > * {
  position: relative;
  z-index: 1;
}

.App .review-btn,
.App .history-btn,
.App .delete-btn,
.App .version-btn,
.App .new-essay-btn,
.App .secondary-action-btn,
.App .form-actions button,
.App .docs-copy-btn,
.App .timeline-nav-btn {
  min-height: 36px;
  padding: 0 14px;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  letter-spacing: -0.01em;
  border: 1px solid var(--ds-border);
  background: rgba(255, 255, 255, 0.05);
  color: var(--ds-text);
  box-shadow: none;
  transition: background 0.18s ease, border-color 0.18s ease, color 0.18s ease, box-shadow 0.18s ease;
}

.App .review-btn:hover,
.App .history-btn:hover,
.App .delete-btn:hover,
.App .version-btn:hover,
.App .new-essay-btn:hover,
.App .secondary-action-btn:hover,
.App .form-actions button:hover,
.App .docs-copy-btn:hover,
.App .timeline-nav-btn:hover {
  transform: none;
  background: rgba(255, 255, 255, 0.1);
  border-color: var(--ds-border-strong);
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05);
}

.App .review-btn:active,
.App .history-btn:active,
.App .delete-btn:active,
.App .version-btn:active,
.App .new-essay-btn:active,
.App .secondary-action-btn:active,
.App .form-actions button:active,
.App .docs-copy-btn:active,
.App .timeline-nav-btn:active {
  background: rgba(255, 255, 255, 0.14);
}

.App .delete-btn,
.App .application-actions .delete-btn {
  color: #fda4af;
  border-color: rgba(253, 164, 175, 0.35);
  background: rgba(136, 19, 55, 0.18);
}

.App .delete-btn:hover,
.App .application-actions .delete-btn:hover {
  background: rgba(190, 24, 93, 0.24);
  border-color: rgba(253, 164, 175, 0.5);
}

.App .form-group input,
.App .form-group select,
.App .form-group textarea,
.App .tracker-search-row input,
.App .docs-application-select,
.App .doc-item-header select,
.App .doc-item textarea {
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(24, 24, 27, 0.5);
  color: var(--ds-text);
  border-radius: 8px;
}

.App .form-group input::placeholder,
.App .form-group textarea::placeholder,
.App .tracker-search-row input::placeholder,
.App .doc-item textarea::placeholder {
  color: #71717a;
}

.App .form-group input:focus,
.App .form-group select:focus,
.App .form-group textarea:focus,
.App .tracker-search-row input:focus,
.App .docs-application-select:focus,
.App .doc-item-header select:focus,
.App .doc-item textarea:focus {
  outline: none;
  border-color: rgba(255, 255, 255, 0.2);
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.18);
  background: rgba(24, 24, 27, 0.62);
}

.App .content-header h1,
.App .home-welcome-card h2,
.App .settings-panel h2,
.App .tracker-top-row h2,
.App .detail-list-card h3,
.App .insight-card h3,
.App .settings-card h3,
.App .application-card-top h3,
.App .essay-section h3,
.App .docs-header-row h2 {
  color: #f4f4f5;
  letter-spacing: -0.02em;
}

.App .header-subtitle,
.App .settings-card p,
.App .detail-list-card p,
.App .application-program,
.App .timeline-controls,
.App .timeline-weekday,
.App .timeline-more,
.App .doc-item-header strong + select,
.App .empty-state-main p {
  color: var(--ds-text-soft);
}

/* Phase 3: Shell (layout + navigation frame) */
.App {
  width: min(1560px, calc(100vw - 44px));
  background: rgba(9, 9, 11, 0.92);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 22px;
}

.app-layout {
  max-width: 1536px;
  width: 100%;
  margin: 0 auto;
  padding: var(--space-4);
  gap: var(--space-3);
  grid-template-columns: 256px minmax(0, 1fr) 340px;
}

.nav-sidebar {
  background: rgba(9, 9, 11, 0.8);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-right-color: rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 14px 10px;
}

.nav-icons {
  gap: 8px;
}

.nav-icon,
.user-avatar-small {
  width: 44px;
  height: 44px;
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  background: rgba(255, 255, 255, 0.04);
  color: #71717a;
  box-shadow: none;
}

.nav-icon:hover,
.user-avatar-small:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.16);
  color: #d4d4d8;
  transform: none;
}

.nav-icon.active,
.user-avatar-small.active,
.nav-burger.active {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.16);
  color: #f4f4f5;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.06);
}

.nav-burger {
  background: rgba(255, 255, 255, 0.05);
  color: #d4d4d8;
}

.nav-drawer {
  left: 10px;
  right: 10px;
  top: 66px;
  bottom: 66px;
  width: auto;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  background: rgba(24, 24, 27, 0.78);
  backdrop-filter: blur(16px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
  transform: translateX(-12px);
}

.nav-drawer.open {
  transform: translateX(0);
}

.nav-drawer-item {
  border: 1px solid rgba(255, 255, 255, 0.07);
  background: rgba(255, 255, 255, 0.03);
  color: #a1a1aa;
  border-radius: 10px;
  min-height: 40px;
  font-size: 0.9rem;
  letter-spacing: -0.01em;
}

.nav-drawer-item:hover {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.14);
  color: #e4e4e7;
}

.nav-drawer-item.active {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.18);
  color: #f4f4f5;
}

.main-content {
  padding: var(--space-4);
  border-radius: 16px;
  background: rgba(24, 24, 27, 0.48);
  border: 1px solid rgba(255, 255, 255, 0.06);
}

.right-sidebar {
  border-radius: 16px;
  background: rgba(24, 24, 27, 0.52);
  border: 1px solid rgba(255, 255, 255, 0.06);
}

.content-header {
  padding: 2px 0 12px;
  margin-bottom: var(--space-3);
}

.content-header h1 {
  font-size: clamp(2rem, 3.1vw, 3rem);
}

.header-subtitle {
  margin-top: 10px;
  font-size: 0.94rem;
}

/* Phase 4: views (bento + row lists) */
.home-dashboard,
.application-home-panel {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-2);
}

.home-hero-card {
  grid-column: span 2;
}

.home-stats-card {
  grid-column: span 1;
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-2);
  align-content: start;
}

.home-stats-card.home-stats-wide {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.home-recent-card {
  grid-column: span 2;
}

.home-recent-full {
  grid-column: 1 / -1;
}

.home-checklist-card {
  grid-column: span 1;
}

.detail-list,
.application-essay-list {
  display: flex;
  flex-direction: column;
  gap: 0;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
}

.detail-item,
.application-essay-item {
  border: 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 0;
  background: transparent;
  box-shadow: none;
  padding: var(--space-2) 6px;
}

.detail-item:last-child,
.application-essay-item:last-child {
  border-bottom: 0;
}

.detail-item:hover,
.application-essay-item:hover,
.application-essay-item.active {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.12);
}

/* Phase 4 polish: tracker rows + nav rhythm */
.tracker-list-grid {
  display: flex;
  flex-direction: column;
  gap: 0;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
}

.tracker-list-grid > .application-card {
  border: 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 12px;
  background: transparent;
  box-shadow: none;
  padding: var(--space-2) var(--space-1);
  gap: var(--space-2);
  margin-bottom: 8px;
}

.tracker-list-grid > .application-card:last-child {
  border-bottom: 0;
  margin-bottom: 0;
}

.tracker-list-grid > .application-card:hover {
  background: rgba(255, 255, 255, 0.03);
}

.tracker-list-grid .application-card-top {
  align-items: center;
}

.tracker-list-grid .application-card-top h3 {
  font-size: 1.05rem;
}

.tracker-list-grid .application-program {
  margin-top: 2px;
  font-size: 0.85rem;
}

.tracker-list-grid .application-meta-grid {
  gap: 6px 12px;
}

.tracker-list-grid .application-meta-grid p {
  font-size: 0.84rem;
}

.tracker-list-grid .application-card-footer {
  padding-top: 6px;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
}

.tracker-list-grid .application-actions .history-btn,
.tracker-list-grid .application-actions .delete-btn {
  min-height: 32px;
  padding: 0 10px;
  border-radius: 8px;
  font-size: 0.78rem;
}

.nav-sidebar {
  padding: var(--space-2) var(--space-1);
}

.nav-icons {
  gap: var(--space-1);
}

.nav-icon,
.user-avatar-small {
  width: 40px;
  height: 40px;
  border-radius: 9px;
}

.nav-icon-svg {
  width: 18px;
  height: 18px;
}

.nav-drawer-list {
  gap: var(--space-1);
}

.nav-drawer-item {
  min-height: 36px;
  padding: var(--space-1) 10px;
  gap: var(--space-1);
  font-size: 0.84rem;
}

/* Apple-like glass treatment for navigation */
.nav-sidebar {
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.11) 0%, rgba(255, 255, 255, 0.03) 100%),
    rgba(20, 24, 34, 0.62);
  border: 1px solid rgba(255, 255, 255, 0.14);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.2),
    inset 0 -1px 0 rgba(255, 255, 255, 0.05),
    0 18px 34px rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(18px) saturate(150%);
}

.nav-sidebar::before {
  content: "";
  position: absolute;
  left: 8px;
  right: 8px;
  top: 8px;
  height: 26%;
  border-radius: 10px;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.18), transparent 75%);
  pointer-events: none;
}

.nav-icon,
.user-avatar-small,
.nav-burger {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.09), rgba(255, 255, 255, 0.04));
  border-color: rgba(255, 255, 255, 0.17);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.18);
}

.nav-icon:hover,
.user-avatar-small:hover,
.nav-burger:hover {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.07));
  border-color: rgba(255, 255, 255, 0.24);
}

.nav-icon.active,
.user-avatar-small.active,
.nav-burger.active {
  background: linear-gradient(180deg, rgba(150, 116, 255, 0.88), rgba(134, 102, 221, 0.82));
  border-color: rgba(212, 194, 255, 0.48);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.32),
    0 8px 18px rgba(98, 72, 188, 0.35);
  color: #f8f6ff;
}

.nav-drawer {
  border: 1px solid rgba(255, 255, 255, 0.16);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.13) 0%, rgba(255, 255, 255, 0.03) 100%),
    rgba(31, 39, 56, 0.74);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.2),
    0 18px 36px rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(22px) saturate(165%);
}

.nav-drawer-item {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.04));
  border-color: rgba(255, 255, 255, 0.14);
}

.nav-drawer-item:hover {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.07));
  border-color: rgba(255, 255, 255, 0.22);
}

.nav-drawer-item.active {
  background: linear-gradient(180deg, rgba(150, 116, 255, 0.88), rgba(134, 102, 221, 0.82));
  border-color: rgba(214, 196, 255, 0.48);
  color: #f7f4ff;
}

.App:not(.dark-mode) .nav-sidebar {
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.82) 0%, rgba(255, 255, 255, 0.64) 100%),
    rgba(239, 244, 250, 0.85);
  border-color: rgba(151, 167, 190, 0.34);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.9),
    inset 0 -1px 0 rgba(255, 255, 255, 0.45),
    0 14px 24px rgba(71, 85, 105, 0.14);
}

.App:not(.dark-mode) .nav-sidebar::before {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.9), transparent 72%);
}

.App:not(.dark-mode) .nav-drawer {
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.88) 0%, rgba(255, 255, 255, 0.72) 100%),
    rgba(244, 248, 253, 0.88);
  border-color: rgba(151, 167, 190, 0.34);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.92),
    0 16px 28px rgba(71, 85, 105, 0.16);
}

.workspace-area,
.tracker-panel,
.deadlines-panel,
.requirements-panel,
.docs-panel,
.settings-panel {
  gap: var(--space-3);
}

.home-welcome-card,
.home-metric-card,
.home-tips-card,
.settings-card,
.application-essay-list-card,
.insight-card,
.detail-list-card,
.tracker-metric-card,
.tracker-form-card,
.application-card,
.essay-section,
.versions-panel,
.essay-header,
.review-section,
.essay-form,
.user-profile-card,
.empty-state-main {
  padding: var(--space-3);
}

@media (max-width: 1220px) {
  .app-layout {
    grid-template-columns: 220px minmax(0, 1fr) 312px;
    padding: 18px;
  }

  .home-dashboard,
  .application-home-panel {
    grid-template-columns: 1fr;
  }

  .home-hero-card,
  .home-stats-card,
  .home-recent-card,
  .home-checklist-card {
    grid-column: 1;
  }

  .home-stats-card.home-stats-wide {
    grid-template-columns: 1fr;
  }

  .essay-header-layout {
    grid-template-columns: 1fr;
    align-items: start;
  }

  .essay-action-group {
    justify-content: flex-start;
  }

  .settings-grid,
  .home-metrics-grid,
  .tracker-metrics-grid,
  .insights-grid {
    grid-template-columns: 1fr;
  }

  .tracker-form-grid,
  .tracker-list-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 980px) {
  body {
    padding: 12px;
  }

  .App {
    width: min(1380px, calc(100vw - 24px));
    height: auto;
    min-height: calc(100vh - 24px);
  }

  .app-layout {
    grid-template-columns: 1fr;
  }

  .nav-sidebar {
    order: 1;
    flex-direction: row;
    justify-content: space-between;
    padding: 10px 12px;
    border-right-color: rgba(255, 255, 255, 0.06);
  }

  .sidebar-top-controls {
    width: auto;
    margin-bottom: 0;
  }

  .nav-drawer {
    left: 8px;
    right: 8px;
    top: calc(100% + 8px);
    bottom: auto;
    width: auto;
    transform: translateY(-10px) scale(0.99);
  }

  .nav-drawer.open {
    transform: translateY(0) scale(1);
  }

  .nav-icons {
    flex-direction: row;
  }

  .main-content {
    order: 2;
  }

  .right-sidebar {
    order: 3;
  }

  .home-cta-btn {
    width: 100%;
  }

  .tracker-top-row {
    flex-direction: column;
    align-items: stretch;
  }

  .tracker-add-btn {
    width: 100%;
  }

  .application-meta-grid {
    grid-template-columns: 1fr;
  }

  .application-card-footer {
    flex-direction: column;
    align-items: flex-start;
  }

  .timeline-header {
    flex-direction: column;
    align-items: stretch;
  }

  .timeline-controls {
    justify-content: space-between;
  }

  .detail-item {
    flex-direction: column;
    align-items: flex-start;
  }

  .detail-item-meta {
    flex-wrap: wrap;
  }

  .docs-header-row {
    flex-direction: column;
    align-items: stretch;
  }

  .docs-application-select {
    min-width: 0;
    width: 100%;
  }

  .docs-copy-row {
    flex-direction: column;
    align-items: stretch;
  }

  .docs-copy-btn {
    width: 100%;
  }

  .global-theme-toggle {
    top: 10px;
    right: 12px;
  }
}

/* Light-mode remediation: keep dark aesthetic only for .dark-mode */
body:not(.dark-body) {
  background: linear-gradient(180deg, #e8edf3 0%, #f2f5f9 100%);
}

.App:not(.dark-mode) {
  --ds-surface: rgba(255, 255, 255, 0.88);
  --ds-surface-soft: rgba(248, 250, 253, 0.92);
  --ds-border: rgba(20, 30, 45, 0.1);
  --ds-border-strong: rgba(20, 30, 45, 0.18);
  --ds-text: #121a28;
  --ds-text-soft: #546274;
  background: #f8fbff;
  border-color: rgba(20, 30, 45, 0.12);
  box-shadow: 0 18px 40px rgba(20, 32, 51, 0.12);
}

.App:not(.dark-mode) .nav-sidebar {
  background: rgba(245, 248, 252, 0.95);
  border-color: rgba(20, 30, 45, 0.1);
}

.App:not(.dark-mode) .main-content,
.App:not(.dark-mode) .right-sidebar {
  background: rgba(250, 252, 255, 0.96);
  border-color: rgba(20, 30, 45, 0.1);
}

.App:not(.dark-mode) .nav-icon,
.App:not(.dark-mode) .user-avatar-small {
  background: rgba(255, 255, 255, 0.92);
  border-color: rgba(20, 30, 45, 0.12);
  color: #5a6678;
}

.App:not(.dark-mode) .nav-icon:hover,
.App:not(.dark-mode) .user-avatar-small:hover {
  background: #ffffff;
  border-color: rgba(20, 30, 45, 0.2);
  color: #1f2a3b;
}

.App:not(.dark-mode) .nav-icon.active,
.App:not(.dark-mode) .user-avatar-small.active,
.App:not(.dark-mode) .nav-burger.active {
  background: #ffffff;
  color: #111827;
  border-color: rgba(76, 98, 255, 0.35);
}

.App:not(.dark-mode) .nav-burger {
  background: rgba(255, 255, 255, 0.92);
  color: #334155;
}

.App:not(.dark-mode) .nav-drawer {
  background: rgba(255, 255, 255, 0.96);
  border-color: rgba(20, 30, 45, 0.12);
  box-shadow: 0 18px 32px rgba(20, 30, 45, 0.16);
}

.App:not(.dark-mode) .nav-drawer-item {
  background: rgba(245, 248, 252, 0.85);
  border-color: rgba(20, 30, 45, 0.1);
  color: #4b5563;
}

.App:not(.dark-mode) .nav-drawer-item:hover {
  background: #ffffff;
  border-color: rgba(20, 30, 45, 0.18);
  color: #111827;
}

.App:not(.dark-mode) .nav-drawer-item.active {
  background: #eef2ff;
  border-color: rgba(76, 98, 255, 0.3);
  color: #1f2a44;
}

.App:not(.dark-mode) .content-header h1,
.App:not(.dark-mode) .workspace-area h1,
.App:not(.dark-mode) .workspace-area h2,
.App:not(.dark-mode) .workspace-area h3,
.App:not(.dark-mode) .workspace-area h4,
.App:not(.dark-mode) .workspace-area strong,
.App:not(.dark-mode) .right-sidebar h3,
.App:not(.dark-mode) .right-sidebar strong {
  color: #121a28;
}

.App:not(.dark-mode) .workspace-area p,
.App:not(.dark-mode) .workspace-area span,
.App:not(.dark-mode) .workspace-area small,
.App:not(.dark-mode) .right-sidebar p,
.App:not(.dark-mode) .right-sidebar span,
.App:not(.dark-mode) .right-sidebar small,
.App:not(.dark-mode) .header-subtitle {
  color: #58677b;
}

.App:not(.dark-mode) .review-btn,
.App:not(.dark-mode) .history-btn,
.App:not(.dark-mode) .delete-btn,
.App:not(.dark-mode) .version-btn,
.App:not(.dark-mode) .new-essay-btn,
.App:not(.dark-mode) .secondary-action-btn,
.App:not(.dark-mode) .form-actions button,
.App:not(.dark-mode) .docs-copy-btn,
.App:not(.dark-mode) .timeline-nav-btn {
  background: rgba(255, 255, 255, 0.92);
  border-color: rgba(20, 30, 45, 0.14);
  color: #1f2937;
}

.App:not(.dark-mode) .review-btn:hover,
.App:not(.dark-mode) .history-btn:hover,
.App:not(.dark-mode) .delete-btn:hover,
.App:not(.dark-mode) .version-btn:hover,
.App:not(.dark-mode) .new-essay-btn:hover,
.App:not(.dark-mode) .secondary-action-btn:hover,
.App:not(.dark-mode) .form-actions button:hover,
.App:not(.dark-mode) .docs-copy-btn:hover,
.App:not(.dark-mode) .timeline-nav-btn:hover {
  background: #ffffff;
  border-color: rgba(20, 30, 45, 0.22);
}

.App:not(.dark-mode) .tracker-search-row input {
  background: #ffffff;
  color: #1f2937;
  border-color: rgba(20, 30, 45, 0.16);
}

.App:not(.dark-mode) .tracker-search-row input::placeholder {
  color: #8a94a5;
}

.App:not(.dark-mode) .tracker-search-row input:focus {
  border-color: rgba(76, 98, 255, 0.42);
  box-shadow: 0 0 0 1px rgba(76, 98, 255, 0.25);
  background: #ffffff;
}

/* Settings placement + checkbox toggle polish */
.user-profile-card {
  position: relative;
  padding: 14px 16px;
}

.user-profile-headline {
  display: grid;
  grid-template-columns: auto minmax(0, 1fr) auto;
  align-items: center;
  gap: 12px;
}

.profile-settings-btn {
  position: relative;
  width: 36px;
  height: 36px;
  border-radius: 10px;
  border: 1px solid rgba(17, 16, 22, 0.14);
  background: rgba(255, 255, 255, 0.72);
  color: #2f3e57;
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: all 0.18s ease;
}

.profile-settings-btn .nav-icon-svg {
  width: 16px;
  height: 16px;
}

.profile-settings-btn:hover {
  background: rgba(255, 255, 255, 0.94);
  border-color: rgba(17, 16, 22, 0.2);
}

.profile-settings-btn.active {
  color: #ffffff;
  border-color: rgba(149, 126, 241, 0.54);
  background: linear-gradient(135deg, #8772ea, #7395f2);
  box-shadow: 0 8px 18px rgba(76, 88, 164, 0.38);
}

.profile-settings-tooltip {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  transform: translateY(-4px);
  background: rgba(15, 22, 35, 0.95);
  color: #ecf2ff;
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 8px;
  padding: 4px 8px;
  font-size: 0.72rem;
  font-weight: 650;
  line-height: 1.2;
  pointer-events: none;
  white-space: nowrap;
  opacity: 0;
  transition: opacity 0.16s ease, transform 0.16s ease;
}

.profile-settings-btn:hover .profile-settings-tooltip,
.profile-settings-btn:focus-visible .profile-settings-tooltip {
  opacity: 1;
  transform: translateY(0);
}

.form-group-checkbox-switch .setting-row {
  margin-top: 24px;
}

.form-group-checkbox-switch .setting-row span {
  font-weight: 600;
}

.App.dark-mode .profile-settings-btn {
  border-color: rgba(255, 255, 255, 0.2);
  background: rgba(255, 255, 255, 0.08);
  color: #dce5f8;
}

.App.dark-mode .profile-settings-btn:hover {
  background: rgba(255, 255, 255, 0.14);
  border-color: rgba(255, 255, 255, 0.32);
}

.App.dark-mode .profile-settings-btn.active {
  color: #ffffff;
  border-color: rgba(206, 213, 255, 0.44);
  background: linear-gradient(135deg, rgba(139, 110, 248, 0.92), rgba(118, 142, 252, 0.88));
  box-shadow: 0 12px 24px rgba(82, 91, 173, 0.48);
}

.App:not(.dark-mode) .profile-settings-tooltip {
  background: rgba(255, 255, 255, 0.97);
  color: #263752;
  border-color: rgba(120, 140, 178, 0.28);
  box-shadow: 0 8px 18px rgba(54, 74, 109, 0.12);
}

.user-details {
  align-items: flex-start;
  gap: 4px;
  min-width: 0;
}

.user-name {
  font-size: 1.25rem;
  line-height: 1.2;
}

/* Final fix: light-mode settings form controls */
.App:not(.dark-mode) .settings-panel .form-group label {
  color: #5d6c83;
}

.App:not(.dark-mode) .settings-panel .form-group input,
.App:not(.dark-mode) .settings-panel .form-group select,
.App:not(.dark-mode) .settings-panel .form-group textarea {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.96), rgba(246, 250, 255, 0.92));
  border: 1px solid rgba(128, 148, 184, 0.3);
  color: #1f2b40;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.72);
}

.App:not(.dark-mode) .settings-panel .form-group input::placeholder,
.App:not(.dark-mode) .settings-panel .form-group textarea::placeholder {
  color: #90a0b7;
}

.App:not(.dark-mode) .settings-panel .form-group input:focus,
.App:not(.dark-mode) .settings-panel .form-group select:focus,
.App:not(.dark-mode) .settings-panel .form-group textarea:focus {
  border-color: rgba(116, 132, 214, 0.55);
  box-shadow: 0 0 0 3px rgba(132, 149, 230, 0.18);
  background: #ffffff;
}

/* Final fix: light-mode Document Center controls */
.App:not(.dark-mode) .docs-application-select,
.App:not(.dark-mode) .doc-item-header select,
.App:not(.dark-mode) .doc-item textarea {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.97), rgba(246, 250, 255, 0.92));
  border: 1px solid rgba(128, 148, 184, 0.32);
  color: #1f2b40;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.74);
}

.App:not(.dark-mode) .docs-application-select option,
.App:not(.dark-mode) .doc-item-header select option {
  background: #ffffff;
  color: #1f2b40;
}

.App:not(.dark-mode) .doc-item textarea::placeholder {
  color: #92a2b9;
}

.App:not(.dark-mode) .docs-application-select:focus,
.App:not(.dark-mode) .doc-item-header select:focus,
.App:not(.dark-mode) .doc-item textarea:focus {
  outline: none;
  border-color: rgba(116, 132, 214, 0.56);
  box-shadow: 0 0 0 3px rgba(132, 149, 230, 0.18);
  background: #ffffff;
}

/* Final fix: light-mode New Essay form controls */
.App:not(.dark-mode) .essay-form .form-group label {
  color: #5d6c83;
}

.App:not(.dark-mode) .essay-form .form-group input,
.App:not(.dark-mode) .essay-form .form-group select,
.App:not(.dark-mode) .essay-form .form-group textarea {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.97), rgba(246, 250, 255, 0.92));
  border: 1px solid rgba(128, 148, 184, 0.32);
  color: #1f2b40;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.74);
}

.App:not(.dark-mode) .essay-form .form-group input::placeholder,
.App:not(.dark-mode) .essay-form .form-group textarea::placeholder {
  color: #92a2b9;
}

.App:not(.dark-mode) .essay-form .form-group select option {
  background: #ffffff;
  color: #1f2b40;
}

.App:not(.dark-mode) .essay-form .form-group input:focus,
.App:not(.dark-mode) .essay-form .form-group select:focus,
.App:not(.dark-mode) .essay-form .form-group textarea:focus {
  outline: none;
  border-color: rgba(116, 132, 214, 0.56);
  box-shadow: 0 0 0 3px rgba(132, 149, 230, 0.18);
  background: #ffffff;
}

/* =========================================================
   Soft Modern Phase 1: Shell + Sidebar Foundation
   ========================================================= */
body {
  background: #f4f5f7;
}

body.dark-body {
  background: #09090b;
}

.App {
  width: min(1560px, calc(100vw - 36px));
  height: calc(100vh - 36px);
  border-radius: 36px;
  background: #f4f5f7;
  border: 1px solid rgba(17, 24, 39, 0.08);
  box-shadow: 0 8px 30px rgb(0 0 0 / 4%);
}

.App.dark-mode {
  background: #09090b;
  border-color: rgba(255, 255, 255, 0.08);
  box-shadow: none;
}

.app-layout {
  grid-template-columns: 280px minmax(0, 1fr) 360px;
  gap: 22px;
  padding: 22px;
}

.soft-sidebar {
  position: relative;
  display: flex;
  flex-direction: column;
  border-radius: 32px;
  padding: 22px 18px;
  background: #f4f5f7;
  border: 1px solid rgba(17, 24, 39, 0.06);
  box-shadow: 0 8px 30px rgb(0 0 0 / 4%);
  align-items: stretch;
  width: 100%;
  min-width: 0;
  max-width: none;
  overflow: hidden;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

.soft-sidebar::before {
  content: none;
}

.App.dark-mode .soft-sidebar {
  background: #09090b;
  border-color: rgba(255, 255, 255, 0.08);
  box-shadow: none;
}

.sidebar-brand {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  margin-bottom: 20px;
  padding: 0 6px;
}

.sidebar-brand-mark {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 36px;
  min-width: 72px;
  border-radius: 999px;
  background: rgba(17, 24, 39, 0.06);
  color: #111827;
  font-size: 0.76rem;
  letter-spacing: 0.14em;
  font-weight: 800;
}

.App.dark-mode .sidebar-brand-mark {
  background: rgba(255, 255, 255, 0.08);
  color: #fafafa;
}

.soft-nav-drawer {
  position: static;
  inset: auto;
  width: 100%;
  min-height: 0;
  max-height: none;
  padding: 0;
  border: none;
  background: transparent;
  box-shadow: none;
  transform: none;
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

.soft-nav-list {
  display: grid;
  gap: 8px;
  overflow: visible;
  width: 100%;
}

.soft-nav-item {
  display: flex;
  width: 100%;
  min-height: 44px;
  padding: 0 14px;
  border-radius: 999px;
  border: 1px solid transparent;
  background: transparent;
  color: #6b7280;
  font-weight: 600;
  font-size: 0.95rem;
  gap: 10px;
  justify-content: flex-start;
  text-align: left;
  align-items: center;
  white-space: nowrap;
}

.soft-nav-item:hover {
  color: #111827;
  background: rgba(17, 24, 39, 0.05);
  border-color: rgba(17, 24, 39, 0.06);
}

.soft-nav-item.active {
  color: #ffffff;
  background: #111111;
  border-color: transparent;
}

.App.dark-mode .soft-nav-item {
  color: #a1a1aa;
}

.App.dark-mode .soft-nav-item:hover {
  color: #ffffff;
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.1);
}

.App.dark-mode .soft-nav-item.active {
  color: #111111;
  background: #ffffff;
}

.App:not(.dark-mode) .soft-nav-item {
  color: #6b7280;
  background: transparent;
  border-color: transparent;
}

.App:not(.dark-mode) .soft-nav-item:hover {
  color: #111827;
  background: rgba(17, 24, 39, 0.05);
  border-color: rgba(17, 24, 39, 0.06);
}

.App:not(.dark-mode) .soft-nav-item.active {
  color: #ffffff;
  background: #111111;
  border-color: transparent;
}

.soft-nav-item .nav-icon-glyph {
  width: 16px;
  height: 16px;
  flex: 0 0 16px;
}

.soft-nav-item .nav-icon-svg {
  width: 16px;
  height: 16px;
}

.soft-nav-item span:last-child {
  display: inline-block;
}

.sidebar-theme-slot {
  margin-top: auto;
  padding-top: 16px;
}

.sidebar-theme-toggle {
  width: 100%;
  min-height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(17, 24, 39, 0.08);
  background: #ffffff;
  color: #111827;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 0.9rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
}

.sidebar-theme-toggle:hover {
  background: #111111;
  color: #ffffff;
}

.sidebar-theme-icon {
  font-size: 0.9rem;
  line-height: 1;
}

.App.dark-mode .sidebar-theme-toggle {
  background: #18181b;
  border-color: rgba(255, 255, 255, 0.15);
  color: #fafafa;
}

.App.dark-mode .sidebar-theme-toggle:hover {
  background: #ffffff;
  color: #111111;
}

.main-content,
.right-sidebar {
  border-radius: 32px;
  background: #ffffff;
  border: 1px solid rgba(17, 24, 39, 0.08);
  box-shadow: 0 8px 30px rgb(0 0 0 / 4%);
}

.App.dark-mode .main-content,
.App.dark-mode .right-sidebar {
  background: #18181b;
  border-color: rgba(255, 255, 255, 0.08);
  box-shadow: none;
}

.App .global-theme-toggle {
  display: none;
}

.auth-page-shell .global-theme-toggle {
  display: inline-flex;
}

@media (max-width: 1260px) {
  .app-layout {
    grid-template-columns: 240px minmax(0, 1fr) 320px;
  }
}

/* =========================================================
   Soft Modern Phase 2/3: Views + Cards + Controls
   ========================================================= */
.App .workspace-area,
.App .tracker-panel,
.App .deadlines-panel,
.App .requirements-panel,
.App .docs-panel,
.App .settings-panel,
.App .home-dashboard,
.App .application-home-panel {
  display: grid;
  gap: 24px;
}

.App .home-dashboard,
.App .application-home-panel {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.App .home-hero-card {
  grid-column: span 2;
}

.App .home-stats-card {
  grid-column: span 1;
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
  align-content: start;
}

.App .home-stats-card.home-stats-wide {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.App .home-recent-card {
  grid-column: span 2;
}

.App .home-recent-full {
  grid-column: 1 / -1;
}

.App .home-checklist-card {
  grid-column: span 1;
}

.App .home-welcome-card,
.App .home-metric-card,
.App .home-tips-card,
.App .settings-card,
.App .application-essay-list-card,
.App .insight-card,
.App .detail-list-card,
.App .tracker-metric-card,
.App .tracker-form-card,
.App .application-card,
.App .essay-section,
.App .versions-panel,
.App .essay-header,
.App .review-section,
.App .essay-form,
.App .user-profile-card,
.App .empty-state-main {
  border-radius: 32px;
  padding: 24px;
  border: 1px solid rgba(17, 24, 39, 0.08);
  background: #ffffff;
  box-shadow: 0 8px 30px rgb(0 0 0 / 4%);
}

.App .home-welcome-card h2,
.App .tracker-top-row h2,
.App .settings-panel h2,
.App .detail-list-card h3,
.App .insight-card h3,
.App .application-card-top h3,
.App .essay-section h3 {
  font-size: 1.55rem;
  font-weight: 800;
  letter-spacing: -0.02em;
}

.App .home-welcome-card p,
.App .tracker-top-row p,
.App .detail-list-card p,
.App .application-meta-grid p,
.App .detail-item-meta,
.App .timeline-controls,
.App .timeline-weekday,
.App .timeline-more {
  color: #6b7280;
}

.App .tracker-metrics-grid,
.App .insights-grid,
.App .home-metrics-grid {
  gap: 16px;
}

.App .tracker-search-row input {
  border-radius: 999px;
  padding: 13px 18px;
  border: 1px solid rgba(17, 24, 39, 0.12);
  background: #ffffff;
  box-shadow: 0 4px 16px rgb(0 0 0 / 3%);
  color: #111827;
}

.App .tracker-search-row input:focus {
  border-color: rgba(99, 102, 241, 0.45);
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.14);
}

.App .new-essay-btn,
.App .tracker-add-btn,
.App .home-cta-btn {
  border-radius: 999px;
  border: 1px solid transparent;
  background: #111111;
  color: #ffffff;
  min-height: 44px;
  padding: 0 20px;
  font-weight: 700;
}

.App .new-essay-btn:hover,
.App .tracker-add-btn:hover,
.App .home-cta-btn:hover {
  background: #1f2937;
}

.App .secondary-action-btn {
  border-radius: 999px;
  border: 1px solid rgba(17, 24, 39, 0.18);
  background: transparent;
  color: #374151;
}

.App .application-status {
  background: #e0e7ff;
  color: #4338ca;
}

.App .deadline-chip,
.App .urgency-chip.done {
  background: #dcfce7;
  color: #15803d;
}

.App .urgency-chip.critical {
  background: #fef3c7;
  color: #92400e;
}

.App .deadline-chip.late,
.App .urgency-chip.late {
  background: #fee2e2;
  color: #b91c1c;
}

.App .score-pill,
.App .program-type {
  background: #eef2ff;
  color: #4f46e5;
  border-radius: 999px;
  border: 0;
}

.App .application-item {
  border-radius: 26px;
  border: 1px solid rgba(17, 24, 39, 0.08);
  background: #ffffff;
  box-shadow: 0 8px 24px rgb(0 0 0 / 3%);
}

.App .essay-item.selected {
  border-color: rgba(99, 102, 241, 0.42);
  box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.14);
}

.App .detail-item,
.App .application-essay-item {
  border-radius: 20px;
  border: 1px solid rgba(17, 24, 39, 0.08);
  background: rgba(248, 250, 252, 0.8);
}

.App .detail-item:hover,
.App .application-essay-item:hover,
.App .application-essay-item.active {
  background: #eef2ff;
  border-color: rgba(99, 102, 241, 0.28);
}

.App.dark-mode .home-welcome-card,
.App.dark-mode .home-metric-card,
.App.dark-mode .home-tips-card,
.App.dark-mode .settings-card,
.App.dark-mode .application-essay-list-card,
.App.dark-mode .insight-card,
.App.dark-mode .detail-list-card,
.App.dark-mode .tracker-metric-card,
.App.dark-mode .tracker-form-card,
.App.dark-mode .application-card,
.App.dark-mode .essay-section,
.App.dark-mode .versions-panel,
.App.dark-mode .essay-header,
.App.dark-mode .review-section,
.App.dark-mode .essay-form,
.App.dark-mode .user-profile-card,
.App.dark-mode .empty-state-main {
  background: #18181b;
  border-color: rgba(255, 255, 255, 0.08);
  box-shadow: none;
}

.App.dark-mode .home-welcome-card h2,
.App.dark-mode .tracker-top-row h2,
.App.dark-mode .settings-panel h2,
.App.dark-mode .detail-list-card h3,
.App.dark-mode .insight-card h3,
.App.dark-mode .application-card-top h3,
.App.dark-mode .essay-section h3 {
  color: #fafafa;
}

.App.dark-mode .home-welcome-card p,
.App.dark-mode .tracker-top-row p,
.App.dark-mode .detail-list-card p,
.App.dark-mode .application-meta-grid p,
.App.dark-mode .detail-item-meta,
.App.dark-mode .timeline-controls,
.App.dark-mode .timeline-weekday,
.App.dark-mode .timeline-more {
  color: #a1a1aa;
}

.App.dark-mode .tracker-search-row input {
  background: #27272a;
  border-color: rgba(255, 255, 255, 0.12);
  color: #fafafa;
  box-shadow: none;
}

.App.dark-mode .tracker-search-row input::placeholder {
  color: #71717a;
}

.App.dark-mode .tracker-search-row input:focus {
  border-color: rgba(129, 140, 248, 0.5);
  box-shadow: 0 0 0 3px rgba(129, 140, 248, 0.16);
}

.App.dark-mode .new-essay-btn,
.App.dark-mode .tracker-add-btn,
.App.dark-mode .home-cta-btn {
  background: #ffffff;
  color: #111111;
}

.App.dark-mode .new-essay-btn:hover,
.App.dark-mode .tracker-add-btn:hover,
.App.dark-mode .home-cta-btn:hover {
  background: #e4e4e7;
}

.App.dark-mode .secondary-action-btn {
  background: transparent;
  border-color: rgba(255, 255, 255, 0.16);
  color: #d4d4d8;
}

.App.dark-mode .application-status {
  background: rgba(99, 102, 241, 0.22);
  color: #c7d2fe;
}

.App.dark-mode .deadline-chip,
.App.dark-mode .urgency-chip.done {
  background: rgba(34, 197, 94, 0.24);
  color: #86efac;
}

.App.dark-mode .urgency-chip.critical {
  background: rgba(245, 158, 11, 0.2);
  color: #fde68a;
}

.App.dark-mode .deadline-chip.late,
.App.dark-mode .urgency-chip.late {
  background: rgba(248, 113, 113, 0.2);
  color: #fecaca;
}

.App.dark-mode .score-pill,
.App.dark-mode .program-type {
  background: rgba(99, 102, 241, 0.2);
  color: #c7d2fe;
}

.App.dark-mode .application-item {
  background: #1f2937 !important;
  border-color: rgba(255, 255, 255, 0.09);
  box-shadow: none;
}

.App.dark-mode .essay-item.selected {
  border-color: rgba(129, 140, 248, 0.56);
  box-shadow: 0 0 0 2px rgba(129, 140, 248, 0.2);
}

.App.dark-mode .detail-item,
.App.dark-mode .application-essay-item {
  background: #27272a;
  border-color: rgba(255, 255, 255, 0.1);
}

.App.dark-mode .detail-item:hover,
.App.dark-mode .application-essay-item:hover,
.App.dark-mode .application-essay-item.active {
  background: #312e81;
  border-color: rgba(129, 140, 248, 0.4);
}

@media (max-width: 1340px) {
  .App .home-dashboard,
  .App .application-home-panel {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .App .home-hero-card,
  .App .home-recent-card,
  .App .home-recent-full {
    grid-column: 1 / -1;
  }

  .App .home-checklist-card,
  .App .home-stats-card {
    grid-column: span 1;
  }
}

@media (max-width: 980px) {
  .App .home-dashboard,
  .App .application-home-panel {
    grid-template-columns: 1fr;
  }

  .App .home-stats-card.home-stats-wide {
    grid-template-columns: 1fr;
  }
}

/* =========================================================
   Soft Modern Phase 4: Typography + Hierarchy + Rhythm
   ========================================================= */
.App {
  font-family: "Inter", "Manrope", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

.App .content-header {
  margin-bottom: 24px;
  padding: 4px 2px 2px;
}

.App .content-header h1 {
  font-size: clamp(2rem, 3.6vw, 3.45rem);
  line-height: 1.04;
  letter-spacing: -0.03em;
  font-weight: 800;
}

.App .header-subtitle {
  margin-top: 10px;
  font-size: 1.02rem;
  font-weight: 500;
  color: #6b7280;
}

.App.dark-mode .header-subtitle {
  color: #a1a1aa;
}

.App .main-content,
.App .right-sidebar {
  padding: 24px;
}

.App .workspace-area {
  gap: 20px;
}

.App .right-sidebar {
  gap: 14px;
}

.App .user-profile-card {
  padding: 18px 18px;
}

.App .user-profile-headline {
  gap: 12px;
}

.App .user-avatar {
  width: 56px;
  height: 56px;
}

.App .user-name {
  font-size: 1.28rem;
  letter-spacing: -0.02em;
  color: #111827;
}

.App.dark-mode .user-name {
  color: #f5f5f5;
}

.App .logout-btn {
  color: #6b7280;
  font-size: 0.92rem;
  font-weight: 600;
}

.App.dark-mode .logout-btn {
  color: #a1a1aa;
}

.App .new-essay-btn,
.App .secondary-action-btn {
  min-height: 46px;
  font-size: 1rem;
  letter-spacing: -0.01em;
}

.App .essay-list {
  display: grid;
  gap: 12px;
}

.App .essay-list h3 {
  font-size: 1.02rem;
  letter-spacing: -0.01em;
  font-weight: 800;
  color: #111827;
}

.App.dark-mode .essay-list h3 {
  color: #f5f5f5;
}

.App .application-item {
  padding: 16px;
  border-radius: 24px;
}

.App .essay-card-header {
  align-items: center;
}

.App .essay-card-header strong {
  font-size: 1.02rem;
  letter-spacing: -0.01em;
}

.App .score-pill,
.App .program-type {
  padding: 6px 12px;
  font-size: 0.84rem;
  font-weight: 650;
}

.App .essay-item small {
  font-size: 0.86rem;
  font-weight: 520;
  opacity: 0.78 !important;
}

.App .tracker-metric-card p,
.App .insight-card p,
.App .home-metric-card p {
  font-size: clamp(1.5rem, 2.2vw, 2rem);
  line-height: 1.1;
}

.App .tracker-metric-card h3,
.App .insight-card h3,
.App .home-metric-card h3 {
  font-size: 0.92rem;
  font-weight: 700;
  letter-spacing: -0.01em;
}

.App .detail-list {
  gap: 10px;
}

.App .detail-item,
.App .application-essay-item {
  padding: 14px 16px;
}

.App .application-card-top {
  align-items: center;
}

.App .application-card-top h3 {
  font-size: clamp(1.24rem, 1.8vw, 1.55rem);
}

.App .application-meta-grid {
  gap: 10px 14px;
}

.App .application-card-footer {
  margin-top: 2px;
  padding-top: 10px;
  border-top: 1px solid rgba(17, 24, 39, 0.08);
}

.App.dark-mode .application-card-footer {
  border-top-color: rgba(255, 255, 255, 0.1);
}

.App .application-actions .history-btn,
.App .application-actions .delete-btn {
  border-radius: 999px;
  min-height: 38px;
  font-weight: 700;
}

.App .home-checklist-card p {
  margin-bottom: 6px;
}

.App .empty-state-main h2 {
  font-size: clamp(1.45rem, 2.3vw, 2rem);
}

.App .empty-state-main p {
  font-size: 0.98rem;
  color: #6b7280;
}

.App.dark-mode .empty-state-main p {
  color: #a1a1aa;
}

/* =========================================================
   Final pass: integrated left rail + top-right profile menu
   ========================================================= */
.App .app-layout {
  grid-template-columns: 108px minmax(0, 1fr) 360px;
  gap: 20px;
}

.App .soft-sidebar {
  background: transparent;
  border: none;
  box-shadow: none;
  border-radius: 0;
  padding: 10px 0 12px;
  overflow: visible;
}

.App.dark-mode .soft-sidebar {
  background: transparent;
  border: none;
  box-shadow: none;
}

.App .sidebar-brand {
  margin-bottom: 14px;
  padding: 0;
  justify-content: center;
}

.App .sidebar-brand-mark {
  min-width: 86px;
  height: 40px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.84);
  color: #f8fafc;
  letter-spacing: 0.2em;
  font-size: 0.86rem;
}

.App:not(.dark-mode) .sidebar-brand-mark {
  background: #111111;
  color: #ffffff;
}

.App .soft-nav-drawer {
  width: 100%;
}

.App .soft-nav-list {
  gap: 10px;
}

.App .soft-nav-item {
  min-height: 48px;
  border-radius: 16px;
  padding: 0 14px;
  border: 1px solid rgba(148, 163, 184, 0.28);
  background: rgba(51, 65, 85, 0.08);
  color: #64748b;
  justify-content: center;
}

.App .soft-nav-item span:last-child {
  display: none;
}

.App .soft-nav-item .nav-icon-glyph,
.App .soft-nav-item .nav-icon-svg {
  width: 18px;
  height: 18px;
}

.App .soft-nav-item:hover {
  border-color: rgba(129, 140, 248, 0.45);
  color: #1f2937;
  background: rgba(99, 102, 241, 0.14);
}

.App .soft-nav-item.active {
  color: #ffffff;
  border-color: rgba(129, 140, 248, 0.5);
  background: linear-gradient(135deg, #8b5cf6, #6d73ff);
  box-shadow: 0 16px 28px rgba(99, 102, 241, 0.25);
}

.App.dark-mode .soft-nav-item {
  color: #cbd5e1;
  border-color: rgba(148, 163, 184, 0.32);
  background: rgba(30, 41, 59, 0.6);
}

.App.dark-mode .soft-nav-item:hover {
  color: #eef2ff;
  border-color: rgba(129, 140, 248, 0.52);
  background: rgba(99, 102, 241, 0.25);
}

.App.dark-mode .soft-nav-item.active {
  color: #ffffff;
  border-color: rgba(167, 139, 250, 0.68);
  background: linear-gradient(135deg, #8b5cf6, #6875ff);
  box-shadow: 0 16px 28px rgba(109, 40, 217, 0.34);
}

.App .sidebar-theme-slot {
  margin-top: auto;
  padding-top: 14px;
  display: grid;
  justify-items: center;
}

.App .sidebar-theme-toggle-group {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  border-radius: 999px;
  padding: 8px;
  border: 1px solid rgba(148, 163, 184, 0.34);
  background: rgba(255, 255, 255, 0.7);
  box-shadow: 0 8px 24px rgba(15, 23, 42, 0.08);
}

.App.dark-mode .sidebar-theme-toggle-group {
  background: rgba(30, 41, 59, 0.62);
  border-color: rgba(148, 163, 184, 0.32);
  box-shadow: 0 14px 28px rgba(2, 8, 23, 0.42);
}

.App .sidebar-theme-icon-btn {
  width: 34px;
  height: 34px;
  border-radius: 999px;
  border: 1px solid transparent;
  display: grid;
  place-items: center;
  background: transparent;
  color: #64748b;
  cursor: pointer;
  transition: all 0.18s ease;
}

.App .sidebar-theme-icon-btn:hover {
  color: #1f2937;
  background: rgba(15, 23, 42, 0.07);
}

.App .sidebar-theme-icon-btn.active {
  color: #ffffff;
  background: #111827;
  border-color: rgba(17, 24, 39, 0.42);
}

.App.dark-mode .sidebar-theme-icon-btn {
  color: #cbd5e1;
}

.App.dark-mode .sidebar-theme-icon-btn:hover {
  color: #f8fafc;
  background: rgba(148, 163, 184, 0.15);
}

.App.dark-mode .sidebar-theme-icon-btn.active {
  background: #ffffff;
  color: #111827;
  border-color: rgba(255, 255, 255, 0.6);
}

.App .content-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
}

.App .content-header-main {
  min-width: 0;
}

.App .header-profile-menu {
  position: relative;
  margin-top: 2px;
}

.App .header-profile-trigger {
  width: 38px;
  height: 38px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.36);
  background: rgba(255, 255, 255, 0.86);
  color: #334155;
  display: grid;
  place-items: center;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.18s ease;
}

.App .header-profile-trigger:hover {
  transform: translateY(-1px);
  border-color: rgba(129, 140, 248, 0.46);
  box-shadow: 0 10px 22px rgba(99, 102, 241, 0.2);
}

.App .header-profile-avatar-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.App .header-profile-avatar-fallback {
  font-size: 1rem;
}

.App.dark-mode .header-profile-trigger {
  background: rgba(30, 41, 59, 0.86);
  border-color: rgba(148, 163, 184, 0.38);
  color: #dbeafe;
}

.App.dark-mode .header-profile-trigger:hover {
  border-color: rgba(167, 139, 250, 0.5);
  box-shadow: 0 10px 24px rgba(109, 40, 217, 0.26);
}

.App .header-profile-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  z-index: 40;
  min-width: 160px;
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.36);
  background: rgba(255, 255, 255, 0.98);
  padding: 8px;
  display: grid;
  gap: 6px;
  box-shadow: 0 20px 40px rgba(15, 23, 42, 0.14);
}

.App.dark-mode .header-profile-dropdown {
  background: rgba(24, 24, 27, 0.96);
  border-color: rgba(148, 163, 184, 0.34);
  box-shadow: 0 26px 44px rgba(2, 6, 23, 0.55);
}

.App .header-profile-action {
  width: 100%;
  min-height: 36px;
  border-radius: 10px;
  border: 1px solid transparent;
  background: transparent;
  color: #334155;
  text-align: left;
  font-size: 0.9rem;
  font-weight: 650;
  padding: 0 10px;
  cursor: pointer;
  transition: all 0.16s ease;
}

.App .header-profile-action:hover {
  background: rgba(99, 102, 241, 0.1);
  color: #1e1b4b;
}

.App .header-profile-action.danger:hover {
  background: rgba(239, 68, 68, 0.12);
  color: #b91c1c;
}

.App.dark-mode .header-profile-action {
  color: #d1d5db;
}

.App.dark-mode .header-profile-action:hover {
  background: rgba(99, 102, 241, 0.24);
  color: #f5f3ff;
}

.App.dark-mode .header-profile-action.danger:hover {
  background: rgba(248, 113, 113, 0.2);
  color: #fecaca;
}

.App .right-sidebar {
  padding-top: 20px;
}

@media (max-width: 1260px) {
  .App .app-layout {
    grid-template-columns: 88px minmax(0, 1fr) 320px;
  }
}

/* =========================================================
   Sidebar pass: match reference (text rows + integrated rail)
   ========================================================= */
.App .app-layout {
  grid-template-columns: 248px minmax(0, 1fr) 360px;
  gap: 22px;
}

.App .app-layout {
  width: 100%;
  box-sizing: border-box;
  max-width: 100%;
}

.App .right-sidebar {
  box-sizing: border-box;
  width: 100%;
}

@media (max-width: 1100px) {
  .App .app-layout {
    grid-template-columns: 88px minmax(0, 1fr);
  }

  .App .right-sidebar {
    grid-column: 1 / -1;
  }
}

.App .soft-sidebar {
  background: transparent;
  border: none;
  box-shadow: none;
  border-radius: 0;
  padding: 10px 0 16px;
}

.App .sidebar-brand {
  justify-content: flex-start;
  padding-left: 16px;
  margin-bottom: 16px;
}

.App .sidebar-brand-mark {
  min-width: 126px;
  height: 58px;
  border-radius: 999px;
  background: #09090b;
  color: #ffffff;
  letter-spacing: 0.22em;
  font-size: 1.05rem;
  font-weight: 800;
}

.App.dark-mode .sidebar-brand-mark {
  background: #f8fafc;
  color: #09090b;
}

.App .soft-nav-list {
  gap: 4px;
  padding: 2px 8px 0 8px;
}

.App .soft-nav-item {
  min-height: 48px;
  border-radius: 14px;
  border: 1px solid transparent;
  background: transparent;
  justify-content: flex-start;
  gap: 12px;
  padding: 0 14px;
  color: #6b7280;
  font-size: 1.12rem;
  font-weight: 600;
}

.App .soft-nav-item span:last-child {
  display: inline-block;
  font-size: 1.11rem;
  line-height: 1;
  letter-spacing: -0.01em;
}

.App .soft-nav-item .nav-icon-glyph {
  width: 22px;
  height: 22px;
  flex: 0 0 22px;
}

.App .soft-nav-item .nav-icon-svg {
  width: 22px;
  height: 22px;
  stroke-width: 1.85;
}

.App .soft-nav-item:hover {
  background: rgba(17, 24, 39, 0.04);
  color: #374151;
  border-color: transparent;
}

.App .soft-nav-item.active {
  background: #ffffff;
  color: #111827;
  border-color: rgba(15, 23, 42, 0.08);
  box-shadow: 0 8px 20px rgba(15, 23, 42, 0.08);
}

.App.dark-mode .soft-nav-item {
  color: #a1a1aa;
}

.App.dark-mode .soft-nav-item:hover {
  background: rgba(255, 255, 255, 0.04);
  color: #f4f4f5;
}

.App.dark-mode .soft-nav-item.active {
  background: rgba(255, 255, 255, 0.1);
  color: #f8fafc;
  border-color: rgba(255, 255, 255, 0.16);
  box-shadow: none;
}

.App .sidebar-theme-slot {
  margin-top: auto;
  display: flex;
  justify-content: flex-start;
  padding-left: 16px;
  padding-top: 20px;
}

.App .sidebar-theme-switch {
  position: relative;
  width: 118px;
  height: 56px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.36);
  background: #ffffff;
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  padding: 6px;
  cursor: pointer;
  transition: border-color 0.22s ease, background-color 0.22s ease;
}

.App.dark-mode .sidebar-theme-switch {
  background: rgba(30, 41, 59, 0.6);
  border-color: rgba(148, 163, 184, 0.35);
}

.App .theme-switch-slider {
  position: absolute;
  top: 6px;
  left: 6px;
  width: 42px;
  height: 42px;
  border-radius: 999px;
  background: #111827;
  box-shadow: 0 8px 16px rgba(15, 23, 42, 0.26);
  transition: transform 0.26s cubic-bezier(0.2, 0.8, 0.2, 1), background-color 0.2s ease;
}

.App .sidebar-theme-switch.dark .theme-switch-slider {
  transform: translateX(56px);
}

.App .theme-switch-icon {
  position: relative;
  z-index: 1;
  display: grid;
  place-items: center;
  color: #64748b;
}

.App .theme-switch-icon .nav-icon-svg {
  width: 20px;
  height: 20px;
}

.App .sidebar-theme-switch.light .theme-switch-icon.light {
  color: #f8fafc;
}

.App .sidebar-theme-switch.dark .theme-switch-icon.dark {
  color: #f8fafc;
}

.App.dark-mode .theme-switch-slider {
  background: #7c3aed;
}

.App.dark-mode .theme-switch-icon {
  color: #cbd5e1;
}

.App .sidebar-theme-toggle-group,
.App .sidebar-theme-icon-btn {
  display: none;
}

@media (max-width: 1260px) {
  .App .app-layout {
    grid-template-columns: 224px minmax(0, 1fr) 320px;
  }

  .App .soft-nav-item span:last-child {
    font-size: 1rem;
  }
}

/* =========================================================
   Sidebar polish: seamless rails + centered theme thumb
   ========================================================= */
.App .nav-sidebar.soft-sidebar,
.App .soft-nav-drawer,
.App .soft-nav-list {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
}

.App .soft-sidebar {
  border-right: 0 !important;
}

.App .soft-nav-item {
  border: none !important;
  box-shadow: none !important;
}

.App .soft-nav-item:hover {
  border: none !important;
  box-shadow: none !important;
}

.App .soft-nav-item.active {
  border: none !important;
  box-shadow: 0 6px 14px rgba(15, 23, 42, 0.1) !important;
}

.App.dark-mode .soft-nav-item.active {
  border: none !important;
  box-shadow: 0 8px 20px rgba(2, 6, 23, 0.35) !important;
}

.App .sidebar-theme-switch {
  width: 122px;
  height: 56px;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.App .theme-switch-slider {
  top: 5px;
  left: 5px;
  width: 46px;
  height: 46px;
  transform: translateX(0);
}

.App .sidebar-theme-switch.dark .theme-switch-slider {
  transform: translateX(66px);
}

/* Right rail applications list refinement */
.App .essay-list-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.App .view-all-apps-btn {
  min-height: 34px;
  padding: 0 12px;
  border-radius: 999px;
  border: 1px solid rgba(130, 120, 104, 0.24);
  background: rgba(255, 255, 255, 0.62);
  color: #3f372e;
  font-size: 0.82rem;
  font-weight: 700;
  letter-spacing: -0.01em;
  cursor: pointer;
  transition: all 0.18s ease;
}

.App .view-all-apps-btn:hover {
  background: #f3eadf;
  border-color: rgba(130, 120, 104, 0.34);
}

.App .view-all-apps-btn-wide {
  width: 100%;
  min-height: 42px;
  margin-top: 2px;
}

.App.dark-mode .view-all-apps-btn {
  background: rgba(32, 40, 57, 0.78);
  border-color: rgba(148, 163, 184, 0.34);
  color: #e4e4e7;
}

.App.dark-mode .view-all-apps-btn:hover {
  background: rgba(45, 58, 82, 0.88);
  border-color: rgba(167, 180, 205, 0.42);
}

/* Final top-controls sizing tune */
.App .header-search-form button,
.App .header-create-btn {
  font-size: 0.88rem !important;
  font-weight: 700 !important;
  min-width: 96px !important;
  padding: 0 16px !important;
}

.App .header-search-form input {
  font-size: 0.9rem !important;
}

.App .header-icon-btn,
.App .header-profile-trigger {
  width: 48px !important;
  height: 48px !important;
  min-width: 48px !important;
  min-height: 48px !important;
  border-radius: 999px !important;
  box-sizing: border-box !important;
}

/* Clean isolated theme toggle (new classes, no legacy collision) */
.App .app-theme-toggle {
  position: relative;
  width: 120px;
  height: 56px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.34);
  background: #f8fbff;
  cursor: pointer;
  padding: 0;
  overflow: hidden;
}

.App.dark-mode .app-theme-toggle {
  background: #141b28;
  border-color: rgba(148, 163, 184, 0.38);
}

.App .app-theme-toggle__thumb {
  position: absolute;
  top: 4px;
  left: 4px;
  width: 48px;
  height: 48px;
  border-radius: 999px;
  background: #0f172a;
  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.34);
  transition: transform 220ms ease;
}

.App .app-theme-toggle--dark .app-theme-toggle__thumb {
  transform: translateX(64px);
  background: #7c3aed;
}

.App .app-theme-toggle__icon {
  position: absolute;
  top: 50%;
  width: 22px;
  height: 22px;
  transform: translate(-50%, -50%);
  color: #64748b;
  z-index: 1;
  pointer-events: none;
}

.App .app-theme-toggle__icon--light { left: 28px; }
.App .app-theme-toggle__icon--dark { left: 92px; }

.App .app-theme-toggle__icon .nav-icon-svg {
  width: 22px !important;
  height: 22px !important;
  stroke-width: 2;
}

.App .app-theme-toggle--light .app-theme-toggle__icon--light,
.App .app-theme-toggle--dark .app-theme-toggle__icon--dark {
  color: #ffffff;
}

.App .app-theme-toggle--light .app-theme-toggle__icon--dark,
.App .app-theme-toggle--dark .app-theme-toggle__icon--light {
  color: #94a3b8;
}

/* =========================================================
   Final lock: theme switch alignment + dark active pill
   ========================================================= */
.App .sidebar-theme-switch {
  box-sizing: border-box !important;
  width: 120px !important;
  height: 56px !important;
  padding: 4px !important;
  border-radius: 999px !important;
  border: 1px solid rgba(148, 163, 184, 0.34) !important;
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  place-items: center !important;
  overflow: hidden !important;
}

.App .theme-switch-slider {
  top: 4px !important;
  left: 4px !important;
  width: 46px !important;
  height: 46px !important;
  border-radius: 999px !important;
  transform: translateX(0) !important;
}

.App .theme-switch-icon {
  width: 46px !important;
  height: 46px !important;
  flex: 0 0 46px !important;
  display: grid !important;
  place-items: center !important;
}

.App .sidebar-theme-switch.dark .theme-switch-slider {
  transform: translateX(56px) !important;
}

.App.dark-mode .sidebar-theme-switch {
  border-color: rgba(148, 163, 184, 0.36) !important;
}

.App.dark-mode .nav-sidebar .soft-nav-item.active,
.App.dark-mode .nav-sidebar .nav-drawer-item.soft-nav-item.active {
  background: #1f2738 !important;
  color: #ffffff !important;
  border: 1px solid rgba(163, 177, 203, 0.36) !important;
  box-shadow: 0 10px 24px rgba(2, 6, 23, 0.48), inset 0 1px 0 rgba(255, 255, 255, 0.07) !important;
}

/* Final normalize: right-rail New buttons hover parity */
.App .right-sidebar .new-essay-btn,
.App .right-sidebar .new-essay-btn.secondary-action-btn {
  transition: transform 0.16s ease, box-shadow 0.2s ease, background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease !important;
}

.App:not(.dark-mode) .right-sidebar .new-essay-btn:hover,
.App:not(.dark-mode) .right-sidebar .new-essay-btn.secondary-action-btn:hover {
  transform: translateY(-1px) !important;
  box-shadow: 0 10px 20px rgba(48, 36, 21, 0.1) !important;
  border-color: rgba(146, 129, 105, 0.34) !important;
}

.App:not(.dark-mode) .right-sidebar .new-essay-btn:active,
.App:not(.dark-mode) .right-sidebar .new-essay-btn.secondary-action-btn:active {
  transform: translateY(0) !important;
  box-shadow: 0 4px 10px rgba(48, 36, 21, 0.08) !important;
}

.App.dark-mode .right-sidebar .new-essay-btn:hover,
.App.dark-mode .right-sidebar .new-essay-btn.secondary-action-btn:hover {
  transform: translateY(-1px) !important;
  box-shadow: 0 12px 24px rgba(2, 6, 23, 0.34) !important;
  border-color: rgba(167, 180, 205, 0.36) !important;
}

.App.dark-mode .right-sidebar .new-essay-btn:active,
.App.dark-mode .right-sidebar .new-essay-btn.secondary-action-btn:active {
  transform: translateY(0) !important;
  box-shadow: 0 6px 12px rgba(2, 6, 23, 0.26) !important;
}

/* Absolute layout fallback to guarantee perfect centering */
.App .sidebar-theme-switch {
  position: relative !important;
  display: block !important;
  width: 120px !important;
  height: 56px !important;
  padding: 0 !important;
}

.App .theme-switch-slider {
  position: absolute !important;
  top: 4px !important;
  left: 4px !important;
  width: 48px !important;
  height: 48px !important;
  transform: translateX(0) !important;
}

.App .sidebar-theme-switch.dark .theme-switch-slider {
  transform: translateX(64px) !important;
}

.App .theme-switch-icon {
  position: absolute !important;
  top: 50% !important;
  width: 22px !important;
  height: 22px !important;
  transform: translate(-50%, -50%) !important;
  margin: 0 !important;
  padding: 0 !important;
  line-height: 1 !important;
}

.App .theme-switch-icon.light {
  left: 28px !important;
}

.App .theme-switch-icon.dark {
  left: 92px !important;
}

.App .theme-switch-icon .nav-icon-svg {
  width: 22px !important;
  height: 22px !important;
}

/* =========================================================
   Final polish: unboxed top controls + logo header + dark pills
   ========================================================= */
.App .sidebar-brand {
  padding-left: 10px;
  margin-bottom: 20px;
}

.App .sidebar-brand-mark {
  min-width: 0;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  background: transparent;
  color: inherit;
  padding: 0;
  height: auto;
}

.App .sidebar-brand-logo {
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(130, 120, 104, 0.24);
  background: #fffdf9;
  color: #1f2937;
  display: grid;
  place-items: center;
}

.App.dark-mode .sidebar-brand-logo {
  background: #171b24;
  border-color: rgba(148, 163, 184, 0.28);
  color: #f1f5f9;
}

.App .brand-logo-svg {
  width: 24px;
  height: 24px;
}

.App .sidebar-brand-text {
  font-size: 1.58rem;
  line-height: 1;
  letter-spacing: -0.02em;
  font-weight: 800;
  color: #111827;
}

.App.dark-mode .sidebar-brand-text {
  color: #f5f5f5;
}

.App .workspace-top-controls {
  min-height: 56px;
  padding: 0;
  justify-content: flex-end;
  display: flex;
  align-items: center;
  gap: 10px;
}

.App.dark-mode .workspace-top-controls { background: transparent; }

.App .header-search-form {
  background: transparent;
  margin-left: auto;
  gap: 10px;
}

.App .header-search-form input {
  height: 44px;
  border-radius: 999px;
  width: clamp(300px, 36vw, 440px);
  padding: 0 16px;
}

.App .header-search-form button,
.App .header-create-btn,
.App .header-profile-trigger {
  height: 44px;
  border-radius: 999px;
}

.App .header-search-form button,
.App .header-create-btn {
  min-width: 94px;
  padding: 0 20px;
  border: 1px solid transparent;
  background: #09090b;
  color: #ffffff;
  font-weight: 700;
  letter-spacing: -0.01em;
  cursor: pointer;
}

.App .header-search-form button:hover,
.App .header-create-btn:hover {
  transform: translateY(-1px);
}

.App.dark-mode .header-search-form button,
.App.dark-mode .header-create-btn {
  background: #ffffff;
  color: #09090b;
}

.App .header-profile-trigger {
  width: 44px;
}

.App .header-profile-dropdown {
  top: calc(100% + 10px);
}

/* Last-line guarantee for dark selected nav pills */
.App.dark-mode .nav-sidebar .soft-nav-list .soft-nav-item.active,
.App.dark-mode .nav-sidebar .nav-drawer-item.soft-nav-item.active,
.App.dark-mode .nav-sidebar .soft-nav-item.active {
  background: #1e2434 !important;
  color: #ffffff !important;
  border: 1px solid rgba(163, 177, 203, 0.35) !important;
  box-shadow: 0 10px 24px rgba(2, 6, 23, 0.45), inset 0 1px 0 rgba(255, 255, 255, 0.08) !important;
}

@media (max-width: 1260px) {
  .App .header-search-form input {
    width: clamp(220px, 30vw, 340px);
  }
  .App .header-search-form button,
  .App .header-create-btn {
    min-width: 82px;
    padding: 0 14px;
  }
}

/* Dashboard header final visibility fix */
.App .sidebar-brand-mark {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

.App .sidebar-brand-text {
  color: #111827 !important;
}

.App.dark-mode .sidebar-brand-text {
  color: #f5f5f5 !important;
}

/* Top control sizing + notifications */
.App .workspace-top-controls {
  min-height: 60px;
  gap: 12px;
}

.App .header-search-form input {
  height: 46px;
  width: clamp(320px, 38vw, 500px);
}

.App .header-search-form button,
.App .header-create-btn,
.App .header-icon-btn,
.App .header-profile-trigger {
  height: 46px;
  border-radius: 999px;
}

.App .header-search-form button,
.App .header-create-btn {
  min-width: 102px;
  padding: 0 20px;
  font-size: 0.95rem;
  font-weight: 700;
  letter-spacing: -0.01em;
}

.App .header-search-form input {
  font-size: 0.95rem;
}

.App .header-create-menu {
  position: relative;
}

.App .header-create-dropdown {
  position: absolute;
  top: calc(100% + 10px);
  right: 0;
  min-width: 188px;
  border-radius: 14px;
  border: 1px solid rgba(130, 120, 104, 0.24);
  background: #fffdf9;
  box-shadow: 0 16px 34px rgba(31, 24, 14, 0.12);
  padding: 8px;
  display: grid;
  gap: 6px;
  z-index: 45;
}

.App.dark-mode .header-create-dropdown {
  background: #11131a;
  border-color: rgba(148, 163, 184, 0.26);
  box-shadow: 0 24px 40px rgba(2, 6, 23, 0.55);
}

.App .header-icon-btn,
.App .header-profile-trigger {
  width: 46px;
  border: 1px solid rgba(130, 120, 104, 0.24);
  background: #fffdf9;
  color: #2f2b25;
  display: grid;
  place-items: center;
  position: relative;
  cursor: pointer;
}

.App .header-icon-btn .nav-icon-svg {
  width: 19px;
  height: 19px;
}

.App .header-profile-avatar-fallback {
  width: 20px;
  height: 20px;
  display: grid;
  place-items: center;
  line-height: 1;
}

.App .header-profile-avatar-fallback .nav-icon-svg {
  width: 20px;
  height: 20px;
}

.App .header-icon-badge {
  position: absolute;
  top: -4px;
  right: -2px;
  min-width: 16px;
  height: 16px;
  border-radius: 999px;
  padding: 0 4px;
  background: #ef4444;
  color: #fff;
  font-size: 0.62rem;
  font-weight: 700;
  line-height: 16px;
  text-align: center;
}

.App.dark-mode .header-icon-btn,
.App.dark-mode .header-profile-trigger {
  background: #12161d;
  border-color: rgba(148, 163, 184, 0.3);
  color: #e4e4e7;
}

/* Theme switch equal edge spacing */
.App .sidebar-theme-switch {
  width: 128px !important;
  height: 56px !important;
  padding: 4px !important;
  border-radius: 999px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  place-items: center;
  overflow: hidden;
}

.App .theme-switch-slider {
  top: 4px !important;
  left: 4px !important;
  width: 48px !important;
  height: 48px !important;
}

.App .theme-switch-icon {
  width: 48px !important;
  height: 48px !important;
  flex: 0 0 48px !important;
}

.App .sidebar-theme-switch.dark .theme-switch-slider {
  transform: translateX(72px) !important;
}

.App .theme-switch-icon {
  width: 46px;
  height: 46px;
  flex: 0 0 46px;
  display: grid;
  place-items: center;
}

.App .theme-switch-icon .nav-icon-svg {
  width: 20px;
  height: 20px;
}

.App .sidebar-theme-slot {
  padding-left: 12px;
}

/* =========================================================
   Sidebar micro-pass: spacing + proportion tuning
   ========================================================= */
.App .app-layout {
  grid-template-columns: 252px minmax(0, 1fr) 360px;
}

.App .soft-sidebar {
  padding: 14px 0 18px;
}

.App .sidebar-brand {
  padding-left: 14px;
  margin-bottom: 18px;
}

.App .sidebar-brand-mark {
  min-width: 132px;
  height: 56px;
  border-radius: 999px;
  letter-spacing: 0.18em;
  font-size: 1rem;
}

.App .soft-nav-list {
  padding: 2px 10px 0;
  gap: 6px;
}

.App .soft-nav-item {
  min-height: 56px;
  border-radius: 14px;
  padding: 0 18px;
  gap: 14px;
  font-weight: 600;
}

.App .soft-nav-item .nav-icon-glyph {
  width: 24px;
  height: 24px;
  flex: 0 0 24px;
}

.App .soft-nav-item .nav-icon-svg {
  width: 22px;
  height: 22px;
}

.App .soft-nav-item span:last-child {
  font-size: 1.2rem;
}

.App .soft-nav-item.active {
  border-radius: 14px;
  background: #ffffff;
  color: #111827;
}

.App.dark-mode .soft-nav-item.active {
  background: rgba(255, 255, 255, 0.14);
  color: #f8fafc;
}

.App.dark-mode .soft-nav-item {
  background: transparent !important;
  color: #a1a1aa;
}

.App.dark-mode .soft-nav-item:hover {
  background: rgba(255, 255, 255, 0.04) !important;
  color: #e4e4e7;
}

/* =========================================================
   Light mode warmth pass
   ========================================================= */
body:not(.dark-body) {
  background: #ece9e3;
}

.App:not(.dark-mode) {
  background: #f3f0ea;
  border-color: rgba(130, 120, 104, 0.2);
}

.App:not(.dark-mode) .main-content,
.App:not(.dark-mode) .right-sidebar {
  background: #f8f5f0;
  border-color: rgba(130, 120, 104, 0.16);
}

.App:not(.dark-mode) .home-welcome-card,
.App:not(.dark-mode) .home-metric-card,
.App:not(.dark-mode) .home-tips-card,
.App:not(.dark-mode) .settings-card,
.App:not(.dark-mode) .application-essay-list-card,
.App:not(.dark-mode) .insight-card,
.App:not(.dark-mode) .detail-list-card,
.App:not(.dark-mode) .tracker-metric-card,
.App:not(.dark-mode) .tracker-form-card,
.App:not(.dark-mode) .application-card,
.App:not(.dark-mode) .essay-section,
.App:not(.dark-mode) .versions-panel,
.App:not(.dark-mode) .essay-header,
.App:not(.dark-mode) .review-section,
.App:not(.dark-mode) .essay-form,
.App:not(.dark-mode) .empty-state-main {
  background: #fffdf9;
  border-color: rgba(130, 120, 104, 0.16);
  box-shadow: 0 8px 24px rgba(84, 69, 50, 0.06);
}

.App:not(.dark-mode) .header-subtitle,
.App:not(.dark-mode) .home-welcome-card p,
.App:not(.dark-mode) .tracker-top-row p,
.App:not(.dark-mode) .detail-list-card p,
.App:not(.dark-mode) .application-meta-grid p,
.App:not(.dark-mode) .detail-item-meta {
  color: #6f665b;
}

.App:not(.dark-mode) .tracker-search-row input,
.App:not(.dark-mode) .form-group input,
.App:not(.dark-mode) .form-group select,
.App:not(.dark-mode) .form-group textarea,
.App:not(.dark-mode) .doc-item textarea,
.App:not(.dark-mode) .docs-application-select {
  background: #f7f2ea;
  border-color: rgba(140, 124, 102, 0.24);
  color: #2f2b25;
}

.App:not(.dark-mode) .tracker-search-row input::placeholder,
.App:not(.dark-mode) .form-group input::placeholder,
.App:not(.dark-mode) .form-group textarea::placeholder,
.App:not(.dark-mode) .doc-item textarea::placeholder {
  color: #97897a;
}

.App:not(.dark-mode) .soft-nav-item {
  color: #6f6a60;
}

.App:not(.dark-mode) .soft-nav-item:hover {
  background: rgba(94, 82, 66, 0.06);
  color: #2f2b25;
}

/* =========================================================
   Accent harmony pass: pastel accents + nav parity
   ========================================================= */
.App:not(.dark-mode) .application-status {
  background: #ede7ff;
  color: #5d43a5;
}

.App:not(.dark-mode) .score-pill,
.App:not(.dark-mode) .program-type {
  background: #f4efe6;
  color: #5c5650;
}

.App:not(.dark-mode) .deadline-chip,
.App:not(.dark-mode) .urgency-chip.done {
  background: #def2e6;
  color: #2f6c49;
}

.App:not(.dark-mode) .urgency-chip.critical {
  background: #fdeecf;
  color: #8f5d1d;
}

.App:not(.dark-mode) .deadline-chip.late,
.App:not(.dark-mode) .urgency-chip.late {
  background: #fde2e2;
  color: #9d3f43;
}

.App:not(.dark-mode) .essay-item.selected {
  border-color: rgba(141, 112, 216, 0.42);
  box-shadow: 0 0 0 2px rgba(141, 112, 216, 0.14);
}

.App:not(.dark-mode) .new-essay-btn.secondary-action-btn {
  border-color: rgba(134, 120, 105, 0.24);
  color: #514a43;
  background: rgba(255, 255, 255, 0.45);
}

.App:not(.dark-mode) .new-essay-btn.secondary-action-btn:hover {
  background: #f4ecdf;
  color: #38322d;
}

/* Match selected nav aesthetics between light and dark */
.App .soft-nav-item.active,
.App.dark-mode .soft-nav-item.active {
  background: #09090b !important;
  color: #ffffff !important;
  border-radius: 14px;
  border: none !important;
  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.16) !important;
}

.App.dark-mode .soft-nav-item:hover {
  background: rgba(255, 255, 255, 0.05) !important;
}

.App.dark-mode .application-status {
  background: rgba(180, 154, 255, 0.22);
  color: #d9ccff;
}

.App.dark-mode .score-pill,
.App.dark-mode .program-type {
  background: rgba(240, 224, 205, 0.18);
  color: #eadfcf;
}

.App.dark-mode .deadline-chip,
.App.dark-mode .urgency-chip.done {
  background: rgba(132, 210, 168, 0.2);
  color: #b9efcf;
}

.App.dark-mode .urgency-chip.critical {
  background: rgba(246, 200, 132, 0.2);
  color: #f9dfb1;
}

.App.dark-mode .deadline-chip.late,
.App.dark-mode .urgency-chip.late {
  background: rgba(242, 149, 149, 0.2);
  color: #ffc9c9;
}

/* =========================================================
   Bottom profile ribbon + universal search
   ========================================================= */
.App .sidebar-brand-mark {
  min-width: 168px;
  font-size: 0.96rem;
  letter-spacing: 0.08em;
  text-transform: none;
}

.App .sidebar-theme-slot {
  display: grid;
  gap: 10px;
  justify-content: flex-start;
}

/* =========================================================
   Top app ribbon (outside center component)
   ========================================================= */
.App .workspace-shell {
  grid-column: 2 / 4;
  min-width: 0;
  min-height: 0;
  display: grid;
  grid-template-rows: auto minmax(0, 1fr);
  gap: 14px;
}

.App .workspace-top-ribbon {
  min-height: 58px;
  border-radius: 999px;
  border: 1px solid rgba(130, 120, 104, 0.2);
  background: rgba(255, 255, 255, 0.72);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 10px;
  padding: 8px 12px;
}

.App.dark-mode .workspace-top-ribbon {
  background: rgba(24, 24, 27, 0.9);
  border-color: rgba(148, 163, 184, 0.28);
}

.App .workspace-body {
  min-height: 0;
  display: grid;
  grid-template-columns: minmax(0, 1fr) 360px;
  gap: 22px;
}

.App .content-header {
  align-items: flex-start;
}

.App .content-header .header-top-ribbon {
  display: none !important;
}

.App .sidebar-profile-ribbon {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.56);
  border: 1px solid rgba(130, 120, 104, 0.2);
}

.App.dark-mode .sidebar-profile-ribbon {
  background: rgba(30, 41, 59, 0.55);
  border-color: rgba(148, 163, 184, 0.3);
}

.App .sidebar-profile-btn {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  border: 1px solid transparent;
  background: transparent;
  color: #5a5248;
  display: grid;
  place-items: center;
  cursor: pointer;
}

.App .sidebar-profile-btn .nav-icon-svg {
  width: 18px;
  height: 18px;
}

.App .sidebar-profile-btn.active {
  background: #09090b;
  color: #ffffff;
}

.App .sidebar-profile-btn:hover {
  background: rgba(17, 24, 39, 0.08);
}

.App.dark-mode .sidebar-profile-btn {
  color: #d4d4d8;
}

.App.dark-mode .sidebar-profile-btn.active {
  background: #ffffff;
  color: #09090b;
}

.App.dark-mode .sidebar-profile-btn:hover {
  background: rgba(255, 255, 255, 0.12);
}

.App .sidebar-profile-image {
  width: 100%;
  height: 100%;
  border-radius: 999px;
  object-fit: cover;
}

.App .header-search-form {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  margin-left: auto;
}

.App .header-search-form input {
  width: clamp(220px, 30vw, 360px);
  height: 42px;
  border-radius: 999px;
  border: 1px solid rgba(130, 120, 104, 0.24);
  background: #f7f2ea;
  color: #2f2b25;
  padding: 0 14px;
}

.App.dark-mode .header-search-form input {
  background: #15191f;
  border-color: rgba(148, 163, 184, 0.3);
  color: #e4e4e7;
}

.App .header-search-form button {
  height: 42px;
  border-radius: 999px;
  border: 1px solid transparent;
  background: #09090b;
  color: #ffffff;
  padding: 0 16px;
  font-weight: 700;
  cursor: pointer;
}

.App.dark-mode .header-search-form button {
  background: #ffffff;
  color: #09090b;
}

/* Enforce active nav pill parity in dark mode */
.App.dark-mode .soft-nav-item.active,
.App.dark-mode .nav-drawer-item.soft-nav-item.active {
  background: #09090b !important;
  color: #ffffff !important;
  border: none !important;
  box-shadow: 0 8px 18px rgba(2, 6, 23, 0.44) !important;
}

/* =========================================================
   Header ribbon: search + user menu (reference-style)
   ========================================================= */
.App .content-header {
  align-items: center;
}

.App .header-top-ribbon {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 8px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(130, 120, 104, 0.2);
}

.App.dark-mode .header-top-ribbon {
  background: rgba(24, 24, 27, 0.88);
  border-color: rgba(148, 163, 184, 0.26);
}

.App .header-search-form {
  gap: 10px;
}

.App .header-search-form input {
  width: clamp(240px, 30vw, 360px);
  height: 40px;
  border-radius: 999px;
  border: 1px solid rgba(130, 120, 104, 0.24);
  background: #fffdf9;
  color: #2f2b25;
  padding: 0 14px;
}

.App.dark-mode .header-search-form input {
  background: #12161d;
  border-color: rgba(148, 163, 184, 0.28);
  color: #e4e4e7;
}

.App .header-search-form button {
  height: 40px;
  border-radius: 999px;
  border: 1px solid transparent;
  background: #09090b;
  color: #ffffff;
  padding: 0 16px;
  font-weight: 700;
}

.App.dark-mode .header-search-form button {
  background: #ffffff;
  color: #09090b;
}

.App .header-profile-menu {
  position: relative;
}

.App .header-profile-trigger {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  border: 1px solid rgba(130, 120, 104, 0.24);
  background: #fffdf9;
  display: grid;
  place-items: center;
  cursor: pointer;
}

.App .header-profile-avatar-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 999px;
}

.App.dark-mode .header-profile-trigger {
  background: #12161d;
  border-color: rgba(148, 163, 184, 0.28);
  color: #e4e4e7;
}

.App .header-profile-dropdown {
  right: 0;
  top: calc(100% + 8px);
  min-width: 168px;
  border-radius: 14px;
  border: 1px solid rgba(130, 120, 104, 0.24);
  background: #fffdf9;
  box-shadow: 0 16px 34px rgba(31, 24, 14, 0.12);
}

.App.dark-mode .header-profile-dropdown {
  background: #11131a;
  border-color: rgba(148, 163, 184, 0.26);
  box-shadow: 0 24px 40px rgba(2, 6, 23, 0.55);
}

.App .header-profile-action {
  border-radius: 10px;
}

.App .sidebar-profile-ribbon {
  display: none !important;
}

/* Final enforce: dark selected nav pills */
.App.dark-mode .soft-nav-list .soft-nav-item.active,
.App.dark-mode .nav-drawer-list .nav-drawer-item.soft-nav-item.active,
.App.dark-mode .nav-drawer-item.soft-nav-item.active {
  background: #1b2130 !important;
  color: #ffffff !important;
  border: 1px solid rgba(139, 153, 182, 0.32) !important;
  opacity: 1 !important;
  box-shadow: 0 10px 22px rgba(2, 6, 23, 0.42), inset 0 1px 0 rgba(255, 255, 255, 0.06) !important;
}

@media (max-width: 1260px) {
  .App .workspace-body {
    grid-template-columns: minmax(0, 1fr) 320px;
  }
}

.App .sidebar-theme-slot {
  padding-left: 14px;
  padding-top: 22px;
}

.App .sidebar-theme-switch {
  width: 124px;
  height: 58px;
}

.App .theme-switch-slider {
  width: 48px;
  height: 48px;
}

.App .theme-switch-icon {
  width: 48px;
  height: 48px;
  flex: 0 0 48px;
}

.App .sidebar-theme-switch.dark .theme-switch-slider {
  transform: translateX(66px);
}

/* =========================================================
   Final override (keep last): right-rail action consistency
   ========================================================= */
.App .home-recent-card .application-essay-list,
.App .home-recent-full .application-essay-list {
  border-top: 0 !important;
  margin-top: 0 !important;
  padding-top: 0 !important;
}

.App .right-sidebar .right-rail-action-btn {
  min-height: 56px !important;
  border-radius: 999px !important;
  font-size: 1.04rem !important;
  line-height: 1 !important;
  font-weight: 700 !important;
  letter-spacing: -0.012em !important;
  opacity: 1 !important;
  filter: none !important;
  transition: transform 0.18s ease, box-shadow 0.22s ease, background-color 0.22s ease, border-color 0.22s ease, color 0.22s ease !important;
}

.App:not(.dark-mode) .right-sidebar .right-rail-action-primary,
.App:not(.dark-mode) .right-sidebar .right-rail-action-secondary {
  background: #fffdf9 !important;
  color: #1f2937 !important;
  border: 1px solid rgba(130, 120, 104, 0.24) !important;
}

.App.dark-mode .right-sidebar .right-rail-action-primary,
.App.dark-mode .right-sidebar .right-rail-action-secondary {
  background: rgba(246, 247, 250, 0.9) !important;
  color: #101827 !important;
  border: 1px solid rgba(180, 194, 218, 0.42) !important;
}

.App .right-sidebar .right-rail-action-btn:hover {
  transform: translateY(-1px) !important;
  box-shadow: 0 12px 24px rgba(2, 6, 23, 0.2) !important;
}

.App:not(.dark-mode) .right-sidebar .right-rail-action-primary:hover,
.App:not(.dark-mode) .right-sidebar .right-rail-action-secondary:hover {
  background: #ffffff !important;
  color: #111827 !important;
  border-color: rgba(130, 120, 104, 0.34) !important;
}

.App.dark-mode .right-sidebar .right-rail-action-primary:hover,
.App.dark-mode .right-sidebar .right-rail-action-secondary:hover {
  background: #ffffff !important;
  color: #0f172a !important;
  border-color: rgba(179, 196, 224, 0.5) !important;
}

.App .right-sidebar .right-rail-action-btn:active {
  transform: translateY(0) !important;
  box-shadow: none !important;
  opacity: 1 !important;
}

/* =========================================================
   Final UI pass: dashboard brand + list rhythm + deadline overflow
   ========================================================= */
.App .sidebar-brand {
  padding: 4px 12px 14px !important;
  margin-bottom: 14px !important;
}

.App .sidebar-brand-mark {
  display: inline-flex !important;
  align-items: center !important;
  gap: 12px !important;
  min-width: 200px !important;
  min-height: 58px !important;
  padding: 0 18px !important;
  border-radius: 16px !important;
  border: 1px solid rgba(130, 120, 104, 0.22) !important;
  background: #fffdf9 !important;
  box-shadow: 0 8px 20px rgba(43, 33, 20, 0.07) !important;
  color: #1f2937 !important;
}

.App.dark-mode .sidebar-brand-mark {
  background: rgba(22, 26, 34, 0.94) !important;
  border-color: rgba(148, 163, 184, 0.26) !important;
  box-shadow: 0 12px 26px rgba(2, 6, 23, 0.5) !important;
  color: #f3f4f6 !important;
}

.App .sidebar-brand-logo {
  width: 30px !important;
  height: 30px !important;
  border: 0 !important;
  border-radius: 0 !important;
  background: transparent !important;
  display: grid !important;
  place-items: center !important;
}

.App .brand-logo-svg {
  width: 24px !important;
  height: 24px !important;
}

.App .sidebar-brand-text {
  font-size: 1.1rem !important;
  font-weight: 700 !important;
  letter-spacing: -0.01em !important;
  color: inherit !important;
}

.App .application-home-panel .home-stats-card.home-stats-wide {
  grid-template-columns: repeat(2, minmax(170px, 1fr)) !important;
}

.App .application-home-panel .home-metric-card {
  min-width: 0 !important;
  overflow: hidden !important;
}

.App .home-metric-card .metric-value {
  font-size: clamp(1.45rem, 1.9vw, 1.9rem) !important;
  line-height: 1.06 !important;
}

.App .home-metric-card--deadline .metric-value-date {
  font-size: clamp(1.02rem, 1.3vw, 1.3rem) !important;
  letter-spacing: 0.01em !important;
  font-variant-numeric: tabular-nums;
  white-space: nowrap;
}

.App .home-recent-card,
.App .home-recent-full {
  padding: 24px 26px !important;
}

.App .home-recent-card h3,
.App .home-recent-full h3 {
  margin-bottom: 14px !important;
}

.App .home-recent-card .application-essay-list,
.App .home-recent-full .application-essay-list,
.App .recent-essay-list,
.App .school-essay-list {
  display: grid !important;
  gap: 12px !important;
  border-top: 0 !important;
  margin-top: 0 !important;
  padding-top: 0 !important;
}

.App .home-recent-card .application-essay-item,
.App .home-recent-full .application-essay-item,
.App .recent-essay-item,
.App .school-essay-item {
  border: 1px solid rgba(130, 120, 104, 0.2) !important;
  border-radius: 999px !important;
  padding: 14px 20px !important;
  margin: 0 !important;
  background: rgba(255, 255, 255, 0.55) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 14px !important;
}

.App.dark-mode .home-recent-card .application-essay-item,
.App.dark-mode .home-recent-full .application-essay-item,
.App.dark-mode .recent-essay-item,
.App.dark-mode .school-essay-item {
  background: rgba(255, 255, 255, 0.05) !important;
  border-color: rgba(148, 163, 184, 0.28) !important;
}

.App .recent-essay-item span,
.App .school-essay-item span {
  font-size: 1.02rem !important;
  font-weight: 600 !important;
}

.App .recent-essay-item small,
.App .school-essay-item small {
  flex: 0 0 auto !important;
  font-size: 0.95rem !important;
}

.App .timeline-card {
  width: 100% !important;
  min-width: 0 !important;
  overflow: hidden !important;
}

.App .timeline-header {
  flex-wrap: wrap !important;
}

.App .timeline-controls {
  margin-left: auto !important;
  flex-wrap: wrap !important;
  justify-content: flex-end !important;
}

.App .timeline-grid,
.App .timeline-grid-head,
.App .timeline-grid-days {
  width: 100% !important;
  min-width: 0 !important;
}

.App .timeline-day-cell {
  min-width: 0 !important;
  overflow: hidden !important;
}

.App .timeline-event-chip {
  max-width: 100% !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

@media (max-width: 1120px) {
  .App .application-home-panel .home-stats-card.home-stats-wide {
    grid-template-columns: 1fr !important;
  }
}

/* =========================================================
   Final QA pass: brand + essay list rhythm + button parity
   ========================================================= */

/* Sidebar brand card similar to the reference */
.App .sidebar-brand {
  padding: 8px 10px 14px !important;
  margin-bottom: 14px !important;
}

.App .sidebar-brand-mark {
  display: inline-flex !important;
  align-items: center !important;
  gap: 12px !important;
  min-height: 56px !important;
  min-width: 212px !important;
  padding: 0 18px 0 14px !important;
  border-radius: 16px !important;
  border: 1px solid rgba(130, 120, 104, 0.2) !important;
  background: #fffdf9 !important;
  box-shadow: 0 10px 24px rgba(43, 33, 20, 0.08) !important;
  color: #111827 !important;
}

.App.dark-mode .sidebar-brand-mark {
  background: #151922 !important;
  border-color: rgba(148, 163, 184, 0.3) !important;
  box-shadow: 0 16px 30px rgba(2, 6, 23, 0.45) !important;
  color: #f8fafc !important;
}

.App .sidebar-brand-logo {
  width: 26px !important;
  height: 26px !important;
  border: 0 !important;
  border-radius: 0 !important;
  background: transparent !important;
  padding: 0 !important;
}

.App .brand-logo-svg {
  width: 22px !important;
  height: 22px !important;
}

.App .sidebar-brand-text {
  font-size: 1.1rem !important;
  font-weight: 700 !important;
  letter-spacing: -0.01em !important;
  color: inherit !important;
}

/* Remove faint divider line and unstuck essay rows */
.App .application-home-panel .application-essay-list,
.App .home-dashboard .application-essay-list,
.App .recent-essay-list,
.App .school-essay-list {
  border-top: 0 !important;
  margin-top: 0 !important;
  padding-top: 0 !important;
  display: grid !important;
  gap: 12px !important;
}

.App .application-home-panel .application-essay-item,
.App .home-dashboard .application-essay-item,
.App .recent-essay-item,
.App .school-essay-item {
  border: 1px solid rgba(130, 120, 104, 0.2) !important;
  border-bottom: 1px solid rgba(130, 120, 104, 0.2) !important;
  border-radius: 999px !important;
  padding: 14px 20px !important;
  margin: 0 !important;
  background: rgba(255, 255, 255, 0.62) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 14px !important;
}

.App.dark-mode .application-home-panel .application-essay-item,
.App.dark-mode .home-dashboard .application-essay-item,
.App.dark-mode .recent-essay-item,
.App.dark-mode .school-essay-item {
  border-color: rgba(148, 163, 184, 0.3) !important;
  background: rgba(255, 255, 255, 0.06) !important;
}

.App .recent-essay-item span,
.App .school-essay-item span {
  font-size: 1.03rem !important;
  font-weight: 600 !important;
}

.App .recent-essay-item small,
.App .school-essay-item small {
  flex: 0 0 auto !important;
  font-size: 0.95rem !important;
  color: #6a788f !important;
}

.App.dark-mode .recent-essay-item small,
.App.dark-mode .school-essay-item small {
  color: #9ba9be !important;
}

/* Deadline card overflow protection */
.App .application-home-panel .home-stats-card.home-stats-wide {
  grid-template-columns: repeat(2, minmax(190px, 1fr)) !important;
}

.App .home-metric-card--deadline {
  min-width: 0 !important;
  overflow: hidden !important;
}

.App .home-metric-card--deadline .metric-value-date {
  font-size: clamp(1rem, 1.15vw, 1.22rem) !important;
  line-height: 1.15 !important;
  white-space: normal !important;
  overflow-wrap: anywhere !important;
}

/* Force both right-rail actions to use exactly the same visual states */
.App .right-sidebar .new-essay-btn.right-rail-action-btn,
.App .right-sidebar .new-essay-btn.right-rail-action-btn.secondary-action-btn {
  min-height: 56px !important;
  border-radius: 999px !important;
  font-size: 1.16rem !important;
  font-weight: 700 !important;
  letter-spacing: -0.012em !important;
  border: 1px solid rgba(130, 120, 104, 0.24) !important;
  transition: transform 0.16s ease, box-shadow 0.2s ease, background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease !important;
}

.App:not(.dark-mode) .right-sidebar .new-essay-btn.right-rail-action-btn,
.App:not(.dark-mode) .right-sidebar .new-essay-btn.right-rail-action-btn.secondary-action-btn {
  background: #fffdf9 !important;
  color: #1f2937 !important;
}

.App.dark-mode .right-sidebar .new-essay-btn.right-rail-action-btn,
.App.dark-mode .right-sidebar .new-essay-btn.right-rail-action-btn.secondary-action-btn {
  background: rgba(246, 247, 250, 0.92) !important;
  color: #0f172a !important;
  border-color: rgba(176, 190, 216, 0.45) !important;
}

.App .right-sidebar .new-essay-btn.right-rail-action-btn:hover,
.App .right-sidebar .new-essay-btn.right-rail-action-btn.secondary-action-btn:hover {
  transform: translateY(-1px) !important;
  box-shadow: 0 12px 24px rgba(2, 6, 23, 0.22) !important;
}

.App .right-sidebar .new-essay-btn.right-rail-action-btn:active,
.App .right-sidebar .new-essay-btn.right-rail-action-btn.secondary-action-btn:active {
  transform: translateY(0) !important;
  box-shadow: 0 5px 12px rgba(2, 6, 23, 0.14) !important;
}

/* =========================================================
   Final QA pass: form field consistency (light + dark)
   ========================================================= */
.App .essay-form,
.App .tracker-form-card,
.App .settings-panel .settings-card {
  border-radius: 24px !important;
}

.App .essay-form .form-group label,
.App .tracker-form-card .form-group label,
.App .settings-panel .form-group label {
  color: #55657f !important;
  font-weight: 650 !important;
  letter-spacing: -0.01em !important;
}

.App .essay-form .form-group input,
.App .essay-form .form-group select,
.App .essay-form .form-group textarea,
.App .tracker-form-card .form-group input,
.App .tracker-form-card .form-group select,
.App .tracker-form-card .form-group textarea,
.App .settings-panel .form-group input,
.App .settings-panel .form-group select,
.App .settings-panel .form-group textarea {
  border-radius: 14px !important;
  border: 1px solid rgba(130, 120, 104, 0.24) !important;
  background: #fffdf9 !important;
  color: #1f2937 !important;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.75) !important;
}

.App .essay-form .form-group input::placeholder,
.App .essay-form .form-group textarea::placeholder,
.App .tracker-form-card .form-group input::placeholder,
.App .tracker-form-card .form-group textarea::placeholder,
.App .settings-panel .form-group input::placeholder,
.App .settings-panel .form-group textarea::placeholder {
  color: #7c8ca4 !important;
}

.App .essay-form .form-group input:focus,
.App .essay-form .form-group select:focus,
.App .essay-form .form-group textarea:focus,
.App .tracker-form-card .form-group input:focus,
.App .tracker-form-card .form-group select:focus,
.App .tracker-form-card .form-group textarea:focus,
.App .settings-panel .form-group input:focus,
.App .settings-panel .form-group select:focus,
.App .settings-panel .form-group textarea:focus {
  outline: none !important;
  border-color: rgba(113, 101, 214, 0.45) !important;
  box-shadow: 0 0 0 3px rgba(113, 101, 214, 0.12) !important;
}

.App .essay-form .form-actions button {
  min-height: 52px !important;
  border-radius: 999px !important;
  font-size: 1.02rem !important;
  font-weight: 700 !important;
  padding: 0 24px !important;
  border: 1px solid rgba(130, 120, 104, 0.24) !important;
}

.App .essay-form .form-actions button[type="submit"] {
  background: #0b0d12 !important;
  color: #ffffff !important;
  border-color: transparent !important;
}

.App .essay-form .form-actions button[type="button"] {
  background: #fffdf9 !important;
  color: #2a3345 !important;
}

.App .essay-form .form-actions button:hover {
  transform: translateY(-1px) !important;
  box-shadow: 0 10px 18px rgba(31, 24, 14, 0.12) !important;
}

.App.dark-mode .essay-form .form-group label,
.App.dark-mode .tracker-form-card .form-group label,
.App.dark-mode .settings-panel .form-group label {
  color: #c4d0e4 !important;
}

.App.dark-mode .essay-form .form-group input,
.App.dark-mode .essay-form .form-group select,
.App.dark-mode .essay-form .form-group textarea,
.App.dark-mode .tracker-form-card .form-group input,
.App.dark-mode .tracker-form-card .form-group select,
.App.dark-mode .tracker-form-card .form-group textarea,
.App.dark-mode .settings-panel .form-group input,
.App.dark-mode .settings-panel .form-group select,
.App.dark-mode .settings-panel .form-group textarea {
  background: #1d2533 !important;
  border-color: rgba(148, 163, 184, 0.28) !important;
  color: #e8eef9 !important;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04) !important;
}

.App.dark-mode .essay-form .form-group input::placeholder,
.App.dark-mode .essay-form .form-group textarea::placeholder,
.App.dark-mode .tracker-form-card .form-group input::placeholder,
.App.dark-mode .tracker-form-card .form-group textarea::placeholder,
.App.dark-mode .settings-panel .form-group input::placeholder,
.App.dark-mode .settings-panel .form-group textarea::placeholder {
  color: #8ea0bc !important;
}

.App.dark-mode .essay-form .form-group input:focus,
.App.dark-mode .essay-form .form-group select:focus,
.App.dark-mode .essay-form .form-group textarea:focus,
.App.dark-mode .tracker-form-card .form-group input:focus,
.App.dark-mode .tracker-form-card .form-group select:focus,
.App.dark-mode .tracker-form-card .form-group textarea:focus,
.App.dark-mode .settings-panel .form-group input:focus,
.App.dark-mode .settings-panel .form-group select:focus,
.App.dark-mode .settings-panel .form-group textarea:focus {
  border-color: rgba(156, 144, 255, 0.52) !important;
  box-shadow: 0 0 0 3px rgba(156, 144, 255, 0.18) !important;
}

.App.dark-mode .essay-form .form-actions button[type="submit"] {
  background: #f5f7fb !important;
  color: #111827 !important;
}

.App.dark-mode .essay-form .form-actions button[type="button"] {
  background: rgba(255, 255, 255, 0.07) !important;
  border-color: rgba(148, 163, 184, 0.32) !important;
  color: #d9e3f3 !important;
}

/* Degree select spacing parity with school input */
.App .essay-form .form-group select {
  min-height: 52px !important;
  padding: 0 44px 0 16px !important;
  line-height: 1.2 !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
  background: #fffdf9 url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%232a3345' stroke-width='2.2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E") no-repeat right 14px center / 18px 18px !important;
  padding-right: 46px !important;
}

.App.dark-mode .essay-form .form-group select {
  background: #1d2533 url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%23d9e3f3' stroke-width='2.2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E") no-repeat right 14px center / 18px 18px !important;
}

/* Applications form: select spacing parity (degree/currency/decision/status) */
.App .tracker-form-card .form-group select {
  min-height: 52px !important;
  padding: 0 46px 0 16px !important;
  line-height: 1.2 !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
  background: #fffdf9 url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%232a3345' stroke-width='2.2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E") no-repeat right 14px center / 18px 18px !important;
}

.App.dark-mode .tracker-form-card .form-group select {
  background: #1d2533 url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%23d9e3f3' stroke-width='2.2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E") no-repeat right 14px center / 18px 18px !important;
}

/* Remove ghost divider above saved application cards */
.App .tracker-list-grid {
  border-top: 0 !important;
  padding-top: 0 !important;
}

/* Tracker checkboxes: prevent text collision and style bleed from text inputs */
.App .tracker-form-card .form-group.form-group-checkbox {
  display: flex !important;
  align-items: center !important;
  min-height: 52px !important;
  padding-top: 34px !important;
  padding-bottom: 0 !important;
}

.App .tracker-form-card .form-group.form-group-checkbox label {
  display: inline-flex !important;
  align-items: center !important;
  gap: 12px !important;
  margin-top: 0 !important;
  font-weight: 650 !important;
  line-height: 1.1 !important;
  color: #2a3345 !important;
}

.App .tracker-form-card .form-group.form-group-checkbox input[type='checkbox'] {
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
  width: 28px !important;
  height: 28px !important;
  min-height: 28px !important;
  max-height: 28px !important;
  flex: 0 0 28px !important;
  margin: 0 !important;
  padding: 0 !important;
  border-radius: 8px !important;
  border: 2px solid rgba(130, 120, 104, 0.34) !important;
  background: #fffdf9 !important;
  cursor: pointer !important;
  position: relative !important;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.82) !important;
}

.App .tracker-form-card .form-group.form-group-checkbox input[type='checkbox']:checked {
  background: #0f172a !important;
  border-color: #0f172a !important;
}

.App .tracker-form-card .form-group.form-group-checkbox input[type='checkbox']:checked::after {
  content: '' !important;
  position: absolute !important;
  left: 9px !important;
  top: 4px !important;
  width: 6px !important;
  height: 12px !important;
  border: solid #ffffff !important;
  border-width: 0 2px 2px 0 !important;
  transform: rotate(45deg) !important;
}

.App .tracker-form-card .form-group.form-group-checkbox input[type='checkbox']:disabled {
  opacity: 0.55 !important;
  cursor: not-allowed !important;
}

.App.dark-mode .tracker-form-card .form-group.form-group-checkbox label {
  color: #dbe6f8 !important;
}

.App.dark-mode .tracker-form-card .form-group.form-group-checkbox input[type='checkbox'] {
  background: #1d2533 !important;
  border-color: rgba(148, 163, 184, 0.45) !important;
}

.App.dark-mode .tracker-form-card .form-group.form-group-checkbox input[type='checkbox']:checked {
  background: #8f72ff !important;
  border-color: #8f72ff !important;
}

/* ------------------------------
   Feature Expansion Panels
---------------------------------*/
.deadlines-actions-row {
  display: flex;
  justify-content: flex-end;
  margin: 4px 0 14px;
}

.notifications-panel,
.matrix-panel,
.interview-panel,
.research-panel,
.share-panel {
  display: grid;
  gap: 14px;
}

.notifications-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}

.notifications-toolbar p {
  margin: 0;
  font-weight: 650;
}

.notifications-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.notification-item {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 14px;
  padding: 14px 16px;
  border-radius: 18px;
  border: 1px solid rgba(116, 111, 101, 0.26);
  background: rgba(255, 255, 255, 0.5);
}

.notification-item-main strong {
  display: block;
  margin-bottom: 4px;
}

.notification-item-main p {
  margin: 0;
  color: #5e697f;
}

.notification-item-actions {
  display: flex;
  gap: 8px;
  flex-shrink: 0;
}

.notification-item-actions .history-btn,
.notification-item-actions .secondary-action-btn {
  min-height: 48px;
  min-width: 116px;
  padding: 0 22px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
}

.notification-item--high {
  border-color: rgba(226, 107, 107, 0.38);
  box-shadow: inset 3px 0 0 rgba(226, 107, 107, 0.5);
}

.notification-item--medium {
  border-color: rgba(135, 124, 238, 0.36);
  box-shadow: inset 3px 0 0 rgba(135, 124, 238, 0.45);
}

.notification-item--low {
  border-color: rgba(94, 157, 126, 0.3);
  box-shadow: inset 3px 0 0 rgba(94, 157, 126, 0.45);
}

.matrix-weights-card p {
  margin-top: 6px;
  color: #60708a;
}

.matrix-weights-grid {
  margin-top: 14px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px 14px;
}

.matrix-weight-item {
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-areas:
    "label value"
    "range range";
  align-items: center;
  gap: 6px 12px;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.46);
  border: 1px solid rgba(116, 111, 101, 0.2);
}

.matrix-weight-item span {
  grid-area: label;
  font-size: 0.92rem;
  color: #5e697f;
}

.matrix-weight-item strong {
  grid-area: value;
}

.matrix-weight-item input {
  grid-area: range;
  width: 100%;
}

.matrix-item .matrix-meta {
  gap: 8px;
}

.interview-list,
.research-list {
  gap: 12px !important;
}

.interview-card,
.research-card {
  border-radius: 18px;
  border: 1px solid rgba(116, 111, 101, 0.24);
  background: rgba(255, 255, 255, 0.46);
  padding: 14px;
  display: grid;
  gap: 12px;
}

.interview-card-header,
.research-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.interview-card-header > div,
.research-card-header {
  display: grid;
  gap: 2px;
}

.interview-card-header span,
.research-card-header span {
  color: #60708a;
  font-size: 0.95rem;
}

.share-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 12px;
}

.share-snapshot-preview {
  min-height: 320px;
  width: 100%;
  font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size: 0.9rem;
  line-height: 1.55;
  padding: 14px 16px;
  border-radius: 16px;
  border: 1px solid rgba(116, 111, 101, 0.28);
  background: rgba(247, 242, 238, 0.84);
  color: #2b3444;
  resize: vertical;
  overflow: auto;
}

.App.dark-mode .share-snapshot-preview {
  border-color: rgba(109, 132, 175, 0.36);
  background: rgba(14, 19, 31, 0.78);
  color: #d9e6ff;
}

.share-snapshot-preview:focus {
  outline: none;
  border-color: rgba(128, 110, 241, 0.6);
  box-shadow: 0 0 0 2px rgba(128, 110, 241, 0.2);
}

.App.dark-mode .share-snapshot-preview:focus {
  border-color: rgba(156, 176, 255, 0.62);
  box-shadow: 0 0 0 2px rgba(118, 139, 230, 0.24);
}

.version-diff-panel {
  margin-top: 14px;
  padding-top: 12px;
  border-top: 1px solid rgba(116, 111, 101, 0.22);
  display: grid;
  gap: 10px;
}

.version-diff-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.version-diff-header h4 {
  margin: 0;
  font-size: 1rem;
}

.version-diff-header span {
  color: #60708a;
  font-size: 0.86rem;
}

.version-diff-controls {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}

.version-diff-controls label {
  display: grid;
  gap: 6px;
  font-weight: 600;
  color: #60708a;
  font-size: 0.9rem;
}

.version-diff-list {
  max-height: 360px;
  overflow: auto;
  display: grid;
  gap: 6px;
}

.version-diff-row {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
}

.version-diff-row pre {
  margin: 0;
  white-space: pre-wrap;
  word-break: break-word;
  border-radius: 12px;
  border: 1px solid rgba(116, 111, 101, 0.2);
  padding: 8px 10px;
  background: rgba(255, 255, 255, 0.5);
  color: #2c3647;
}

.version-diff-row.added pre:last-child {
  border-color: rgba(92, 159, 128, 0.38);
  background: rgba(147, 232, 188, 0.2);
}

.version-diff-row.removed pre:first-child {
  border-color: rgba(226, 107, 107, 0.34);
  background: rgba(239, 155, 155, 0.2);
}

.version-diff-row.changed pre {
  border-color: rgba(132, 126, 236, 0.34);
  background: rgba(165, 159, 244, 0.2);
}

.App.dark-mode .notification-item,
.App.dark-mode .matrix-weight-item,
.App.dark-mode .interview-card,
.App.dark-mode .research-card,
.App.dark-mode .version-diff-row pre {
  background: rgba(24, 31, 43, 0.72);
  border-color: rgba(122, 140, 173, 0.34);
  color: #d8e4f8;
}

.App.dark-mode .notification-item-main p,
.App.dark-mode .matrix-weight-item span,
.App.dark-mode .interview-card-header span,
.App.dark-mode .research-card-header span,
.App.dark-mode .version-diff-header span,
.App.dark-mode .matrix-weights-card p {
  color: #9eb2cf;
}

.App.dark-mode .version-diff-panel {
  border-top-color: rgba(122, 140, 173, 0.32);
}

.App.dark-mode .version-diff-row.added pre:last-child {
  border-color: rgba(106, 199, 155, 0.42);
  background: rgba(54, 125, 96, 0.25);
}

.App.dark-mode .version-diff-row.removed pre:first-child {
  border-color: rgba(229, 122, 122, 0.42);
  background: rgba(122, 60, 60, 0.26);
}

.App.dark-mode .version-diff-row.changed pre {
  border-color: rgba(144, 131, 244, 0.44);
  background: rgba(92, 84, 175, 0.27);
}

.App .soft-nav-list {
  overflow-y: auto;
  max-height: calc(100vh - 260px);
}

@media (max-width: 980px) {
  .matrix-weights-grid,
  .version-diff-controls,
  .version-diff-row {
    grid-template-columns: 1fr;
  }

  .notification-item {
    flex-direction: column;
  }

  .notification-item-actions {
    width: 100%;
  }
}

/* Grouped left navigation */
.nav-group {
  display: grid;
  gap: 8px;
}

.nav-group + .nav-group {
  margin-top: 6px;
}

.nav-group-toggle {
  width: 100%;
  border: 0;
  background: transparent;
  color: #7a7480;
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 0.78rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 700;
  padding: 4px 10px;
  cursor: pointer;
}

.nav-group-chevron {
  font-size: 0.75rem;
  opacity: 0.7;
}

.nav-group-items {
  display: grid;
  gap: 8px;
}

.App.dark-mode .nav-group-toggle {
  color: #9ca7bf;
}

.draft-recovered-banner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 12px;
  margin-bottom: 12px;
  border-radius: 10px;
  border: 1px solid rgba(141, 112, 216, 0.35);
  background: rgba(141, 112, 216, 0.08);
}

.draft-recovered-banner p {
  margin: 0;
  font-size: 0.9rem;
}

.draft-recovered-banner button {
  border: 1px solid rgba(20, 18, 23, 0.16);
  background: #fff;
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 0.82rem;
  cursor: pointer;
}

.home-onboarding-card {
  margin-top: 14px;
  border: 1px solid rgba(20, 18, 23, 0.14);
}

.onboarding-header p {
  margin-top: 6px;
  color: var(--ink-soft);
}

.onboarding-steps {
  display: grid;
  gap: 10px;
  margin-top: 10px;
}

.onboarding-step {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  border: 1px solid rgba(20, 18, 23, 0.1);
  border-radius: 10px;
  padding: 10px 12px;
  background: rgba(255, 255, 255, 0.7);
}

.onboarding-step.complete {
  border-color: rgba(32, 126, 71, 0.35);
  background: rgba(88, 184, 132, 0.12);
}

.onboarding-step-label {
  font-size: 0.9rem;
}

.onboarding-step button,
.dismiss-onboarding-btn {
  border: 1px solid rgba(20, 18, 23, 0.14);
  border-radius: 999px;
  background: #fff;
  min-height: 32px;
  padding: 0 12px;
  cursor: pointer;
}

.dismiss-onboarding-btn {
  margin-top: 12px;
}

.feedback-form {
  margin-top: 8px;
}

/* --------------------------------------------------
   Pilot UI polish: onboarding readability + softer dark mode
-------------------------------------------------- */
.App .nav-group-toggle {
  font-size: 0.84rem;
  letter-spacing: 0.09em;
  padding: 6px 10px;
}

.App .nav-group-chevron {
  font-size: 1.08rem;
  font-weight: 800;
  opacity: 0.92;
  line-height: 1;
}

.App:not(.dark-mode) .sidebar-brand-mark {
  background: linear-gradient(180deg, #ffffff 0%, #f8f4f1 100%);
  border: 1px solid rgba(20, 18, 23, 0.1);
  box-shadow: 0 14px 28px rgba(34, 28, 40, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.7);
}

.App .home-onboarding-card {
  border-radius: 18px;
}

.App .onboarding-header h3 {
  font-size: 1.22rem;
  letter-spacing: -0.01em;
}

.App .onboarding-header p {
  font-size: 1.02rem;
  line-height: 1.35;
}

.App .onboarding-step {
  align-items: center;
  border-radius: 14px;
  padding: 12px 14px;
}

.App .onboarding-step-label {
  flex: 1;
  font-size: 1.02rem;
  font-weight: 650;
  line-height: 1.3;
  color: #2f2a33;
}

.App .onboarding-step.complete .onboarding-step-label {
  color: #1f5f3c;
}

.App .onboarding-step button,
.App .dismiss-onboarding-btn {
  flex-shrink: 0;
  min-width: 132px;
  min-height: 34px;
  padding: 0 13px;
  font-size: 0.83rem;
  font-weight: 700;
  letter-spacing: 0.01em;
  white-space: nowrap;
  color: #2e2448;
  border-color: rgba(79, 60, 131, 0.2);
  background: #ffffff;
}

.App.dark-mode {
  background: #1b2636;
  border-color: rgba(175, 194, 224, 0.14);
  box-shadow: 0 24px 56px rgba(6, 10, 20, 0.46);
}

.App.dark-mode .soft-sidebar {
  background: linear-gradient(180deg, #1d2a3d 0%, #182334 100%);
  border: 1px solid rgba(167, 188, 221, 0.2);
  box-shadow: inset 0 1px 0 rgba(215, 229, 252, 0.07), 0 18px 34px rgba(7, 12, 24, 0.36);
}

.App.dark-mode .sidebar-brand-mark {
  background: linear-gradient(180deg, #24344c 0%, #1f2d43 100%);
  border: 1px solid rgba(165, 188, 226, 0.3);
  box-shadow: 0 12px 24px rgba(8, 13, 25, 0.34), inset 0 1px 0 rgba(228, 238, 255, 0.08);
}

.App.dark-mode .main-content,
.App.dark-mode .right-sidebar {
  background: linear-gradient(180deg, #1d2a3d 0%, #182334 100%);
  border: 1px solid rgba(165, 188, 226, 0.2);
  box-shadow: inset 0 1px 0 rgba(221, 234, 255, 0.05), 0 18px 36px rgba(8, 13, 24, 0.34);
}

.App.dark-mode .soft-nav-item {
  background: rgba(223, 235, 255, 0.08);
  border-color: rgba(153, 176, 214, 0.32);
  color: #e8eefb;
}

.App.dark-mode .soft-nav-item:hover {
  background: rgba(223, 235, 255, 0.14);
  border-color: rgba(175, 196, 232, 0.44);
}

.App.dark-mode .soft-nav-item.active {
  background: linear-gradient(180deg, rgba(97, 123, 176, 0.5), rgba(83, 109, 158, 0.54));
  border-color: rgba(187, 206, 238, 0.58);
  box-shadow: 0 10px 20px rgba(7, 14, 26, 0.34);
}

.App.dark-mode .nav-group-toggle {
  color: #bdcae2;
}

.App.dark-mode .nav-group-chevron {
  color: #d6e0f3;
}

.App.dark-mode .home-onboarding-card {
  background: linear-gradient(180deg, #202d42 0%, #1a2538 100%);
  border: 1px solid rgba(165, 186, 219, 0.24);
  box-shadow: 0 14px 30px rgba(7, 12, 23, 0.34);
}

.App.dark-mode .onboarding-header p {
  color: #c0cee4;
}

.App.dark-mode .onboarding-step {
  background: rgba(140, 166, 207, 0.14);
  border-color: rgba(157, 183, 221, 0.3);
}

.App.dark-mode .onboarding-step.complete {
  background: rgba(80, 149, 122, 0.22);
  border-color: rgba(119, 189, 160, 0.36);
}

.App.dark-mode .onboarding-step-label {
  color: #e2e9f8;
}

.App.dark-mode .onboarding-step.complete .onboarding-step-label {
  color: #ccf0dc;
}

.App.dark-mode .onboarding-step button,
.App.dark-mode .dismiss-onboarding-btn {
  color: #eef4ff;
  border-color: rgba(189, 208, 237, 0.38);
  background: rgba(233, 242, 255, 0.16);
}

.App.dark-mode .onboarding-step button:hover,
.App.dark-mode .dismiss-onboarding-btn:hover {
  background: rgba(233, 242, 255, 0.24);
}

/* --------------------------------------------------
   Follow-up fixes: nav glow removal + onboarding overflow
-------------------------------------------------- */
.App .nav-sidebar.soft-sidebar {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

.App .nav-sidebar.soft-sidebar .soft-nav-drawer {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

.App.dark-mode .soft-sidebar,
.App.dark-mode .nav-sidebar.soft-sidebar,
.App.dark-mode .nav-sidebar.soft-sidebar .soft-nav-drawer {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

.App .onboarding-step {
  flex-wrap: wrap;
  align-items: flex-start;
}

.App .onboarding-step-label {
  min-width: 0;
  overflow-wrap: anywhere;
}

.App .onboarding-step button {
  margin-left: auto;
  min-width: 0;
  max-width: 100%;
}

@media (max-width: 900px) {
  .App .onboarding-step {
    gap: 10px;
  }

  .App .onboarding-step button,
  .App .dismiss-onboarding-btn {
    width: 100%;
    min-width: 0;
    justify-content: center;
  }
}

/* --------------------------------------------------
   Final tidy pass: remove nav glow + roomier home layout
-------------------------------------------------- */
.App .nav-drawer.soft-nav-drawer,
.App .nav-sidebar.soft-sidebar .nav-drawer.soft-nav-drawer,
.App.dark-mode .nav-drawer.soft-nav-drawer,
.App.dark-mode .nav-sidebar.soft-sidebar .nav-drawer.soft-nav-drawer {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

.App .nav-sidebar.soft-sidebar::before,
.App.dark-mode .nav-sidebar.soft-sidebar::before {
  content: none !important;
}

.App .home-dashboard,
.App .application-home-panel {
  grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  gap: 28px !important;
}

.App .home-hero-card,
.App .home-stats-card,
.App .home-recent-card,
.App .home-recent-full {
  grid-column: 1 / -1 !important;
}

.App .home-stats-card {
  grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
  gap: 14px !important;
}

.App .home-onboarding-card {
  grid-column: 1 / -1 !important;
  max-width: 820px;
}

.App .onboarding-step {
  display: grid !important;
  grid-template-columns: minmax(0, 1fr) !important;
  gap: 12px !important;
  align-items: start !important;
}

.App .onboarding-step-label {
  overflow-wrap: normal !important;
  word-break: normal !important;
  hyphens: none;
  line-height: 1.32;
}

.App .onboarding-step button {
  justify-self: start;
  margin-left: 0 !important;
  width: auto !important;
  min-width: 124px !important;
}

@media (max-width: 1280px) {
  .App .home-stats-card {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
}

@media (max-width: 980px) {
  .App .home-dashboard,
  .App .application-home-panel {
    grid-template-columns: 1fr !important;
  }

  .App .home-stats-card {
    grid-template-columns: 1fr !important;
  }

  .App .home-onboarding-card {
    max-width: none;
  }

  .App .onboarding-step button,
  .App .dismiss-onboarding-btn {
    width: 100% !important;
  }
}

/* --------------------------------------------------
   Calm density pass: reduce visual noise + add breathing room
-------------------------------------------------- */
.App .workspace-body {
  gap: 28px !important;
}

.App .workspace-area,
.App .home-dashboard,
.App .application-home-panel {
  gap: 30px !important;
}

.App .home-welcome-card,
.App .home-metric-card,
.App .home-tips-card,
.App .application-essay-list-card,
.App .settings-card,
.App .tracker-metric-card,
.App .tracker-form-card,
.App .application-card {
  border-color: rgba(130, 120, 104, 0.14) !important;
  box-shadow: 0 8px 18px rgba(34, 28, 40, 0.07) !important;
}

.App .home-onboarding-card {
  padding: 22px 24px !important;
  border-color: rgba(130, 120, 104, 0.16) !important;
  box-shadow: 0 8px 20px rgba(34, 28, 40, 0.08) !important;
}

.App .onboarding-steps {
  gap: 14px !important;
}

.App .onboarding-step {
  border-color: rgba(116, 111, 101, 0.2) !important;
  background: rgba(255, 255, 255, 0.58) !important;
  padding: 14px 16px !important;
}

.App .onboarding-step.complete {
  border-color: rgba(74, 145, 104, 0.3) !important;
  background: rgba(100, 170, 130, 0.15) !important;
}

.App .onboarding-step-label {
  font-size: 1.03rem !important;
  letter-spacing: 0.002em;
}

.App .onboarding-step button,
.App .dismiss-onboarding-btn {
  min-height: 36px !important;
  padding: 0 14px !important;
}

/* Keep sidebar list clean: avoid stacked outlines on every row */
.App .soft-nav-list {
  gap: 10px !important;
}

.App .soft-nav-item {
  border: 1px solid transparent !important;
  box-shadow: none !important;
}

.App .soft-nav-item:hover {
  border-color: transparent !important;
  box-shadow: none !important;
}

.App .soft-nav-item.active {
  border: 1px solid rgba(130, 120, 104, 0.18) !important;
  box-shadow: 0 6px 14px rgba(27, 22, 33, 0.12) !important;
}

.App.dark-mode .main-content,
.App.dark-mode .right-sidebar {
  border-color: rgba(167, 188, 221, 0.16) !important;
  box-shadow: inset 0 1px 0 rgba(221, 234, 255, 0.04), 0 12px 24px rgba(8, 13, 24, 0.28) !important;
}

.App.dark-mode .home-welcome-card,
.App.dark-mode .home-metric-card,
.App.dark-mode .home-tips-card,
.App.dark-mode .application-essay-list-card,
.App.dark-mode .settings-card,
.App.dark-mode .tracker-metric-card,
.App.dark-mode .tracker-form-card,
.App.dark-mode .application-card,
.App.dark-mode .home-onboarding-card {
  border-color: rgba(157, 183, 221, 0.2) !important;
  box-shadow: 0 10px 22px rgba(7, 12, 23, 0.25) !important;
}

.App.dark-mode .soft-nav-item {
  background: transparent !important;
  border: 1px solid transparent !important;
}

.App.dark-mode .soft-nav-item:hover {
  background: rgba(223, 235, 255, 0.08) !important;
  border: 1px solid transparent !important;
}

.App.dark-mode .soft-nav-item.active,
.App.dark-mode .nav-drawer-item.soft-nav-item.active,
.App.dark-mode .soft-nav-list .soft-nav-item.active {
  background: rgba(223, 235, 255, 0.18) !important;
  border: 1px solid rgba(189, 208, 237, 0.36) !important;
  box-shadow: 0 8px 16px rgba(7, 14, 26, 0.24) !important;
}

.App.dark-mode .onboarding-step {
  background: rgba(140, 166, 207, 0.12) !important;
  border-color: rgba(157, 183, 221, 0.24) !important;
}

.App.dark-mode .onboarding-step.complete {
  background: rgba(80, 149, 122, 0.2) !important;
  border-color: rgba(119, 189, 160, 0.3) !important;
}

/* --------------------------------------------------
   Theme toggle alignment fix
-------------------------------------------------- */
.App .app-theme-toggle {
  --toggle-w: 120px;
  --toggle-h: 56px;
  --toggle-pad: 4px;
  --toggle-thumb: 48px;

  width: var(--toggle-w) !important;
  height: var(--toggle-h) !important;
  padding: 0 !important;
}

.App .app-theme-toggle__thumb {
  top: 50% !important;
  left: var(--toggle-pad) !important;
  width: var(--toggle-thumb) !important;
  height: var(--toggle-thumb) !important;
  transform: translateY(-50%) !important;
}

.App .app-theme-toggle--dark .app-theme-toggle__thumb {
  transform: translateY(-50%) translateX(calc(var(--toggle-w) - var(--toggle-thumb) - (var(--toggle-pad) * 2))) !important;
}

.App .app-theme-toggle__icon {
  top: 50% !important;
  transform: translate(-50%, -50%) !important;
  width: 20px !important;
  height: 20px !important;
  display: grid !important;
  place-items: center !important;
}

.App .app-theme-toggle__icon--light {
  left: calc(var(--toggle-pad) + (var(--toggle-thumb) / 2)) !important;
}

.App .app-theme-toggle__icon--dark {
  left: calc(var(--toggle-w) - var(--toggle-pad) - (var(--toggle-thumb) / 2)) !important;
}

.App .app-theme-toggle__icon .nav-icon-svg {
  width: 20px !important;
  height: 20px !important;
}

/* --------------------------------------------------
   Right rail action polish for frameless layout (reversible)
-------------------------------------------------- */
.App .right-sidebar .right-rail-actions-strip {
  display: grid;
  gap: 10px;
  margin: 2px 0 16px;
  padding: 8px;
  border-radius: 18px;
  background: rgba(255, 255, 255, 0.34);
  border: 1px solid rgba(130, 120, 104, 0.16);
}

.App.dark-mode .right-sidebar .right-rail-actions-strip {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(167, 188, 221, 0.18);
}

.App .right-sidebar .right-rail-action-btn,
.App .right-sidebar .new-essay-btn.right-rail-action-btn,
.App .right-sidebar .new-essay-btn.right-rail-action-btn.secondary-action-btn {
  min-height: 50px !important;
  border-radius: 999px !important;
  border: 1px solid rgba(130, 120, 104, 0.22) !important;
  background: rgba(255, 255, 255, 0.88) !important;
  color: #1f2937 !important;
  box-shadow: none !important;
  font-weight: 700 !important;
  letter-spacing: -0.01em !important;
}

.App.dark-mode .right-sidebar .right-rail-action-btn,
.App.dark-mode .right-sidebar .new-essay-btn.right-rail-action-btn,
.App.dark-mode .right-sidebar .new-essay-btn.right-rail-action-btn.secondary-action-btn {
  border-color: rgba(167, 188, 221, 0.3) !important;
  background: rgba(18, 28, 46, 0.64) !important;
  color: #e6edf8 !important;
  box-shadow: none !important;
}

.App .right-sidebar .right-rail-action-btn:hover,
.App .right-sidebar .new-essay-btn.right-rail-action-btn:hover,
.App .right-sidebar .new-essay-btn.right-rail-action-btn.secondary-action-btn:hover {
  transform: translateY(-1px) !important;
  border-color: rgba(130, 120, 104, 0.3) !important;
  background: rgba(255, 255, 255, 0.96) !important;
  box-shadow: none !important;
}

.App.dark-mode .right-sidebar .right-rail-action-btn:hover,
.App.dark-mode .right-sidebar .new-essay-btn.right-rail-action-btn:hover,
.App.dark-mode .right-sidebar .new-essay-btn.right-rail-action-btn.secondary-action-btn:hover {
  border-color: rgba(183, 204, 232, 0.42) !important;
  background: rgba(27, 41, 66, 0.82) !important;
}

.App .right-sidebar .right-rail-action-btn:active,
.App .right-sidebar .new-essay-btn.right-rail-action-btn:active,
.App .right-sidebar .new-essay-btn.right-rail-action-btn.secondary-action-btn:active {
  transform: translateY(0) !important;
  box-shadow: none !important;
}

/* --------------------------------------------------
   Top create menu + stacked right rail cards (reversible)
-------------------------------------------------- */
.App .header-create-menu {
  position: relative;
}

.App .header-create-btn {
  height: 40px !important;
  border-radius: 999px !important;
  border: 1px solid rgba(130, 120, 104, 0.24) !important;
  background: #09090b !important;
  color: #ffffff !important;
  min-width: 114px !important;
  padding: 0 18px !important;
  font-size: 0.9rem !important;
  font-weight: 700 !important;
  cursor: pointer;
}

.App.dark-mode .header-create-btn {
  background: #ffffff !important;
  color: #09090b !important;
  border-color: rgba(167, 188, 221, 0.34) !important;
}

.App .header-create-dropdown {
  top: calc(100% + 8px) !important;
  right: 0 !important;
  min-width: 176px !important;
  border-radius: 14px !important;
  border: 1px solid rgba(130, 120, 104, 0.2) !important;
  background: #fffdf9 !important;
  box-shadow: 0 12px 24px rgba(34, 28, 40, 0.1) !important;
  padding: 6px !important;
  display: grid !important;
  gap: 4px !important;
  z-index: 80 !important;
}

.App.dark-mode .header-create-dropdown {
  background: #0f1622 !important;
  border-color: rgba(167, 188, 221, 0.26) !important;
  box-shadow: 0 14px 28px rgba(2, 6, 23, 0.42) !important;
}

.App .header-create-option {
  height: 36px;
  border-radius: 10px;
  border: 1px solid transparent;
  background: transparent;
  color: #1f2937;
  font-size: 0.9rem;
  font-weight: 650;
  text-align: left;
  padding: 0 10px;
  cursor: pointer;
}

.App .header-create-option:hover {
  background: rgba(17, 24, 39, 0.06);
}

.App.dark-mode .header-create-option {
  color: #e6edf8;
}

.App.dark-mode .header-create-option:hover {
  background: rgba(223, 235, 255, 0.12);
}

.App .right-sidebar {
  display: grid;
  align-content: start;
  gap: 14px;
}

.App .right-sidebar .right-rail-card {
  border: 1px solid rgba(130, 120, 104, 0.16) !important;
  border-radius: 18px !important;
  background: rgba(255, 255, 255, 0.48) !important;
  padding: 12px !important;
}

.App.dark-mode .right-sidebar .right-rail-card {
  border-color: rgba(167, 188, 221, 0.2) !important;
  background: rgba(18, 28, 46, 0.3) !important;
}

.App .right-sidebar .right-rail-card .essay-item {
  margin-bottom: 8px;
}

.App .right-sidebar .right-rail-card .essay-item:last-child {
  margin-bottom: 0;
}

/* --------------------------------------------------
   Profile icon centering fix (reversible)
-------------------------------------------------- */
.App .header-profile-trigger {
  padding: 0 !important;
  line-height: 0 !important;
  display: grid !important;
  place-items: center !important;
}

.App .header-profile-avatar-fallback {
  width: 100% !important;
  height: 100% !important;
  display: grid !important;
  place-items: center !important;
  line-height: 0 !important;
}

.App .header-profile-avatar-fallback .nav-icon-svg {
  display: block !important;
  margin: 0 !important;
  transform: none !important;
}

/* --------------------------------------------------
   Versions panel polish (reversible)
-------------------------------------------------- */
.App .versions-panel {
  padding: 22px !important;
  border-radius: 28px !important;
}

.App .versions-panel h3 {
  margin-bottom: 16px !important;
  font-size: 2rem;
  letter-spacing: -0.02em;
}

.App .versions-list {
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)) !important;
  gap: 12px !important;
}

.App .version-item {
  min-height: 146px;
  border-radius: 18px !important;
  padding: 16px 18px !important;
}

.App .version-header strong {
  line-height: 1.14;
  font-size: 1.05rem;
}

.App .latest-badge {
  min-height: 34px;
  padding: 0 14px;
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  font-size: 0.95rem;
  font-weight: 700;
}

.App .version-meta {
  margin-top: 10px;
  font-size: 1.01rem;
}

.App .versions-footer {
  margin-top: 16px !important;
  padding-top: 14px;
  border-top: 1px solid rgba(130, 120, 104, 0.2);
  display: flex !important;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  flex-wrap: wrap;
}

.App .versions-helper-text {
  margin: 0;
  max-width: 76ch;
  font-size: 1.02rem;
  line-height: 1.5;
}

.App .version-btn {
  min-height: 52px;
  padding: 0 20px;
  border-radius: 14px;
  font-size: 1.02rem;
  font-weight: 700;
}

.App .version-diff-panel {
  margin-top: 18px !important;
  padding-top: 16px !important;
  display: grid;
  gap: 12px;
}

.App .version-diff-header h4 {
  font-size: 2rem;
  letter-spacing: -0.02em;
}

.App .version-diff-header span {
  font-size: 1rem;
  font-weight: 650;
}

.App .version-diff-controls {
  gap: 12px !important;
}

.App .version-diff-controls label {
  gap: 8px !important;
  font-size: 1.05rem;
  font-weight: 700;
}

.App .version-diff-controls select {
  width: 100%;
  min-height: 42px;
  border-radius: 10px;
  border: 1px solid rgba(130, 120, 104, 0.24);
  background: #fffdf9;
  color: #2f2b25;
  font-size: 1rem;
  padding: 0 12px;
}

.App .version-diff-row {
  gap: 10px !important;
}

.App .version-diff-row pre {
  min-height: 48px;
  font-size: 1.02rem;
  line-height: 1.5;
}

.App.dark-mode .versions-footer {
  border-top-color: rgba(167, 188, 221, 0.25);
}

.App.dark-mode .version-diff-controls select {
  border-color: rgba(167, 188, 221, 0.3);
  background: rgba(18, 28, 46, 0.9);
  color: #e6edf8;
}

.App.dark-mode .version-diff-controls select option {
  background: #0f1622;
  color: #e6edf8;
}

@media (max-width: 980px) {
  .App .versions-panel {
    padding: 18px !important;
  }

  .App .versions-panel h3,
  .App .version-diff-header h4 {
    font-size: 1.65rem;
  }

  .App .versions-footer {
    align-items: stretch;
  }

  .App .version-btn {
    width: 100%;
    justify-content: center;
  }
}

/* --------------------------------------------------
   Essays page list-first layout (reversible)
-------------------------------------------------- */
.App .essays-page {
  display: grid;
  gap: 16px;
}

.App .essays-page-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.App .essays-page-summary h3 {
  font-size: 1.35rem;
  margin-bottom: 4px;
}

.App .essays-page-summary p {
  color: #60708a;
}

.App .essays-page-create-btn {
  min-height: 46px;
  padding: 0 18px;
}

.App .essays-list-card {
  padding: 16px !important;
}

.App .essays-master-list {
  display: grid;
  gap: 10px;
}

.App .essays-master-item {
  border-radius: 16px;
  border: 1px solid rgba(130, 120, 104, 0.22);
  background: rgba(255, 255, 255, 0.56);
  padding: 14px 16px;
  text-align: left;
  cursor: pointer;
}

.App .essays-master-item-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.App .essays-master-item-top strong {
  font-size: 1.05rem;
}

.App .essays-master-item-prompt {
  margin-top: 8px;
  color: #53627a;
}

.App .essays-master-item-meta {
  margin-top: 10px;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  color: #60708a;
}

.App .essays-empty-state {
  padding: 18px !important;
  display: grid;
  gap: 10px;
}

.App .essays-empty-state .new-essay-btn {
  width: fit-content;
}

.App.dark-mode .essays-page-summary p,
.App.dark-mode .essays-master-item-prompt,
.App.dark-mode .essays-master-item-meta {
  color: #9eb2cf;
}

.App.dark-mode .essays-master-item {
  border-color: rgba(167, 188, 221, 0.28);
  background: rgba(24, 34, 52, 0.58);
}

/* --------------------------------------------------
   Dark hover-glow removal + soft pastel accents (reversible)
-------------------------------------------------- */
.App {
  --pastel-mint: #d7efe5;
  --pastel-sky: #dbe8fb;
  --pastel-lilac: #e6def9;
  --pastel-peach: #f7e7d9;
  --pastel-rose: #f3dfe7;
}

/* Disable pointer-follow glow effect in dark mode */
.App.dark-mode .home-welcome-card::before,
.App.dark-mode .home-metric-card::before,
.App.dark-mode .home-tips-card::before,
.App.dark-mode .settings-card::before,
.App.dark-mode .application-essay-list-card::before,
.App.dark-mode .insight-card::before,
.App.dark-mode .detail-list-card::before,
.App.dark-mode .tracker-metric-card::before,
.App.dark-mode .tracker-form-card::before,
.App.dark-mode .application-card::before,
.App.dark-mode .essay-section::before,
.App.dark-mode .versions-panel::before,
.App.dark-mode .essay-header::before,
.App.dark-mode .review-section::before,
.App.dark-mode .essay-form::before,
.App.dark-mode .user-profile-card::before,
.App.dark-mode .empty-state-main::before,
.App.dark-mode .doc-item::before,
.App.dark-mode .detail-item::before,
.App.dark-mode .version-item::before {
  opacity: 0 !important;
  content: none !important;
}

.App.dark-mode .home-welcome-card:hover::before,
.App.dark-mode .home-metric-card:hover::before,
.App.dark-mode .home-tips-card:hover::before,
.App.dark-mode .settings-card:hover::before,
.App.dark-mode .application-essay-list-card:hover::before,
.App.dark-mode .insight-card:hover::before,
.App.dark-mode .detail-list-card:hover::before,
.App.dark-mode .tracker-metric-card:hover::before,
.App.dark-mode .tracker-form-card:hover::before,
.App.dark-mode .application-card:hover::before,
.App.dark-mode .essay-section:hover::before,
.App.dark-mode .versions-panel:hover::before,
.App.dark-mode .essay-header:hover::before,
.App.dark-mode .review-section:hover::before,
.App.dark-mode .essay-form:hover::before,
.App.dark-mode .user-profile-card:hover::before,
.App.dark-mode .empty-state-main:hover::before,
.App.dark-mode .doc-item:hover::before,
.App.dark-mode .detail-item:hover::before,
.App.dark-mode .version-item:hover::before {
  opacity: 0 !important;
}

/* Light theme: add gentle pastel variation */
.App:not(.dark-mode) .home-welcome-card,
.App:not(.dark-mode) .essay-header {
  background: linear-gradient(145deg, rgba(219, 232, 251, 0.62), rgba(255, 253, 249, 0.92)) !important;
}

.App:not(.dark-mode) .home-onboarding-card,
.App:not(.dark-mode) .versions-panel {
  background: linear-gradient(150deg, rgba(230, 222, 249, 0.42), rgba(255, 253, 249, 0.92)) !important;
}

.App:not(.dark-mode) .home-metric-card,
.App:not(.dark-mode) .application-essay-list-card,
.App:not(.dark-mode) .tracker-metric-card {
  background: linear-gradient(160deg, rgba(215, 239, 229, 0.4), rgba(255, 253, 249, 0.92)) !important;
}

/* Dark theme: keep sleek base but introduce soft-tint surfaces */
.App.dark-mode .main-content {
  background: linear-gradient(170deg, rgba(19, 31, 54, 0.88), rgba(14, 18, 28, 0.94)) !important;
}

.App.dark-mode .home-welcome-card,
.App.dark-mode .home-onboarding-card,
.App.dark-mode .application-essay-list-card,
.App.dark-mode .tracker-metric-card,
.App.dark-mode .essay-header,
.App.dark-mode .versions-panel,
.App.dark-mode .essay-section {
  background: linear-gradient(160deg, rgba(34, 49, 75, 0.78), rgba(16, 22, 34, 0.9)) !important;
  border-color: rgba(160, 182, 220, 0.28) !important;
}

/* Shared color accents for chips and badges */
.App .program-type,
.App .score-pill {
  background: linear-gradient(180deg, rgba(215, 239, 229, 0.72), rgba(219, 232, 251, 0.68)) !important;
  border: 1px solid rgba(127, 160, 194, 0.28) !important;
  color: #4a5f79 !important;
}

.App .version-badge {
  background: linear-gradient(180deg, rgba(230, 222, 249, 0.88), rgba(219, 232, 251, 0.78)) !important;
  border: 1px solid rgba(154, 145, 210, 0.34) !important;
  color: #53627a !important;
}

.App.dark-mode .program-type,
.App.dark-mode .score-pill {
  background: linear-gradient(180deg, rgba(112, 140, 177, 0.42), rgba(95, 124, 168, 0.3)) !important;
  border-color: rgba(157, 184, 223, 0.34) !important;
  color: #d7e7ff !important;
}

.App.dark-mode .version-badge {
  background: linear-gradient(180deg, rgba(139, 124, 209, 0.45), rgba(102, 128, 198, 0.34)) !important;
  border-color: rgba(175, 168, 232, 0.4) !important;
  color: #e8edff !important;
}

/* --------------------------------------------------
   Layout stability: strip-free top lane + centered auth shell
-------------------------------------------------- */
.App .workspace-top-controls,
.App.dark-mode .workspace-top-controls,
.App .workspace-shell,
.App.dark-mode .workspace-shell,
.App .app-layout,
.App.dark-mode .app-layout,
.App:not(.dark-mode) .workspace-top-controls,
.App:not(.dark-mode) .workspace-shell,
.App:not(.dark-mode) .app-layout {
  background: transparent !important;
  background-image: none !important;
  border: none !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

.auth-page-shell {
  min-height: 100vh;
  width: 100%;
  display: grid;
  place-items: center;
  padding: 24px;
}

/* Research card form heading contrast fix */
.App:not(.dark-mode) .research-card .form-group label {
  color: #5a6780 !important;
  font-weight: 700 !important;
  letter-spacing: -0.005em;
}

.App.dark-mode .research-card .form-group label {
  color: #cdd9ee !important;
  font-weight: 700 !important;
}

/* Admin panel */
.workspace-body-admin {
  grid-template-columns: 1fr;
}

.admin-panel {
  width: 100%;
}

.admin-panel h2,
.admin-panel h3 {
  color: #1f2937;
}

.admin-panel .settings-card p,
.admin-panel .admin-list p,
.admin-panel .admin-table td {
  color: #3b475a;
}

.admin-panel .settings-card h3 {
  color: #2b3647;
}

.admin-panel .settings-card p {
  color: #1f2a3a;
  font-weight: 600;
}

.App.dark-mode .admin-panel h2,
.App.dark-mode .admin-panel h3 {
  color: #e6efff;
}

.App.dark-mode .admin-panel .settings-card p,
.App.dark-mode .admin-panel .admin-list p,
.App.dark-mode .admin-panel .admin-table td {
  color: rgba(216, 224, 238, 0.85);
}

.admin-toast-region {
  position: fixed;
  top: 24px;
  right: 24px;
  z-index: 1300;
  display: grid;
  gap: 10px;
  width: min(420px, calc(100vw - 32px));
}

.admin-toast {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  border-radius: 14px;
  padding: 10px 12px;
  border: 1px solid var(--border-color);
  background: var(--surface-color);
  box-shadow: 0 14px 30px rgba(12, 18, 34, 0.16);
}

.admin-toast button {
  border: none;
  background: transparent;
  font-weight: 700;
  color: inherit;
  cursor: pointer;
}

.admin-toast-success {
  border-color: rgba(34, 114, 74, 0.28);
  background: linear-gradient(160deg, rgba(222, 245, 233, 0.96), rgba(244, 251, 247, 0.96));
  color: #1f6a45;
}

.admin-toast-error {
  border-color: rgba(182, 59, 59, 0.32);
  background: linear-gradient(160deg, rgba(253, 233, 233, 0.96), rgba(254, 244, 244, 0.96));
  color: #973636;
}

.admin-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 16px;
}

.admin-toolbar-title-wrap {
  display: grid;
  gap: 4px;
}

.admin-last-updated {
  margin: 0;
  color: var(--muted-text);
  font-size: 0.86rem;
}

.admin-error {
  color: #b63b3b;
  margin-bottom: 12px;
}

.admin-loading {
  margin-bottom: 12px;
  color: var(--muted-text);
}

.admin-stats-grid {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.admin-list {
  display: grid;
  gap: 10px;
  max-height: 280px;
  overflow-y: auto;
  padding-right: 4px;
}

.admin-table-wrap {
  overflow-x: auto;
}

.admin-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.95rem;
}

.admin-table th,
.admin-table td {
  text-align: left;
  padding: 10px 8px;
  border-bottom: 1px solid var(--border-color);
  vertical-align: middle;
}

.admin-table thead th {
  position: sticky;
  top: 0;
  z-index: 1;
  background: var(--surface-color);
}

.admin-table tbody tr:hover td {
  background: rgba(104, 128, 168, 0.08);
}

.admin-role-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 0.82rem;
  font-weight: 700;
  letter-spacing: 0.01em;
  text-transform: capitalize;
}

.admin-role-admin {
  background: rgba(111, 93, 204, 0.18);
  color: #5748b8;
  border: 1px solid rgba(111, 93, 204, 0.28);
}

.admin-role-user {
  background: rgba(88, 118, 161, 0.12);
  color: #4f6281;
  border: 1px solid rgba(88, 118, 161, 0.2);
}

.admin-role-action {
  min-width: 88px;
  border-radius: 999px;
  padding: 8px 12px;
  border: 1px solid transparent;
  font-weight: 700;
  transition: transform 160ms ease, box-shadow 160ms ease;
}

.admin-role-action:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 8px 16px rgba(31, 43, 66, 0.18);
}

.admin-role-action:disabled {
  opacity: 0.48;
  cursor: not-allowed;
}

.admin-role-action-promote {
  background: linear-gradient(160deg, rgba(221, 244, 232, 0.95), rgba(236, 250, 244, 0.95));
  border-color: rgba(34, 114, 74, 0.28);
  color: #1f6a45;
}

.admin-role-action-demote {
  background: linear-gradient(160deg, rgba(252, 233, 233, 0.95), rgba(254, 244, 244, 0.95));
  border-color: rgba(182, 59, 59, 0.3);
  color: #973636;
}

@media (max-width: 1200px) {
  .admin-stats-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 720px) {
  .admin-stats-grid {
    grid-template-columns: 1fr;
  }
}

.admin-modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(15, 20, 32, 0.42);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  z-index: 1200;
}

.admin-modal {
  width: min(460px, 100%);
  border-radius: 20px;
  padding: 22px;
  border: 1px solid var(--border-color);
  background: var(--surface-color);
  box-shadow: 0 22px 50px rgba(12, 18, 34, 0.24);
}

.admin-modal h3 {
  margin: 0 0 10px;
  font-size: 1.22rem;
}

.admin-modal p {
  margin: 0 0 18px;
  line-height: 1.45;
}

.admin-modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.admin-modal-actions button {
  min-width: 110px;
}

.App.dark-mode .admin-modal {
  background: linear-gradient(160deg, rgba(24, 33, 52, 0.96), rgba(16, 23, 38, 0.98));
  border-color: rgba(125, 151, 191, 0.34);
}

.App.dark-mode .admin-toast {
  border-color: rgba(125, 151, 191, 0.34);
  background: linear-gradient(160deg, rgba(24, 33, 52, 0.96), rgba(16, 23, 38, 0.98));
}

.App.dark-mode .admin-toast-success {
  border-color: rgba(99, 197, 147, 0.38);
  color: #9ff1c6;
}

.App.dark-mode .admin-toast-error {
  border-color: rgba(238, 119, 119, 0.36);
  color: #ffb7b7;
}

.App.dark-mode .admin-table thead th {
  background: rgba(21, 30, 49, 0.98);
}

.App.dark-mode .admin-table tbody tr:hover td {
  background: rgba(95, 124, 168, 0.18);
}

.App.dark-mode .admin-role-admin {
  background: rgba(157, 132, 255, 0.25);
  color: #decfff;
  border-color: rgba(157, 132, 255, 0.35);
}

.App.dark-mode .admin-role-user {
  background: rgba(124, 154, 201, 0.2);
  color: #d8e6ff;
  border-color: rgba(124, 154, 201, 0.3);
}

.App.dark-mode .admin-role-action-promote {
  background: linear-gradient(160deg, rgba(36, 82, 62, 0.62), rgba(34, 72, 57, 0.52));
  border-color: rgba(93, 182, 136, 0.45);
  color: #b4f2d2;
}

.App.dark-mode .admin-role-action-demote {
  background: linear-gradient(160deg, rgba(88, 43, 43, 0.62), rgba(78, 36, 36, 0.52));
  border-color: rgba(217, 109, 109, 0.46);
  color: #ffc2c2;
}

.admin-load-more {
  margin-top: 10px;
  border-radius: 999px;
  padding: 8px 14px;
  border: 1px solid var(--border-color);
  background: rgba(255, 255, 255, 0.72);
  color: var(--muted-text);
  font-weight: 700;
}

.admin-load-more:hover {
  background: rgba(240, 246, 255, 0.9);
}

.App.dark-mode .admin-load-more {
  background: rgba(26, 37, 58, 0.72);
  color: #d4e4ff;
  border-color: rgba(125, 151, 191, 0.38);
}

.app-error-fallback {
  border: 1px solid var(--border-color);
  border-radius: 20px;
  padding: 24px;
  background: linear-gradient(160deg, rgba(253, 243, 244, 0.95), rgba(255, 250, 250, 0.96));
  box-shadow: 0 16px 36px rgba(124, 37, 49, 0.16);
}

.app-error-fallback h2 {
  margin: 0 0 10px;
  font-size: 1.35rem;
}

.app-error-fallback p {
  margin: 0 0 14px;
  color: #6d4f5a;
}

.app-error-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.app-error-actions button {
  border-radius: 999px;
  padding: 10px 16px;
  border: 1px solid rgba(144, 83, 94, 0.34);
  background: rgba(255, 255, 255, 0.88);
  color: #72434f;
  font-weight: 700;
}

.App.dark-mode .app-error-fallback {
  background: linear-gradient(160deg, rgba(56, 34, 42, 0.8), rgba(31, 23, 37, 0.88));
  border-color: rgba(206, 132, 158, 0.4);
}

.App.dark-mode .app-error-fallback p {
  color: #ffcedf;
}

.App.dark-mode .app-error-actions button {
  background: rgba(83, 48, 60, 0.8);
  color: #ffd0df;
  border-color: rgba(206, 132, 158, 0.45);
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* --------------------------------------------------
   Final polish: transient scrollbars + top-right control safety
-------------------------------------------------- */
.App .main-content,
.App .right-sidebar {
  overflow-y: auto !important;
  scrollbar-gutter: auto !important;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.App .main-content::-webkit-scrollbar,
.App .right-sidebar::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

.App .main-content.is-scrolling,
.App .right-sidebar.is-scrolling {
  scrollbar-width: thin;
  scrollbar-color: rgba(146, 167, 198, 0.72) transparent;
}

.App .main-content::-webkit-scrollbar-thumb,
.App .right-sidebar::-webkit-scrollbar-thumb {
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
  background-color: transparent;
  min-height: 34px;
}

.App .main-content.is-scrolling::-webkit-scrollbar-thumb,
.App .right-sidebar.is-scrolling::-webkit-scrollbar-thumb {
  background-color: rgba(146, 167, 198, 0.72);
}

.App .main-content.is-scrolling::-webkit-scrollbar-track,
.App .right-sidebar.is-scrolling::-webkit-scrollbar-track {
  background: transparent;
}

.App .main-content::-webkit-scrollbar-track,
.App .right-sidebar::-webkit-scrollbar-track {
  background: transparent;
}

.App.dark-mode .main-content.is-scrolling,
.App.dark-mode .right-sidebar.is-scrolling {
  scrollbar-color: rgba(194, 214, 240, 0.5) transparent;
}

.App.dark-mode .main-content.is-scrolling::-webkit-scrollbar-thumb,
.App.dark-mode .right-sidebar.is-scrolling::-webkit-scrollbar-thumb {
  background-color: rgba(194, 214, 240, 0.5);
}

/* Left nav list scrollbar: show only while actively scrolling (light mode) */
.App:not(.dark-mode) .soft-nav-list {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.App:not(.dark-mode) .soft-nav-list::-webkit-scrollbar {
  width: 0;
  height: 0;
}

.App:not(.dark-mode) .soft-nav-list.is-scrolling {
  scrollbar-width: thin;
  scrollbar-color: rgba(168, 171, 178, 0.66) transparent;
}

.App:not(.dark-mode) .soft-nav-list.is-scrolling::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

.App:not(.dark-mode) .soft-nav-list::-webkit-scrollbar-thumb {
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
  background-color: transparent;
}

.App:not(.dark-mode) .soft-nav-list.is-scrolling::-webkit-scrollbar-thumb {
  background-color: rgba(168, 171, 178, 0.66);
}

.App:not(.dark-mode) .soft-nav-list::-webkit-scrollbar-track {
  background: transparent;
}

.App.dark-mode .soft-nav-list {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.App.dark-mode .soft-nav-list::-webkit-scrollbar {
  width: 0;
  height: 0;
}

.App.dark-mode .soft-nav-list.is-scrolling {
  scrollbar-width: thin;
  scrollbar-color: rgba(194, 214, 240, 0.5) transparent;
}

.App.dark-mode .soft-nav-list.is-scrolling::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

.App.dark-mode .soft-nav-list::-webkit-scrollbar-thumb {
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
  background-color: transparent;
}

.App.dark-mode .soft-nav-list.is-scrolling::-webkit-scrollbar-thumb {
  background-color: rgba(194, 214, 240, 0.5);
}

.App.dark-mode .soft-nav-list::-webkit-scrollbar-track {
  background: transparent;
}

.App .workspace-top-controls {
  width: 100%;
  min-width: 0;
  padding-inline-end: 8px !important;
  overflow: visible !important;
}

.App .workspace-top-controls::before,
.App .workspace-top-controls::after {
  content: none !important;
}

.App .header-search-form {
  flex: 1 1 auto;
  min-width: 0;
  justify-content: flex-end;
}

.App .header-search-form input {
  width: clamp(220px, 31vw, 420px) !important;
  max-width: 100%;
}

.App .header-create-menu,
.App .header-icon-btn,
.App .header-profile-menu {
  flex: 0 0 auto;
}

.App .header-profile-menu {
  margin-right: 2px;
}

.App .header-profile-trigger {
  flex-shrink: 0;
  overflow: hidden;
}

@media (max-width: 1180px) {
  .App .workspace-top-controls {
    flex-wrap: wrap;
    row-gap: 10px;
  }

  .App .header-search-form {
    order: 1;
    width: 100%;
  }
}

.tracker-catalog-meta {
  margin: 8px 0 14px;
  padding: 10px 12px;
  border: 1px solid rgba(17, 16, 22, 0.12);
  border-radius: 12px;
  background: #faf7f4;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  font-size: 0.86rem;
}

.tracker-catalog-meta a {
  color: #5f449f;
  font-weight: 600;
}

.essay-outline-assist-result {
  margin-top: 10px;
  border: 1px solid rgba(17, 16, 22, 0.12);
  border-radius: 12px;
  background: #faf7f4;
  padding: 10px 12px;
}

.essay-outline-assist-result pre {
  margin: 8px 0 10px;
  white-space: pre-wrap;
  font-size: 0.88rem;
  line-height: 1.45;
}

.essay-outline-assist-result ul {
  margin: 0;
  padding-left: 18px;
}

.form-section {
  padding: 14px 14px 6px;
  border: 1px solid rgba(17, 16, 22, 0.12);
  border-radius: 14px;
  margin-bottom: 14px;
  background: rgba(250, 247, 244, 0.55);
}

.form-section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.form-section-header h3 {
  margin: 0 0 4px;
  font-size: 1rem;
}

.form-section-header p {
  margin: 0;
  font-size: 0.85rem;
  color: rgba(24, 24, 32, 0.7);
}

.form-section-toggle {
  border-radius: 999px;
  padding: 6px 14px;
  font-size: 0.82rem;
  font-weight: 600;
  border: 1px solid rgba(17, 16, 22, 0.18);
  background: #ffffff;
  color: #14141a;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.form-section-toggle:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(17, 16, 22, 0.12);
}

.form-section-toggle:active {
  transform: translateY(0);
}

.App.dark-mode .form-section {
  background: rgba(20, 24, 32, 0.85);
  border-color: rgba(138, 172, 232, 0.28);
}

.App.dark-mode .form-section-header p {
  color: rgba(216, 224, 238, 0.7);
}

.App.dark-mode .form-section-toggle {
  background: rgba(18, 23, 33, 0.9);
  border-color: rgba(138, 172, 232, 0.35);
  color: #e6efff;
  box-shadow: none;
}
.App.dark-mode .tracker-catalog-meta,
.App.dark-mode .essay-outline-assist-result {
  background: rgba(255, 255, 255, 0.04);
  border-color: rgba(255, 255, 255, 0.12);
}

.App.dark-mode .tracker-catalog-meta a {
  color: #bca8ef;
}

.admin-catalog-form {
  display: grid;
  gap: 10px;
  margin-bottom: 12px;
}

.admin-catalog-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 8px;
}

.admin-catalog-grid input,
.admin-catalog-grid select {
  width: 100%;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(18, 31, 45, 0.15);
  background: #ffffff;
  color: #1f2937;
}

.admin-field-error {
  margin-top: -4px;
  font-size: 0.78rem;
  color: #b2282b;
}

.admin-catalog-actions {
  display: flex;
  gap: 8px;
}

.admin-catalog-toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  margin: 8px 0 12px;
}

.admin-catalog-toolbar input {
  flex: 1;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(18, 31, 45, 0.15);
  background: #ffffff;
  color: #1f2937;
}

.admin-catalog-row-actions {
  display: flex;
  gap: 6px;
}

.admin-ai-config-form {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.admin-ai-config-grid {
  display: grid;
  grid-template-columns: 140px minmax(220px, 1fr);
  gap: 10px 12px;
  align-items: center;
}

.admin-ai-config-grid label {
  font-weight: 600;
}

.admin-ai-config-grid select {
  width: 100%;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(18, 31, 45, 0.15);
  background: #ffffff;
  color: #1f2937;
}

.admin-ai-config-grid input {
  width: 100%;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(18, 31, 45, 0.15);
  background: #ffffff;
  color: #1f2937;
}

.admin-ai-config-meta {
  margin: 0;
  font-size: 0.85rem;
  color: rgba(24, 24, 32, 0.72);
}

.App.dark-mode .admin-catalog-grid input,
.App.dark-mode .admin-catalog-grid select,
.App.dark-mode .admin-catalog-toolbar input {
  background: rgba(16, 23, 33, 0.9);
  border-color: rgba(138, 172, 232, 0.28);
  color: #e6efff;
}

.App.dark-mode .admin-field-error {
  color: #ff9fa1;
}

.App.dark-mode .admin-ai-config-grid select {
  background: rgba(16, 23, 33, 0.9);
  border-color: rgba(138, 172, 232, 0.28);
  color: #e6efff;
}

.App.dark-mode .admin-ai-config-grid input {
  background: rgba(16, 23, 33, 0.9);
  border-color: rgba(138, 172, 232, 0.28);
  color: #e6efff;
}

.App.dark-mode .admin-ai-config-meta {
  color: rgba(216, 224, 238, 0.74);
}

.share-snapshot-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.share-snapshot-header p {
  margin: 0;
  font-size: 0.85rem;
  color: rgba(24, 24, 32, 0.7);
}

.App.dark-mode .share-snapshot-header p {
  color: rgba(216, 224, 238, 0.7);
}

.home-hero-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.onboarding-progress {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 8px;
}

.onboarding-progress-bar {
  flex: 1;
  height: 6px;
  border-radius: 999px;
  background: rgba(17, 16, 22, 0.12);
  position: relative;
  overflow: hidden;
}

.onboarding-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #3c5ee6, #4fb3ff);
  border-radius: 999px;
  transition: width 0.2s ease;
}

.onboarding-next-step {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.6);
  border: 1px solid rgba(17, 16, 22, 0.08);
  margin: 10px 0 12px;
}

.empty-state-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 12px;
}

.App.dark-mode .onboarding-progress-bar {
  background: rgba(255, 255, 255, 0.12);
}

.App.dark-mode .onboarding-next-step {
  background: rgba(24, 32, 45, 0.9);
  border-color: rgba(138, 172, 232, 0.24);
}

/* --------------------------------------------------
   Dark mode softening + onboarding next-step contrast
-------------------------------------------------- */
.App.dark-mode {
  --ink: #d6ddea;
  --ink-soft: #a8b2c6;
}

.App.dark-mode .content-header h1,
.App.dark-mode .home-welcome-card h2,
.App.dark-mode .home-tips-card h3,
.App.dark-mode .application-essay-list-card h3,
.App.dark-mode .settings-card h3,
.App.dark-mode .tracker-top-row h2,
.App.dark-mode .tracker-form-card h3,
.App.dark-mode .application-card-top h3,
.App.dark-mode .essay-section h3,
.App.dark-mode .versions-panel h3,
.App.dark-mode .version-header strong,
.App.dark-mode .settings-panel h2,
.App.dark-mode .empty-state-main h2 {
  color: var(--ink) !important;
}

.App.dark-mode .header-subtitle,
.App.dark-mode .home-welcome-card p,
.App.dark-mode .home-tips-card p,
.App.dark-mode .application-essay-list-card p,
.App.dark-mode .settings-card p,
.App.dark-mode .versions-helper-text,
.App.dark-mode .version-meta,
.App.dark-mode .essay-section p,
.App.dark-mode .empty-state-main p,
.App.dark-mode .logout-btn,
.App.dark-mode .essay-list h3 {
  color: var(--ink-soft) !important;
}

.App.dark-mode .home-welcome-card,
.App.dark-mode .home-onboarding-card,
.App.dark-mode .application-essay-list-card,
.App.dark-mode .tracker-metric-card,
.App.dark-mode .essay-header,
.App.dark-mode .versions-panel,
.App.dark-mode .essay-section,
.App.dark-mode .settings-card,
.App.dark-mode .detail-list-card,
.App.dark-mode .insight-card,
.App.dark-mode .tracker-form-card,
.App.dark-mode .application-card,
.App.dark-mode .user-profile-card,
.App.dark-mode .empty-state-main {
  background: linear-gradient(160deg, rgba(46, 58, 80, 0.85), rgba(30, 38, 53, 0.92)) !important;
  border-color: rgba(172, 192, 224, 0.18) !important;
}

.App.dark-mode .onboarding-next-step {
  background: rgba(28, 36, 52, 0.92) !important;
  border-color: rgba(165, 186, 220, 0.28) !important;
  color: var(--ink) !important;
}

.App.dark-mode .onboarding-next-step strong,
.App.dark-mode .onboarding-next-step div {
  color: var(--ink) !important;
}

.App.dark-mode .onboarding-next-step button {
  color: #e6efff !important;
}

/* --------------------------------------------------
   Canonical layout system (single source of truth)
-------------------------------------------------- */
:root {
  --layout-gutter: 16px;
  --layout-gap: 16px;
  --layout-sidebar-width: clamp(220px, 18vw, 252px);
  --layout-app-max: 1780px;
  --layout-main-max: clamp(820px, 62vw, 1080px);
  --layout-rail-width: clamp(300px, 24vw, 380px);
}

html,
body,
#root {
  width: 100% !important;
  min-height: 100% !important;
  height: 100% !important;
}

body {
  margin: 0 !important;
  padding: 0 !important;
  overflow-x: hidden !important;
}

body.dark-body {
  background: #0f1a2b !important;
}

.App,
.App.dark-mode {
  width: 100% !important;
  max-width: 100% !important;
  min-width: 0 !important;
  height: 100vh !important;
  min-height: 100vh !important;
  margin: 0 !important;
  padding: 0 !important;
  border: 0 !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  background: transparent !important;
  overflow: visible !important;
}

.App .app-layout {
  width: 100% !important;
  max-width: var(--layout-app-max) !important;
  min-width: 0 !important;
  margin: 0 auto !important;
  padding-top: 10px !important;
  padding-bottom: 10px !important;
  padding-left: max(var(--layout-gutter), env(safe-area-inset-left)) !important;
  padding-right: max(var(--layout-gutter), env(safe-area-inset-right)) !important;
  box-sizing: border-box !important;
  display: grid !important;
  grid-template-columns: var(--layout-sidebar-width) minmax(0, 1fr) !important;
  gap: var(--layout-gap) !important;
}

.App .workspace-shell {
  grid-column: 2 / 3 !important;
  min-width: 0 !important;
  min-height: 0 !important;
  display: grid !important;
  grid-template-rows: auto minmax(0, 1fr) !important;
  gap: 14px !important;
}

.App .nav-sidebar.soft-sidebar {
  position: sticky !important;
  top: 10px !important;
  align-self: start !important;
  height: calc(100vh - 20px) !important;
  overflow: hidden !important;
}

.App .workspace-body {
  width: 100% !important;
  min-width: 0 !important;
  min-height: 0 !important;
  display: grid !important;
  grid-template-columns: minmax(0, 1fr) var(--layout-rail-width) !important;
  align-items: start !important;
  gap: var(--layout-gap) !important;
}

.App .home-hero-card {
  max-width: min(100%, 1040px) !important;
  justify-self: start !important;
}

.App .main-content,
.App .right-sidebar,
.App .right-sidebar .right-rail-card,
.App .workspace-top-controls,
.App .header-search-form,
.App .header-search-form input {
  min-width: 0 !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

.App .main-content,
.App .right-sidebar {
  width: 100% !important;
}

.App .main-content {
  max-width: var(--layout-main-max) !important;
  justify-self: start !important;
}

.App .right-sidebar {
  margin: 0 !important;
  justify-self: stretch !important;
  align-self: start !important;
  padding: clamp(16px, 1.2vw, 22px) !important;
  gap: clamp(14px, 1.1vw, 18px) !important;
  height: auto !important;
  max-height: none !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

.App .right-sidebar .right-rail-card {
  padding: clamp(14px, 1vw, 18px) !important;
  border-radius: 22px !important;
}

.App .right-sidebar .essay-item.application-item {
  width: 100% !important;
  max-width: 100% !important;
  padding: clamp(14px, 0.95vw, 18px) !important;
  border-radius: 20px !important;
}

.App .right-sidebar .essay-card-header {
  margin-bottom: 6px !important;
}

.App .right-sidebar .essay-list-header h3 {
  white-space: nowrap !important;
}

.App .right-sidebar .essay-item small {
  margin-top: 10px !important;
  line-height: 1.4 !important;
}

.App .main-content {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

.App .main-content::-webkit-scrollbar,
.App .right-sidebar::-webkit-scrollbar {
  width: 0;
  height: 0;
}

.App .main-content.is-scrolling,
.App .right-sidebar.is-scrolling {
  scrollbar-width: thin !important;
  scrollbar-color: rgba(146, 167, 198, 0.72) transparent !important;
}

.App .main-content.is-scrolling::-webkit-scrollbar,
.App .right-sidebar.is-scrolling::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

.App .main-content.is-scrolling::-webkit-scrollbar-thumb,
.App .right-sidebar.is-scrolling::-webkit-scrollbar-thumb {
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
  background-color: rgba(146, 167, 198, 0.72);
}

.App.dark-mode .main-content.is-scrolling,
.App.dark-mode .right-sidebar.is-scrolling {
  scrollbar-color: rgba(194, 214, 240, 0.5) transparent !important;
}

.App.dark-mode .main-content.is-scrolling::-webkit-scrollbar-thumb,
.App.dark-mode .right-sidebar.is-scrolling::-webkit-scrollbar-thumb {
  background-color: rgba(194, 214, 240, 0.5);
}

/* Sidebar list scrollbar: visible only during active scroll */
.App .soft-nav-list {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
  flex: 1 1 auto !important;
  min-height: 0 !important;
}

.App .soft-nav-list::-webkit-scrollbar {
  width: 0;
  height: 0;
}

.App .soft-nav-list.is-scrolling {
  scrollbar-width: thin !important;
}

.App .soft-nav-list.is-scrolling::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

.App:not(.dark-mode) .soft-nav-list.is-scrolling {
  scrollbar-color: rgba(168, 171, 178, 0.66) transparent !important;
}

.App:not(.dark-mode) .soft-nav-list.is-scrolling::-webkit-scrollbar-thumb {
  background-color: rgba(168, 171, 178, 0.66);
}

.App.dark-mode .soft-nav-list.is-scrolling {
  scrollbar-color: rgba(194, 214, 240, 0.5) transparent !important;
}

.App.dark-mode .soft-nav-list.is-scrolling::-webkit-scrollbar-thumb {
  background-color: rgba(194, 214, 240, 0.5);
}

.App .soft-nav-list::-webkit-scrollbar-thumb {
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
  background-color: transparent;
}

.App .soft-nav-list::-webkit-scrollbar-track {
  background: transparent;
}

.App .onboarding-header-top {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 12px !important;
}

.App .onboarding-header-actions {
  display: inline-flex !important;
  align-items: center !important;
  gap: 8px !important;
  flex-wrap: wrap !important;
}

.App .onboarding-dismiss-inline {
  min-height: 34px !important;
  padding: 0 12px !important;
  margin: 0 !important;
}

.App .onboarding-hide-inline {
  min-height: 34px !important;
  padding: 0 12px !important;
  margin: 0 !important;
}

.App .dismiss-onboarding-btn.onboarding-hide-inline {
  background: transparent !important;
  border: 1px solid rgba(110, 142, 122, 0.45) !important;
  color: #4f6a5a !important;
}

.App .dismiss-onboarding-btn.onboarding-dismiss-inline {
  background: #c58a8a !important;
  border: 1px solid rgba(185, 122, 122, 0.64) !important;
  color: #fff6f6 !important;
}

.App.dark-mode .dismiss-onboarding-btn.onboarding-hide-inline {
  background: rgba(22, 38, 61, 0.4) !important;
  border: 1px solid rgba(147, 184, 162, 0.55) !important;
  color: #e6f2ea !important;
}

.App.dark-mode .dismiss-onboarding-btn.onboarding-dismiss-inline {
  background: rgba(197, 138, 138, 0.55) !important;
  border: 1px solid rgba(197, 138, 138, 0.75) !important;
  color: #fff5f5 !important;
}

/* Top ribbon: keep controls on one row while search shrinks first */
.App .workspace-top-controls {
  width: 100% !important;
  min-width: 0 !important;
  padding-inline-end: 0 !important;
  display: flex !important;
  align-items: center !important;
  flex-wrap: nowrap !important;
  gap: 10px !important;
  overflow: visible !important;
}

.App .header-search-form {
  flex: 1 1 auto !important;
  min-width: 0 !important;
  width: auto !important;
  margin: 0 !important;
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
}

.App .header-search-form input {
  flex: 1 1 auto !important;
  width: auto !important;
  min-width: 0 !important;
}

.App .header-search-form button {
  flex: 0 0 auto !important;
  min-width: 78px !important;
  padding: 0 12px !important;
}

.App .header-create-menu,
.App .header-icon-btn,
.App .header-profile-menu {
  flex: 0 0 auto !important;
  margin: 0 !important;
}

.App .header-profile-menu {
  margin-right: 0 !important;
}

.App .header-create-btn {
  min-width: 88px !important;
  padding: 0 12px !important;
}

/* Dark layout parity with light-mode structure */
.App.dark-mode {
  background: #0f1a2b !important;
}

.App.dark-mode .workspace-shell,
.App.dark-mode .workspace-top-controls,
.App.dark-mode .soft-sidebar {
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}

.App.dark-mode .main-content,
.App.dark-mode .right-sidebar {
  background: #13233a !important;
  border-color: rgba(166, 188, 224, 0.16) !important;
  box-shadow: none !important;
}

.App.dark-mode .home-welcome-card,
.App.dark-mode .home-onboarding-card,
.App.dark-mode .home-checklist-card,
.App.dark-mode .application-essay-list-card,
.App.dark-mode .tracker-metric-card,
.App.dark-mode .tracker-form-card,
.App.dark-mode .application-card,
.App.dark-mode .settings-card,
.App.dark-mode .detail-list-card,
.App.dark-mode .insight-card,
.App.dark-mode .essay-header,
.App.dark-mode .essay-section,
.App.dark-mode .versions-panel,
.App.dark-mode .review-section,
.App.dark-mode .right-rail-card {
  background: linear-gradient(160deg, rgba(98, 123, 172, 0.18), rgba(181, 156, 214, 0.1) 32%, rgba(46, 60, 86, 0.88) 100%) !important;
  border-color: rgba(177, 197, 230, 0.22) !important;
}

.App.dark-mode .header-search-form button,
.App.dark-mode .header-create-btn,
.App.dark-mode .home-hero-actions .new-essay-btn,
.App.dark-mode .home-hero-actions .secondary-action-btn {
  background: linear-gradient(180deg, rgba(205, 219, 241, 0.92), rgba(190, 208, 235, 0.9)) !important;
  color: #2a3a56 !important;
  border-color: rgba(160, 182, 216, 0.64) !important;
}

.App.dark-mode .header-search-form button:hover,
.App.dark-mode .header-create-btn:hover,
.App.dark-mode .home-hero-actions .new-essay-btn:hover,
.App.dark-mode .home-hero-actions .secondary-action-btn:hover {
  background: linear-gradient(180deg, rgba(220, 232, 250, 0.95), rgba(204, 221, 245, 0.92)) !important;
  color: #22324d !important;
}

.App.dark-mode .onboarding-next-step,
.App.dark-mode .onboarding-next-step strong,
.App.dark-mode .onboarding-next-step span,
.App.dark-mode .onboarding-next-step div {
  color: #e0e9fb !important;
}

@media (max-width: 1360px) {
  .App .workspace-body {
    grid-template-columns: minmax(0, 1fr) clamp(264px, 24vw, 320px) !important;
  }
}

@media (max-width: 1200px) {
  .App .app-layout {
    grid-template-columns: 92px minmax(0, 1fr) !important;
  }

  .App .workspace-body {
    grid-template-columns: minmax(0, 1fr) minmax(220px, 280px) !important;
  }

  .App .nav-sidebar.soft-sidebar {
    padding: 10px 6px 14px !important;
  }

  .App .sidebar-brand {
    justify-content: center !important;
    padding-left: 0 !important;
  }

  .App .sidebar-brand-text,
  .App .nav-group-toggle span:first-child,
  .App .soft-nav-item span:last-child {
    display: none !important;
  }

  .App .nav-group-toggle {
    justify-content: center !important;
    padding: 4px 0 !important;
  }

  .App .soft-nav-list {
    padding: 2px 4px 0 !important;
    gap: 6px !important;
  }

  .App .soft-nav-item {
    min-height: 44px !important;
    justify-content: center !important;
    padding: 0 !important;
    border-radius: 12px !important;
  }

  .App .soft-nav-item .nav-icon-glyph {
    margin: 0 !important;
  }
}

@media (max-width: 1080px) {
  .App .workspace-body {
    grid-template-columns: 1fr !important;
  }

  .App .right-sidebar {
    grid-column: 1 / -1 !important;
    margin-top: 10px !important;
  }
}

@media (max-width: 980px) {
  .App .workspace-top-controls {
    flex-wrap: wrap !important;
    row-gap: 8px !important;
  }

  .App .onboarding-dismiss-inline {
    width: auto !important;
  }

  .App .header-create-menu,
  .App .header-icon-btn,
  .App .header-profile-menu {
    order: 1 !important;
  }

  .App .header-search-form {
    order: 2 !important;
    flex: 1 1 100% !important;
  }
}

@media (max-width: 920px) {
  .App .app-layout {
    grid-template-columns: 1fr !important;
    padding-left: 10px !important;
    padding-right: 10px !important;
    gap: 10px !important;
  }

  .App .nav-sidebar.soft-sidebar,
  .App .workspace-shell {
    grid-column: 1 / -1 !important;
  }

  .App .nav-sidebar.soft-sidebar {
    position: static !important;
    top: auto !important;
    height: auto !important;
    overflow: visible !important;
    padding: 10px !important;
  }

  .App .sidebar-brand,
  .App .sidebar-theme-slot {
    display: none !important;
  }

  .App .soft-nav-list {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(44px, 1fr)) !important;
    gap: 8px !important;
    max-height: none !important;
    overflow: visible !important;
    padding: 0 !important;
  }

  .App .nav-group {
    display: contents !important;
  }

  .App .nav-group-toggle {
    display: none !important;
  }

  .App .nav-group-items {
    display: contents !important;
  }

  .App .soft-nav-item {
    min-height: 44px !important;
    justify-content: center !important;
    padding: 0 !important;
    border-radius: 12px !important;
  }

  .App .soft-nav-item span:last-child {
    display: none !important;
  }

  .App .onboarding-header-top {
    flex-direction: column !important;
    align-items: flex-start !important;
  }

  .App .onboarding-header-actions {
    width: 100% !important;
    justify-content: flex-start !important;
  }

  .App .header-search-form {
    order: 1 !important;
  }
}

/* --------------------------------------------------
   Palette 2 final pass (global, reversible)
-------------------------------------------------- */
:root {
  --p2-light-bg: #f7f3ee;
  --p2-light-surface: #fff9f2;
  --p2-light-panel: #fffdf9;
  --p2-light-text: #1f2735;
  --p2-light-muted: #657287;
  --p2-light-border: rgba(103, 92, 84, 0.18);
  --p2-light-border-strong: rgba(103, 92, 84, 0.26);

  --p2-dark-bg: #0f1a2a;
  --p2-dark-surface: #16263d;
  --p2-dark-panel: #1d314d;
  --p2-dark-card: #243a59;
  --p2-dark-text: #dbe6f5;
  --p2-dark-muted: #a7b7cc;
  --p2-dark-border: rgba(164, 184, 214, 0.28);
  --p2-dark-border-strong: rgba(185, 202, 228, 0.36);

  --p2-sage: #6e8e7a;
  --p2-sage-strong: #5f7f6b;
  --p2-sage-soft: rgba(110, 142, 122, 0.16);
  --p2-rose: #c58a8a;
  --p2-rose-strong: #b97a7a;
  --p2-rose-soft: rgba(197, 138, 138, 0.18);
}

body:not(.dark-body) {
  color-scheme: light !important;
  background: var(--p2-light-bg) !important;
}

body.dark-body {
  color-scheme: dark !important;
  background:
    radial-gradient(circle at 12% 14%, rgba(110, 142, 122, 0.12), transparent 44%),
    radial-gradient(circle at 88% 10%, rgba(197, 138, 138, 0.1), transparent 46%),
    var(--p2-dark-bg) !important;
}

.App:not(.dark-mode) {
  background: var(--p2-light-bg) !important;
  color: var(--p2-light-text) !important;
}

.App.dark-mode {
  background: var(--p2-dark-bg) !important;
  color: var(--p2-dark-text) !important;
}

.App:not(.dark-mode) .workspace-shell,
.App:not(.dark-mode) .workspace-top-controls,
.App:not(.dark-mode) .app-layout,
.App.dark-mode .workspace-shell,
.App.dark-mode .workspace-top-controls,
.App.dark-mode .app-layout {
  background: transparent !important;
}

.App:not(.dark-mode) .soft-sidebar,
.App:not(.dark-mode) .nav-sidebar.soft-sidebar {
  background: transparent !important;
  border-color: transparent !important;
  box-shadow: none !important;
}

.App:not(.dark-mode) .nav-drawer,
.App:not(.dark-mode) .soft-nav-drawer,
.App:not(.dark-mode) .nav-sidebar.soft-sidebar .soft-nav-drawer {
  background: transparent !important;
  border-color: transparent !important;
  box-shadow: none !important;
}

.App.dark-mode .soft-sidebar,
.App.dark-mode .nav-sidebar.soft-sidebar,
.App.dark-mode .nav-sidebar.soft-sidebar .soft-nav-drawer {
  background:
    linear-gradient(180deg, rgba(22, 38, 61, 0.96), rgba(18, 33, 54, 0.98)),
    radial-gradient(circle at 85% 12%, rgba(110, 142, 122, 0.12), transparent 42%) !important;
  border-color: var(--p2-dark-border) !important;
}

.App:not(.dark-mode) .main-content,
.App:not(.dark-mode) .right-sidebar {
  background: var(--p2-light-surface) !important;
  border-color: var(--p2-light-border-strong) !important;
  box-shadow: 0 18px 36px rgba(63, 54, 47, 0.08) !important;
}

.App.dark-mode .main-content,
.App.dark-mode .right-sidebar {
  background:
    linear-gradient(166deg, rgba(25, 44, 70, 0.92), rgba(18, 34, 56, 0.96)),
    radial-gradient(circle at 16% 0%, rgba(110, 142, 122, 0.12), transparent 44%),
    radial-gradient(circle at 86% 8%, rgba(197, 138, 138, 0.08), transparent 46%) !important;
  border-color: var(--p2-dark-border) !important;
  box-shadow: 0 22px 46px rgba(3, 8, 15, 0.42) !important;
}

.App:not(.dark-mode) .home-welcome-card,
.App:not(.dark-mode) .home-onboarding-card,
.App:not(.dark-mode) .home-checklist-card,
.App:not(.dark-mode) .home-metric-card,
.App:not(.dark-mode) .home-tips-card,
.App:not(.dark-mode) .application-essay-list-card,
.App:not(.dark-mode) .tracker-metric-card,
.App:not(.dark-mode) .tracker-form-card,
.App:not(.dark-mode) .application-card,
.App:not(.dark-mode) .settings-card,
.App:not(.dark-mode) .detail-list-card,
.App:not(.dark-mode) .insight-card,
.App:not(.dark-mode) .essay-header,
.App:not(.dark-mode) .essay-section,
.App:not(.dark-mode) .versions-panel,
.App:not(.dark-mode) .review-section,
.App:not(.dark-mode) .right-rail-card {
  background:
    linear-gradient(152deg, rgba(110, 142, 122, 0.08), rgba(255, 253, 249, 0.98) 45%, rgba(197, 138, 138, 0.06) 100%) !important;
  border-color: var(--p2-light-border) !important;
}

.App.dark-mode .home-welcome-card,
.App.dark-mode .home-onboarding-card,
.App.dark-mode .home-checklist-card,
.App.dark-mode .home-metric-card,
.App.dark-mode .home-tips-card,
.App.dark-mode .application-essay-list-card,
.App.dark-mode .tracker-metric-card,
.App.dark-mode .tracker-form-card,
.App.dark-mode .application-card,
.App.dark-mode .settings-card,
.App.dark-mode .detail-list-card,
.App.dark-mode .insight-card,
.App.dark-mode .essay-header,
.App.dark-mode .essay-section,
.App.dark-mode .versions-panel,
.App.dark-mode .review-section,
.App.dark-mode .right-rail-card {
  background:
    linear-gradient(154deg, rgba(110, 142, 122, 0.18), rgba(30, 50, 78, 0.92) 42%, rgba(197, 138, 138, 0.12) 100%) !important;
  border-color: var(--p2-dark-border) !important;
}

.App.dark-mode .right-sidebar .essay-item,
.App.dark-mode .right-sidebar .essay-item.application-item,
.App.dark-mode .onboarding-next-step,
.App.dark-mode .onboarding-step {
  background: rgba(30, 48, 74, 0.82) !important;
  border-color: var(--p2-dark-border) !important;
}

.App:not(.dark-mode) .soft-nav-item {
  background: rgba(255, 252, 247, 0.75) !important;
  border-color: transparent !important;
  color: var(--p2-light-text) !important;
}

.App:not(.dark-mode) .soft-nav-item:hover {
  background: var(--p2-sage-soft) !important;
  border-color: rgba(110, 142, 122, 0.32) !important;
}

.App:not(.dark-mode) .soft-nav-item.active {
  background: var(--p2-sage) !important;
  border-color: rgba(95, 127, 107, 0.62) !important;
  color: #f4faf5 !important;
}

.App:not(.dark-mode) .sidebar-theme-slot .app-theme-toggle {
  background: rgba(255, 255, 255, 0.55) !important;
  border-color: rgba(110, 142, 122, 0.22) !important;
  box-shadow: none !important;
  backdrop-filter: blur(6px);
}

.App:not(.dark-mode) .sidebar-theme-slot .app-theme-toggle__thumb {
  background: rgba(31, 39, 53, 0.92) !important;
}

.App.dark-mode .sidebar-theme-slot .app-theme-toggle {
  background: rgba(18, 33, 55, 0.7) !important;
  border-color: rgba(164, 184, 214, 0.24) !important;
  box-shadow: none !important;
}

.App.dark-mode .soft-nav-item {
  background: rgba(23, 41, 66, 0.76) !important;
  border-color: var(--p2-dark-border) !important;
  color: var(--p2-dark-text) !important;
}

.App.dark-mode .soft-nav-item:hover {
  background: rgba(110, 142, 122, 0.24) !important;
  border-color: rgba(110, 142, 122, 0.48) !important;
}

.App.dark-mode .soft-nav-item.active,
.App.dark-mode .nav-drawer-item.soft-nav-item.active,
.App.dark-mode .soft-nav-list .soft-nav-item.active {
  background: rgba(197, 138, 138, 0.28) !important;
  border-color: rgba(197, 138, 138, 0.56) !important;
  color: #fff7f7 !important;
}

.App:not(.dark-mode) .header-search-form input {
  background: rgba(255, 253, 249, 0.94) !important;
  border-color: var(--p2-light-border-strong) !important;
  color: var(--p2-light-text) !important;
}

.App:not(.dark-mode) .header-search-form input::placeholder {
  color: #7b8596 !important;
}

.App.dark-mode .header-search-form input {
  background: rgba(17, 31, 50, 0.86) !important;
  border-color: var(--p2-dark-border) !important;
  color: var(--p2-dark-text) !important;
}

.App.dark-mode .header-search-form input::placeholder {
  color: var(--p2-dark-muted) !important;
}

.App:not(.dark-mode) .header-icon-btn,
.App:not(.dark-mode) .header-profile-trigger {
  background: rgba(255, 252, 246, 0.92) !important;
  border-color: var(--p2-light-border) !important;
  color: var(--p2-light-text) !important;
}

.App.dark-mode .header-icon-btn,
.App.dark-mode .header-profile-trigger {
  background: rgba(18, 33, 55, 0.82) !important;
  border-color: var(--p2-dark-border) !important;
  color: var(--p2-dark-text) !important;
}

.App .new-essay-btn,
.App .right-rail-action-primary,
.App .header-search-form button,
.App .onboarding-next-step button {
  background: var(--p2-sage) !important;
  background-image: none !important;
  border-color: rgba(95, 127, 107, 0.58) !important;
  color: #f4faf5 !important;
}

.App .secondary-action-btn,
.App .right-rail-action-secondary,
.App .header-create-btn,
.App .dismiss-onboarding-btn {
  background: var(--p2-rose) !important;
  background-image: none !important;
  border-color: rgba(185, 122, 122, 0.56) !important;
  color: #fff6f6 !important;
}

.App .view-all-apps-btn,
.App .history-btn {
  background: rgba(110, 142, 122, 0.14) !important;
  border-color: rgba(110, 142, 122, 0.34) !important;
  color: #4c6958 !important;
}

.App.dark-mode .view-all-apps-btn,
.App.dark-mode .history-btn {
  background: rgba(110, 142, 122, 0.24) !important;
  border-color: rgba(147, 184, 162, 0.42) !important;
  color: #e5f2ea !important;
}

.App .score-pill,
.App .program-type {
  background: rgba(110, 142, 122, 0.2) !important;
  border-color: rgba(110, 142, 122, 0.34) !important;
  color: #4f6959 !important;
}

.App.dark-mode .score-pill,
.App.dark-mode .program-type {
  background: rgba(110, 142, 122, 0.32) !important;
  border-color: rgba(147, 184, 162, 0.46) !important;
  color: #e8f3ec !important;
}

.App .form-group input,
.App .form-group select,
.App .form-group textarea,
.App .tracker-search-row input,
.App .docs-application-select,
.App .doc-item-header select,
.App .doc-item textarea {
  border-width: 1px !important;
}

.App:not(.dark-mode) .form-group input,
.App:not(.dark-mode) .form-group select,
.App:not(.dark-mode) .form-group textarea,
.App:not(.dark-mode) .tracker-search-row input,
.App:not(.dark-mode) .docs-application-select,
.App:not(.dark-mode) .doc-item-header select,
.App:not(.dark-mode) .doc-item textarea {
  background: rgba(255, 253, 248, 0.96) !important;
  border-color: var(--p2-light-border) !important;
  color: var(--p2-light-text) !important;
}

.App:not(.dark-mode) .form-group input:focus,
.App:not(.dark-mode) .form-group select:focus,
.App:not(.dark-mode) .form-group textarea:focus,
.App:not(.dark-mode) .tracker-search-row input:focus,
.App:not(.dark-mode) .docs-application-select:focus,
.App:not(.dark-mode) .doc-item-header select:focus,
.App:not(.dark-mode) .doc-item textarea:focus {
  border-color: rgba(110, 142, 122, 0.58) !important;
  box-shadow: 0 0 0 3px rgba(110, 142, 122, 0.14) !important;
}

.App.dark-mode .form-group input,
.App.dark-mode .form-group select,
.App.dark-mode .form-group textarea,
.App.dark-mode .tracker-search-row input,
.App.dark-mode .docs-application-select,
.App.dark-mode .doc-item-header select,
.App.dark-mode .doc-item textarea {
  background: rgba(22, 38, 61, 0.84) !important;
  border-color: var(--p2-dark-border) !important;
  color: var(--p2-dark-text) !important;
}

.App.dark-mode .form-group input:focus,
.App.dark-mode .form-group select:focus,
.App.dark-mode .form-group textarea:focus,
.App.dark-mode .tracker-search-row input:focus,
.App.dark-mode .docs-application-select:focus,
.App.dark-mode .doc-item-header select:focus,
.App.dark-mode .doc-item textarea:focus {
  border-color: rgba(147, 184, 162, 0.6) !important;
  box-shadow: 0 0 0 3px rgba(110, 142, 122, 0.2) !important;
}

.App:not(.dark-mode) .workspace-area p,
.App:not(.dark-mode) .workspace-area span,
.App:not(.dark-mode) .workspace-area small,
.App:not(.dark-mode) .right-sidebar p,
.App:not(.dark-mode) .right-sidebar span,
.App:not(.dark-mode) .right-sidebar small,
.App:not(.dark-mode) .header-subtitle {
  color: var(--p2-light-muted) !important;
}

.App.dark-mode .workspace-area p,
.App.dark-mode .workspace-area span,
.App.dark-mode .workspace-area small,
.App.dark-mode .right-sidebar p,
.App.dark-mode .right-sidebar span,
.App.dark-mode .right-sidebar small,
.App.dark-mode .header-subtitle {
  color: var(--p2-dark-muted) !important;
}

/* --------------------------------------------------
   Layout + nav cleanup hotfix
-------------------------------------------------- */
html,
body,
#root {
  height: 100% !important;
  min-height: 100% !important;
}

body {
  overflow-x: hidden !important;
  overflow-y: hidden !important;
}

.App,
.App.dark-mode {
  height: 100vh !important;
  min-height: 100vh !important;
  overflow: hidden !important;
}

.App .app-layout {
  height: 100% !important;
  min-height: 0 !important;
  align-items: stretch !important;
}

.App .workspace-shell {
  height: 100% !important;
  min-height: 0 !important;
}

.App .workspace-body {
  height: 100% !important;
  min-height: 0 !important;
}

.App .main-content,
.App .right-sidebar {
  max-height: 100% !important;
}

.App .nav-sidebar.soft-sidebar::before,
.App.dark-mode .nav-sidebar.soft-sidebar::before {
  content: none !important;
  display: none !important;
}

.App .soft-nav-item {
  border-color: transparent !important;
  box-shadow: none !important;
  border-width: 1px !important;
}

.App:not(.dark-mode) .soft-nav-item:hover {
  border-color: rgba(110, 142, 122, 0.32) !important;
}

.App.dark-mode .soft-nav-item:hover {
  border-color: rgba(110, 142, 122, 0.44) !important;
}

.App .soft-nav-item.active,
.App.dark-mode .soft-nav-item.active,
.App.dark-mode .nav-drawer-item.soft-nav-item.active,
.App.dark-mode .soft-nav-list .soft-nav-item.active {
  box-shadow: 0 8px 18px rgba(0, 0, 0, 0.12) !important;
}

/* Sidebar options: no outline for unselected + slightly smaller labels */
.App .soft-nav-item {
  background: transparent !important;
  border-color: transparent !important;
}

.App .soft-nav-item span:last-child {
  font-size: 1.02rem !important;
}

.App .soft-nav-item:not(.active) {
  background: transparent !important;
  border-color: transparent !important;
  box-shadow: none !important;
}

.App:not(.dark-mode) .soft-nav-item:not(.active),
.App:not(.dark-mode) .nav-drawer-item.soft-nav-item:not(.active) {
  background: transparent !important;
  border-color: transparent !important;
  box-shadow: none !important;
}

.App:not(.dark-mode) .soft-nav-item:not(.active):hover,
.App:not(.dark-mode) .nav-drawer-item.soft-nav-item:not(.active):hover {
  background: rgba(110, 142, 122, 0.08) !important;
  border-color: transparent !important;
}

/* Tracker form heading emphasis */
.App .tracker-form-card h3 {
  font-size: 1.25rem !important;
  font-weight: 700 !important;
  letter-spacing: -0.01em !important;
}

/* --------------------------------------------------
   Dark mode refresh (true charcoal + darker amethyst)
   Scoped to dark mode only.
-------------------------------------------------- */
body.dark-body {
  background: #111317 !important;
}

.App.dark-mode {
  --dm-bg: #111317;
  --dm-surface-1: #1a1d22;
  --dm-surface-2: #20242b;
  --dm-surface-3: #262c34;
  --dm-border: rgba(188, 198, 214, 0.2);
  --dm-text: #e8edf6;
  --dm-text-soft: #b6c0d0;
  --dm-primary: #5f4aa6;
  --dm-primary-hover: #6b56b3;
  --dm-primary-border: rgba(143, 124, 216, 0.58);
  --dm-secondary: #3f6f73;
  --dm-secondary-hover: #4b7f84;
  --dm-secondary-border: rgba(120, 167, 173, 0.52);

  /* override broad palette-2 dark vars to kill leftover blue layers */
  --p2-dark-bg: #111317;
  --p2-dark-surface: #1a1d22;
  --p2-dark-panel: #20242b;
  --p2-dark-card: #262c34;
  --p2-dark-text: #e8edf6;
  --p2-dark-muted: #b6c0d0;
  --p2-dark-border: rgba(188, 198, 214, 0.2);
  --p2-dark-border-strong: rgba(188, 198, 214, 0.3);
}

.App.dark-mode,
.App.dark-mode .workspace-shell,
.App.dark-mode .workspace-top-controls,
.App.dark-mode .app-layout,
.App.dark-mode .soft-sidebar,
.App.dark-mode .nav-sidebar.soft-sidebar,
.App.dark-mode .nav-sidebar.soft-sidebar .soft-nav-drawer {
  background: var(--dm-bg) !important;
  background-image: none !important;
  border-color: var(--dm-border) !important;
}

.App.dark-mode .main-content,
.App.dark-mode .right-sidebar {
  background: linear-gradient(170deg, var(--dm-surface-1), var(--dm-surface-2)) !important;
  background-image: linear-gradient(170deg, var(--dm-surface-1), var(--dm-surface-2)) !important;
  border-color: var(--dm-border) !important;
  box-shadow: 0 20px 44px rgba(0, 0, 0, 0.34) !important;
}

.App.dark-mode .home-welcome-card,
.App.dark-mode .home-onboarding-card,
.App.dark-mode .home-checklist-card,
.App.dark-mode .home-metric-card,
.App.dark-mode .home-tips-card,
.App.dark-mode .application-essay-list-card,
.App.dark-mode .tracker-metric-card,
.App.dark-mode .tracker-form-card,
.App.dark-mode .application-card,
.App.dark-mode .settings-card,
.App.dark-mode .detail-list-card,
.App.dark-mode .insight-card,
.App.dark-mode .essay-header,
.App.dark-mode .essay-section,
.App.dark-mode .versions-panel,
.App.dark-mode .review-section,
.App.dark-mode .right-rail-card,
.App.dark-mode .essay-item.application-item,
.App.dark-mode .onboarding-step,
.App.dark-mode .onboarding-next-step {
  background: linear-gradient(165deg, rgba(38, 44, 52, 0.95), rgba(30, 35, 42, 0.95)) !important;
  border-color: var(--dm-border) !important;
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.26) !important;
}

/* Disable older tint overlays that were reintroducing blue/warm casts */
.App.dark-mode .application-essay-list-card::before,
.App.dark-mode .tracker-form-card::before,
.App.dark-mode .essay-header::before,
.App.dark-mode .essay-section::before {
  background: none !important;
  opacity: 0 !important;
}

.App.dark-mode .soft-nav-item {
  background: transparent !important;
  border-color: transparent !important;
  color: var(--dm-text) !important;
}

.App.dark-mode .soft-nav-item:hover {
  background: rgba(95, 74, 166, 0.16) !important;
  border-color: rgba(143, 124, 216, 0.44) !important;
}

.App.dark-mode .soft-nav-item.active,
.App.dark-mode .nav-drawer-item.soft-nav-item.active,
.App.dark-mode .soft-nav-list .soft-nav-item.active {
  background: rgba(95, 74, 166, 0.34) !important;
  border-color: var(--dm-primary-border) !important;
  color: #f1ecff !important;
}

.App.dark-mode h1,
.App.dark-mode h2,
.App.dark-mode h3,
.App.dark-mode h4,
.App.dark-mode strong,
.App.dark-mode .workspace-title,
.App.dark-mode .right-sidebar .essay-card-header strong {
  color: var(--dm-text) !important;
}

.App.dark-mode p,
.App.dark-mode span,
.App.dark-mode small,
.App.dark-mode .header-subtitle {
  color: var(--dm-text-soft) !important;
}

.App.dark-mode .header-search-form input,
.App.dark-mode .form-group input,
.App.dark-mode .form-group select,
.App.dark-mode .form-group textarea,
.App.dark-mode .tracker-search-row input,
.App.dark-mode .docs-application-select,
.App.dark-mode .doc-item-header select,
.App.dark-mode .doc-item textarea {
  background: rgba(20, 24, 30, 0.92) !important;
  border-color: var(--dm-border) !important;
  color: var(--dm-text) !important;
}

.App.dark-mode .header-search-form input::placeholder,
.App.dark-mode .form-group input::placeholder,
.App.dark-mode .form-group textarea::placeholder {
  color: #9da8bb !important;
}

.App.dark-mode .new-essay-btn,
.App.dark-mode .right-rail-action-primary,
.App.dark-mode .header-search-form button,
.App.dark-mode .onboarding-next-step button {
  background: var(--dm-primary) !important;
  border-color: var(--dm-primary-border) !important;
  color: #f7f3ff !important;
}

.App.dark-mode .new-essay-btn:hover,
.App.dark-mode .right-rail-action-primary:hover,
.App.dark-mode .header-search-form button:hover,
.App.dark-mode .onboarding-next-step button:hover {
  background: var(--dm-primary-hover) !important;
}

.App.dark-mode .secondary-action-btn,
.App.dark-mode .right-rail-action-secondary,
.App.dark-mode .header-create-btn,
.App.dark-mode .dismiss-onboarding-btn,
.App.dark-mode .onboarding-hide-inline {
  background: var(--dm-secondary) !important;
  border-color: var(--dm-secondary-border) !important;
  color: #edf7f8 !important;
}

.App.dark-mode .secondary-action-btn:hover,
.App.dark-mode .right-rail-action-secondary:hover,
.App.dark-mode .header-create-btn:hover,
.App.dark-mode .dismiss-onboarding-btn:hover,
.App.dark-mode .onboarding-hide-inline:hover {
  background: var(--dm-secondary-hover) !important;
}

.App.dark-mode .view-all-apps-btn,
.App.dark-mode .history-btn {
  background: rgba(95, 74, 166, 0.2) !important;
  border-color: rgba(143, 124, 216, 0.4) !important;
  color: #e9e1ff !important;
}

.App.dark-mode .score-pill,
.App.dark-mode .program-type {
  background: rgba(41, 47, 57, 0.86) !important;
  border-color: rgba(151, 163, 186, 0.34) !important;
  color: #d7dfef !important;
}

.App.dark-mode .header-icon-btn,
.App.dark-mode .header-profile-trigger {
  background: rgba(25, 29, 36, 0.9) !important;
  border-color: var(--dm-border) !important;
  color: var(--dm-text) !important;
}

.App.dark-mode .sidebar-theme-slot .app-theme-toggle {
  background: rgba(25, 29, 36, 0.9) !important;
  border-color: var(--dm-border) !important;
}

.App.dark-mode .sidebar-theme-slot .app-theme-toggle__thumb {
  background: var(--dm-primary) !important;
}
